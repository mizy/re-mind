<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: View/Nodes/Nodes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: View/Nodes/Nodes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>export default {
    /**
     * 节点渲染器，默认为default
     */
    nodes:{
        /**
         * 支持icon，note的节点
         * @name Remind.nodes#default
         * @function
         * @param {Item} item 
         * @param {HTMLElement} container 
         */
        default:(item,container)=>{
            container.innerHTML = '';
            const {data} = item;
            // 生成icon
            const iconDOM = document.createElement('ul');
            iconDOM.className = 'remind-icon';
            const icon = data.icon;
            let iconList = '';
            for (let key in icon) {
                if (icon[key])
                    iconList += `&lt;li class="mind-icon ${icon[key]}" data-key="${key}">&lt;/li>`;
            }
            iconDOM.innerHTML = iconList;
            item.iconDOM = iconDOM;
            container.appendChild(iconDOM);
            // 生成text
            const text = document.createElement('div');
            text.className = 'item-text';
            Object.assign(text.style,data.textStyle);
            text.innerHTML = data.text === undefined ? '' : data.text;
            item.textDOM = text;
            container.appendChild(text);
             // 生成note
            const note = document.createElement('div');
            note.className = 'item-note';
            item.noteDOM = note;
            note.style.display = data.note !== undefined ? 'block' : 'none'
            container.appendChild(note);
            // 注册样式
            if(data.style){
                Object.assign(container.style,data.style)
            }

            // 监听事件
            note.addEventListener("click",()=>{
                item.startNote();
            })
            item.textDOM.addEventListener("keydown",item.onKeyDown);
            item.textDOM.addEventListener("blur",item.onBlur);
        },
        ghost:(item,container)=>{
            container.innerHTML = '';
            const {data} = item; 
            // 生成text
            const text = document.createElement('div');
            text.className = 'item-text item-ghost';
            text.innerHTML = data.text === undefined ? '' : data.text;
            item.textDOM = text;
            container.appendChild(text); 
        },
    },
  
    /**
     * @name Remind.nodes#registerNode
     * @param {String} type 
     * @param {Function} func 
     */
    registerNode:(type,func)=>{
        this.nodes[type] = func
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Remind.html">Remind</a></li></ul><h3>Classes</h3><ul><li><a href="Action.html">Action</a></li><li><a href="Command.html">Command</a></li><li><a href="Controller.html">Controller</a></li><li><a href="DragTool.html">DragTool</a></li><li><a href="History.html">History</a></li><li><a href="Item.html">Item</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="Menu.html">Menu</a></li><li><a href="MM.Clipboard.html">Clipboard</a></li><li><a href="Note.html">Note</a></li><li><a href="Page.html">Page</a></li><li><a href="Remind.html">Remind</a></li></ul><h3>Events</h3><ul><li><a href="Remind.html#event:item:afterToggle">item:afterToggle</a></li><li><a href="Remind.html#event:item:beforeToggle">item:beforeToggle</a></li><li><a href="Remind.html#event:item:click">item:click</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Jun 30 2021 20:02:23 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
