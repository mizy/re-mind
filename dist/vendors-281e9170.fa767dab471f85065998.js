(self.webpackChunk_tntx_remind=self.webpackChunk_tntx_remind||[]).push([[431],{25715:(e,r,t)=>{"use strict";function n(){return(n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,r){return(a=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,r,t){return(s=u()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var i=new(Function.bind.apply(e,n));return t&&a(i,t.prototype),i}).apply(null,arguments)}function o(e){var r="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}t.d(r,{Z:()=>F});var f=/%[sdj%]/g;function l(e){if(!e||!e.length)return null;var r={};return e.forEach((function(e){var t=e.field;r[t]=r[t]||[],r[t].push(e)})),r}function c(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=1,i=r[0],a=r.length;if("function"==typeof i)return i.apply(null,r.slice(1));if("string"==typeof i){var u=String(i).replace(f,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}break;default:return e}}));return u}return i}function d(e,r){return null==e||!("array"!==r||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(r)||"string"!=typeof e||e)}function p(e,r,t){var n=0,i=e.length;!function a(u){if(u&&u.length)t(u);else{var s=n;n+=1,s<i?r(e[s],a):t([])}}([])}"undefined"!=typeof process&&process.env;var y=function(e){var r,t;function n(r,t){var n;return(n=e.call(this,"Async Validation Error")||this).errors=r,n.fields=t,n}return t=e,(r=n).prototype=Object.create(t.prototype),r.prototype.constructor=r,a(r,t),n}(o(Error));function h(e){return function(r){return r&&r.message?(r.field=r.field||e.fullField,r):{message:"function"==typeof r?r():r,field:r.field||e.fullField}}}function g(e,r){if(r)for(var t in r)if(r.hasOwnProperty(t)){var i=r[t];"object"==typeof i&&"object"==typeof e[t]?e[t]=n({},e[t],i):e[t]=i}return e}function m(e,r,t,n,i,a){!e.required||t.hasOwnProperty(e.field)&&!d(r,a||e.type)||n.push(c(i.messages.required,e.fullField))}var v={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},q={integer:function(e){return q.number(e)&&parseInt(e,10)===e},float:function(e){return q.number(e)&&!q.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!q.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(v.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(v.url)},hex:function(e){return"string"==typeof e&&!!e.match(v.hex)}},b={required:m,whitespace:function(e,r,t,n,i){(/^\s+$/.test(r)||""===r)&&n.push(c(i.messages.whitespace,e.fullField))},type:function(e,r,t,n,i){if(e.required&&void 0===r)m(e,r,t,n,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?q[a](r)||n.push(c(i.messages.types[a],e.fullField,e.type)):a&&typeof r!==e.type&&n.push(c(i.messages.types[a],e.fullField,e.type))}},range:function(e,r,t,n,i){var a="number"==typeof e.len,u="number"==typeof e.min,s="number"==typeof e.max,o=r,f=null,l="number"==typeof r,d="string"==typeof r,p=Array.isArray(r);if(l?f="number":d?f="string":p&&(f="array"),!f)return!1;p&&(o=r.length),d&&(o=r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?o!==e.len&&n.push(c(i.messages[f].len,e.fullField,e.len)):u&&!s&&o<e.min?n.push(c(i.messages[f].min,e.fullField,e.min)):s&&!u&&o>e.max?n.push(c(i.messages[f].max,e.fullField,e.max)):u&&s&&(o<e.min||o>e.max)&&n.push(c(i.messages[f].range,e.fullField,e.min,e.max))},enum:function(e,r,t,n,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(r)&&n.push(c(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,r,t,n,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(r)||n.push(c(i.messages.pattern.mismatch,e.fullField,r,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(r)||n.push(c(i.messages.pattern.mismatch,e.fullField,r,e.pattern))))}};function w(e,r,t,n,i){var a=e.type,u=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,a)&&!e.required)return t();b.required(e,r,n,u,i,a),d(r,a)||b.type(e,r,n,u,i)}t(u)}var O={string:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"string")&&!e.required)return t();b.required(e,r,n,a,i,"string"),d(r,"string")||(b.type(e,r,n,a,i),b.range(e,r,n,a,i),b.pattern(e,r,n,a,i),!0===e.whitespace&&b.whitespace(e,r,n,a,i))}t(a)},method:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&b.type(e,r,n,a,i)}t(a)},number:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===r&&(r=void 0),d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&(b.type(e,r,n,a,i),b.range(e,r,n,a,i))}t(a)},boolean:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&b.type(e,r,n,a,i)}t(a)},regexp:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),d(r)||b.type(e,r,n,a,i)}t(a)},integer:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&(b.type(e,r,n,a,i),b.range(e,r,n,a,i))}t(a)},float:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&(b.type(e,r,n,a,i),b.range(e,r,n,a,i))}t(a)},array:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==r&&!e.required)return t();b.required(e,r,n,a,i,"array"),null!=r&&(b.type(e,r,n,a,i),b.range(e,r,n,a,i))}t(a)},object:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&b.type(e,r,n,a,i)}t(a)},enum:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i),void 0!==r&&b.enum(e,r,n,a,i)}t(a)},pattern:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"string")&&!e.required)return t();b.required(e,r,n,a,i),d(r,"string")||b.pattern(e,r,n,a,i)}t(a)},date:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r,"date")&&!e.required)return t();var u;b.required(e,r,n,a,i),d(r,"date")||(u=r instanceof Date?r:new Date(r),b.type(e,u,n,a,i),u&&b.range(e,u.getTime(),n,a,i))}t(a)},url:w,hex:w,email:w,required:function(e,r,t,n,i){var a=[],u=Array.isArray(r)?"array":typeof r;b.required(e,r,n,a,i,u),t(a)},any:function(e,r,t,n,i){var a=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(d(r)&&!e.required)return t();b.required(e,r,n,a,i)}t(a)}};function x(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var j=x();function P(e){this.rules=null,this._messages=j,this.define(e)}P.prototype={messages:function(e){return e&&(this._messages=g(x(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var r,t;for(r in this.rules={},e)e.hasOwnProperty(r)&&(t=e[r],this.rules[r]=Array.isArray(t)?t:[t])},validate:function(e,r,t){var i=this;void 0===r&&(r={}),void 0===t&&(t=function(){});var a,u,s=e,o=r,f=t;if("function"==typeof o&&(f=o,o={}),!this.rules||0===Object.keys(this.rules).length)return f&&f(),Promise.resolve();if(o.messages){var d=this.messages();d===j&&(d=x()),g(d,o.messages),o.messages=d}else o.messages=this.messages();var m={};(o.keys||Object.keys(this.rules)).forEach((function(r){a=i.rules[r],u=s[r],a.forEach((function(t){var a=t;"function"==typeof a.transform&&(s===e&&(s=n({},s)),u=s[r]=a.transform(u)),(a="function"==typeof a?{validator:a}:n({},a)).validator=i.getValidationMethod(a),a.field=r,a.fullField=a.fullField||r,a.type=i.getType(a),a.validator&&(m[r]=m[r]||[],m[r].push({rule:a,value:u,source:s,field:r}))}))}));var v={};return function(e,r,t,n){if(r.first){var i=new Promise((function(r,i){p(function(e){var r=[];return Object.keys(e).forEach((function(t){r.push.apply(r,e[t])})),r}(e),t,(function(e){return n(e),e.length?i(new y(e,l(e))):r()}))}));return i.catch((function(e){return e})),i}var a=r.firstFields||[];!0===a&&(a=Object.keys(e));var u=Object.keys(e),s=u.length,o=0,f=[],c=new Promise((function(r,i){var c=function(e){if(f.push.apply(f,e),++o===s)return n(f),f.length?i(new y(f,l(f))):r()};u.length||(n(f),r()),u.forEach((function(r){var n=e[r];-1!==a.indexOf(r)?p(n,t,c):function(e,r,t){var n=[],i=0,a=e.length;function u(e){n.push.apply(n,e),++i===a&&t(n)}e.forEach((function(e){r(e,u)}))}(n,t,c)}))}));return c.catch((function(e){return e})),c}(m,o,(function(e,r){var t,i=e.rule,a=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField);function u(e,r){return n({},r,{fullField:i.fullField+"."+e})}function s(t){void 0===t&&(t=[]);var s=t;if(Array.isArray(s)||(s=[s]),!o.suppressWarning&&s.length&&P.warning("async-validator:",s),s.length&&void 0!==i.message&&(s=[].concat(i.message)),s=s.map(h(i)),o.first&&s.length)return v[i.field]=1,r(s);if(a){if(i.required&&!e.value)return void 0!==i.message?s=[].concat(i.message).map(h(i)):o.error&&(s=[o.error(i,c(o.messages.required,i.field))]),r(s);var f={};if(i.defaultField)for(var l in e.value)e.value.hasOwnProperty(l)&&(f[l]=i.defaultField);for(var d in f=n({},f,e.rule.fields))if(f.hasOwnProperty(d)){var p=Array.isArray(f[d])?f[d]:[f[d]];f[d]=p.map(u.bind(null,d))}var y=new P(f);y.messages(o.messages),e.rule.options&&(e.rule.options.messages=o.messages,e.rule.options.error=o.error),y.validate(e.value,e.rule.options||o,(function(e){var t=[];s&&s.length&&t.push.apply(t,s),e&&e.length&&t.push.apply(t,e),r(t.length?t:null)}))}else r(s)}a=a&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?t=i.asyncValidator(i,e.value,s,e.source,o):i.validator&&(!0===(t=i.validator(i,e.value,s,e.source,o))?s():!1===t?s(i.message||i.field+" fails"):t instanceof Array?s(t):t instanceof Error&&s(t.message)),t&&t.then&&t.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){!function(e){var r,t,n,i=[],a={};for(r=0;r<e.length;r++)t=e[r],n=void 0,Array.isArray(t)?i=(n=i).concat.apply(n,t):i.push(t);i.length?a=l(i):(i=null,a=null),f(i,a)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!O.hasOwnProperty(e.type))throw new Error(c("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var r=Object.keys(e),t=r.indexOf("message");return-1!==t&&r.splice(t,1),1===r.length&&"required"===r[0]?O.required:O[this.getType(e)]||!1}},P.register=function(e,r){if("function"!=typeof r)throw new Error("Cannot register a validator by type, validator is not a function");O[e]=r},P.warning=function(){},P.messages=j,P.validators=O;const F=P}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG50eC9yZW1pbmQvLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2Rpc3Qtd2ViL2luZGV4LmpzIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9nZXRQcm90b3R5cGVPZiIsIm8iLCJzZXRQcm90b3R5cGVPZiIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInZhbHVlT2YiLCJlIiwiX2NvbnN0cnVjdCIsIlBhcmVudCIsImFyZ3MiLCJDbGFzcyIsImEiLCJwdXNoIiwiaW5zdGFuY2UiLCJGdW5jdGlvbiIsImJpbmQiLCJfd3JhcE5hdGl2ZVN1cGVyIiwiX2NhY2hlIiwiTWFwIiwidW5kZWZpbmVkIiwiZm4iLCJ0b1N0cmluZyIsImluZGV4T2YiLCJUeXBlRXJyb3IiLCJoYXMiLCJnZXQiLCJzZXQiLCJXcmFwcGVyIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImZvcm1hdFJlZ0V4cCIsImNvbnZlcnRGaWVsZHNFcnJvciIsImVycm9ycyIsImZpZWxkcyIsImZvckVhY2giLCJlcnJvciIsImZpZWxkIiwiZm9ybWF0IiwiX2xlbiIsIkFycmF5IiwiX2tleSIsImYiLCJsZW4iLCJzbGljZSIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl8iLCJpc0VtcHR5VmFsdWUiLCJ0eXBlIiwiaXNBcnJheSIsImlzTmF0aXZlU3RyaW5nVHlwZSIsImFzeW5jU2VyaWFsQXJyYXkiLCJhcnIiLCJmdW5jIiwiY2FsbGJhY2siLCJpbmRleCIsImFyckxlbmd0aCIsIm5leHQiLCJvcmlnaW5hbCIsInByb2Nlc3MiLCJlbnYiLCJBc3luY1ZhbGlkYXRpb25FcnJvciIsIl9FcnJvciIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl90aGlzIiwiRXJyb3IiLCJjb21wbGVtZW50RXJyb3IiLCJydWxlIiwib2UiLCJtZXNzYWdlIiwiZnVsbEZpZWxkIiwiZGVlcE1lcmdlIiwicyIsInJlcXVpcmVkIiwib3B0aW9ucyIsIm1lc3NhZ2VzIiwicGF0dGVybiIsImVtYWlsIiwidXJsIiwiUmVnRXhwIiwiaGV4IiwidHlwZXMiLCJpbnRlZ2VyIiwibnVtYmVyIiwicGFyc2VJbnQiLCJhcnJheSIsInJlZ2V4cCIsImRhdGUiLCJnZXRUaW1lIiwiZ2V0TW9udGgiLCJnZXRZZWFyIiwiaXNOYU4iLCJvYmplY3QiLCJtZXRob2QiLCJtYXRjaCIsInJ1bGVzIiwid2hpdGVzcGFjZSIsInRlc3QiLCJydWxlVHlwZSIsInJhbmdlIiwibWluIiwibWF4IiwidmFsIiwibnVtIiwiam9pbiIsImxhc3RJbmRleCIsIm1pc21hdGNoIiwidHlwZSQxIiwidmFsaWRhdG9ycyIsInN0cmluZyIsImRhdGVPYmplY3QiLCJEYXRlIiwiYW55IiwibmV3TWVzc2FnZXMiLCJwYXJzZSIsImludmFsaWQiLCJjbG9uZSIsImNsb25lZCIsIlNjaGVtYSIsImRlc2NyaXB0b3IiLCJfbWVzc2FnZXMiLCJkZWZpbmUiLCJ6IiwiaXRlbSIsInZhbGlkYXRlIiwic291cmNlXyIsIm9jIiwia2V5cyIsIlByb21pc2UiLCJyZXNvbHZlIiwibWVzc2FnZXMkMSIsInNlcmllcyIsInIiLCJ0cmFuc2Zvcm0iLCJ2YWxpZGF0b3IiLCJnZXRWYWxpZGF0aW9uTWV0aG9kIiwiZ2V0VHlwZSIsImVycm9yRmllbGRzIiwib2JqQXJyIiwib3B0aW9uIiwiZmlyc3QiLCJfcGVuZGluZyIsInJlamVjdCIsInJldCIsImsiLCJmbGF0dGVuT2JqQXJyIiwiZmlyc3RGaWVsZHMiLCJvYmpBcnJLZXlzIiwib2JqQXJyTGVuZ3RoIiwidG90YWwiLCJyZXN1bHRzIiwicGVuZGluZyIsImNvdW50IiwiYXN5bmNQYXJhbGxlbEFycmF5IiwiYXN5bmNNYXAiLCJkYXRhIiwiZG9JdCIsInJlcyIsImRlZXAiLCJkZWZhdWx0RmllbGQiLCJhZGRGdWxsZmllbGQiLCJzY2hlbWEiLCJjYiIsInN1cHByZXNzV2FybmluZyIsIndhcm5pbmciLCJjb25jYXQiLCJtYXAiLCJmaWVsZHNTY2hlbWEiLCJmaWVsZFNjaGVtYSIsImVycnMiLCJmaW5hbEVycm9ycyIsImFzeW5jVmFsaWRhdG9yIiwidGhlbiIsIl9lcnJvcnMiLCJjb21wbGV0ZSIsIm1lc3NhZ2VJbmRleCIsInNwbGljZSIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiNEdBQUEsU0FBU0EsSUFlUCxPQWRBQSxFQUFXQyxPQUFPQyxRQUFVLFNBQVVDLEdBQ3BDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJQyxVQUFVQyxPQUFRRixJQUFLLENBQ3pDLElBQUlHLEVBQVNGLFVBQVVELEdBRXZCLElBQUssSUFBSUksS0FBT0QsRUFDVk4sT0FBT1EsVUFBVUMsZUFBZUMsS0FBS0osRUFBUUMsS0FDL0NMLEVBQU9LLEdBQU9ELEVBQU9DLElBSzNCLE9BQU9MLElBR09TLE1BQU1DLEtBQU1SLFdBVTlCLFNBQVNTLEVBQWdCQyxHQUl2QixPQUhBRCxFQUFrQmIsT0FBT2UsZUFBaUJmLE9BQU9nQixlQUFpQixTQUF5QkYsR0FDekYsT0FBT0EsRUFBRUcsV0FBYWpCLE9BQU9nQixlQUFlRixLQUV2QkEsR0FHekIsU0FBU0ksRUFBZ0JKLEVBQUdLLEdBTTFCLE9BTEFELEVBQWtCbEIsT0FBT2UsZ0JBQWtCLFNBQXlCRCxFQUFHSyxHQUVyRSxPQURBTCxFQUFFRyxVQUFZRSxFQUNQTCxJQUdjQSxFQUFHSyxHQUc1QixTQUFTQyxJQUNQLEdBQXVCLG9CQUFaQyxVQUE0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QUlyRSxNQUFNLG9FQUdsQjJDLEVBQVc3RCxHQUFRdUYsR0FHckJoQixFQUFPOEMsUUE1eUNPLGFBNnlDZDlDLEVBQU8zQyxTQUFXQSxFQUNsQjJDLEVBQU9WLFdBQWFBLEVBRXBCIiwiZmlsZSI6InZlbmRvcnMtMjgxZTkxNzAuZmE3NjdkYWI0NzFmODUwNjU5OTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG5cbiAgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICB9IGVsc2Uge1xuICAgIF9jb25zdHJ1Y3QgPSBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgIHZhciBhID0gW251bGxdO1xuICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShQYXJlbnQsIGEpO1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcblxuICAgIGlmICh0eXBlb2YgQ2xhc3MgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcblxuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuXG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH07XG5cbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufVxuXG4vKiBlc2xpbnQgbm8tY29uc29sZTowICovXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbnZhciB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZygpIHt9OyAvLyBkb24ndCBwcmludCB3YXJuaW5nIG1lc3NhZ2Ugd2hlbiBpbiBwcm9kdWN0aW9uIGVudiBvciBub2RlIHJ1bnRpbWVcblxuaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcodHlwZSwgZXJyb3JzKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgIGlmIChlcnJvcnMuZXZlcnkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlID09PSAnc3RyaW5nJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybih0eXBlLCBlcnJvcnMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZpZWxkc0Vycm9yKGVycm9ycykge1xuICBpZiAoIWVycm9ycyB8fCAhZXJyb3JzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gIHZhciBmaWVsZHMgPSB7fTtcbiAgZXJyb3JzLmZvckVhY2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgdmFyIGZpZWxkID0gZXJyb3IuZmllbGQ7XG4gICAgZmllbGRzW2ZpZWxkXSA9IGZpZWxkc1tmaWVsZF0gfHwgW107XG4gICAgZmllbGRzW2ZpZWxkXS5wdXNoKGVycm9yKTtcbiAgfSk7XG4gIHJldHVybiBmaWVsZHM7XG59XG5mdW5jdGlvbiBmb3JtYXQoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBmID0gYXJnc1swXTtcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuXG4gIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmLmFwcGx5KG51bGwsIGFyZ3Muc2xpY2UoMSkpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBmID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAoeCA9PT0gJyUlJykge1xuICAgICAgICByZXR1cm4gJyUnO1xuICAgICAgfVxuXG4gICAgICBpZiAoaSA+PSBsZW4pIHtcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoeCkge1xuICAgICAgICBjYXNlICclcyc6XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuXG4gICAgICAgIGNhc2UgJyVkJzpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG5cbiAgICAgICAgY2FzZSAnJWonOlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHJldHVybiBmO1xufVxuXG5mdW5jdGlvbiBpc05hdGl2ZVN0cmluZ1R5cGUodHlwZSkge1xuICByZXR1cm4gdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ3VybCcgfHwgdHlwZSA9PT0gJ2hleCcgfHwgdHlwZSA9PT0gJ2VtYWlsJyB8fCB0eXBlID09PSAnZGF0ZScgfHwgdHlwZSA9PT0gJ3BhdHRlcm4nO1xufVxuXG5mdW5jdGlvbiBpc0VtcHR5VmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnYXJyYXknICYmIEFycmF5LmlzQXJyYXkodmFsdWUpICYmICF2YWx1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc05hdGl2ZVN0cmluZ1R5cGUodHlwZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNQYXJhbGxlbEFycmF5KGFyciwgZnVuYywgY2FsbGJhY2spIHtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIHRvdGFsID0gMDtcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY291bnQoZXJyb3JzKSB7XG4gICAgcmVzdWx0cy5wdXNoLmFwcGx5KHJlc3VsdHMsIGVycm9ycyk7XG4gICAgdG90YWwrKztcblxuICAgIGlmICh0b3RhbCA9PT0gYXJyTGVuZ3RoKSB7XG4gICAgICBjYWxsYmFjayhyZXN1bHRzKTtcbiAgICB9XG4gIH1cblxuICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgIGZ1bmMoYSwgY291bnQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXN5bmNTZXJpYWxBcnJheShhcnIsIGZ1bmMsIGNhbGxiYWNrKSB7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIG5leHQoZXJyb3JzKSB7XG4gICAgaWYgKGVycm9ycyAmJiBlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBjYWxsYmFjayhlcnJvcnMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvcmlnaW5hbCA9IGluZGV4O1xuICAgIGluZGV4ID0gaW5kZXggKyAxO1xuXG4gICAgaWYgKG9yaWdpbmFsIDwgYXJyTGVuZ3RoKSB7XG4gICAgICBmdW5jKGFycltvcmlnaW5hbF0sIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhbXSk7XG4gICAgfVxuICB9XG5cbiAgbmV4dChbXSk7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5PYmpBcnIob2JqQXJyKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgT2JqZWN0LmtleXMob2JqQXJyKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0LnB1c2guYXBwbHkocmV0LCBvYmpBcnJba10pO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxudmFyIEFzeW5jVmFsaWRhdGlvbkVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzTG9vc2UoQXN5bmNWYWxpZGF0aW9uRXJyb3IsIF9FcnJvcik7XG5cbiAgZnVuY3Rpb24gQXN5bmNWYWxpZGF0aW9uRXJyb3IoZXJyb3JzLCBmaWVsZHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9FcnJvci5jYWxsKHRoaXMsICdBc3luYyBWYWxpZGF0aW9uIEVycm9yJykgfHwgdGhpcztcbiAgICBfdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgX3RoaXMuZmllbGRzID0gZmllbGRzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBBc3luY1ZhbGlkYXRpb25FcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG5mdW5jdGlvbiBhc3luY01hcChvYmpBcnIsIG9wdGlvbiwgZnVuYywgY2FsbGJhY2spIHtcbiAgaWYgKG9wdGlvbi5maXJzdCkge1xuICAgIHZhciBfcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dChlcnJvcnMpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3JzKTtcbiAgICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyByZWplY3QobmV3IEFzeW5jVmFsaWRhdGlvbkVycm9yKGVycm9ycywgY29udmVydEZpZWxkc0Vycm9yKGVycm9ycykpKSA6IHJlc29sdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBmbGF0dGVuQXJyID0gZmxhdHRlbk9iakFycihvYmpBcnIpO1xuICAgICAgYXN5bmNTZXJpYWxBcnJheShmbGF0dGVuQXJyLCBmdW5jLCBuZXh0KTtcbiAgICB9KTtcblxuICAgIF9wZW5kaW5nW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9wZW5kaW5nO1xuICB9XG5cbiAgdmFyIGZpcnN0RmllbGRzID0gb3B0aW9uLmZpcnN0RmllbGRzIHx8IFtdO1xuXG4gIGlmIChmaXJzdEZpZWxkcyA9PT0gdHJ1ZSkge1xuICAgIGZpcnN0RmllbGRzID0gT2JqZWN0LmtleXMob2JqQXJyKTtcbiAgfVxuXG4gIHZhciBvYmpBcnJLZXlzID0gT2JqZWN0LmtleXMob2JqQXJyKTtcbiAgdmFyIG9iakFyckxlbmd0aCA9IG9iakFycktleXMubGVuZ3RoO1xuICB2YXIgdG90YWwgPSAwO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgcGVuZGluZyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uIG5leHQoZXJyb3JzKSB7XG4gICAgICByZXN1bHRzLnB1c2guYXBwbHkocmVzdWx0cywgZXJyb3JzKTtcbiAgICAgIHRvdGFsKys7XG5cbiAgICAgIGlmICh0b3RhbCA9PT0gb2JqQXJyTGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cy5sZW5ndGggPyByZWplY3QobmV3IEFzeW5jVmFsaWRhdGlvbkVycm9yKHJlc3VsdHMsIGNvbnZlcnRGaWVsZHNFcnJvcihyZXN1bHRzKSkpIDogcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoIW9iakFycktleXMubGVuZ3RoKSB7XG4gICAgICBjYWxsYmFjayhyZXN1bHRzKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBvYmpBcnJLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGFyciA9IG9iakFycltrZXldO1xuXG4gICAgICBpZiAoZmlyc3RGaWVsZHMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICBhc3luY1NlcmlhbEFycmF5KGFyciwgZnVuYywgbmV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3luY1BhcmFsbGVsQXJyYXkoYXJyLCBmdW5jLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHBlbmRpbmdbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlO1xuICB9KTtcbiAgcmV0dXJuIHBlbmRpbmc7XG59XG5mdW5jdGlvbiBjb21wbGVtZW50RXJyb3IocnVsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKG9lKSB7XG4gICAgaWYgKG9lICYmIG9lLm1lc3NhZ2UpIHtcbiAgICAgIG9lLmZpZWxkID0gb2UuZmllbGQgfHwgcnVsZS5mdWxsRmllbGQ7XG4gICAgICByZXR1cm4gb2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IHR5cGVvZiBvZSA9PT0gJ2Z1bmN0aW9uJyA/IG9lKCkgOiBvZSxcbiAgICAgIGZpZWxkOiBvZS5maWVsZCB8fCBydWxlLmZ1bGxGaWVsZFxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgaWYgKHNvdXJjZSkge1xuICAgIGZvciAodmFyIHMgaW4gc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtzXTtcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGFyZ2V0W3NdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRhcmdldFtzXSA9IF9leHRlbmRzKHt9LCB0YXJnZXRbc10sIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRbc10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgcmVxdWlyZWQgZmllbGRzLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIHJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucywgdHlwZSkge1xuICBpZiAocnVsZS5yZXF1aXJlZCAmJiAoIXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKSB8fCBpc0VtcHR5VmFsdWUodmFsdWUsIHR5cGUgfHwgcnVsZS50eXBlKSkpIHtcbiAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5yZXF1aXJlZCwgcnVsZS5mdWxsRmllbGQpKTtcbiAgfVxufVxuXG4vKipcbiAqICBSdWxlIGZvciB2YWxpZGF0aW5nIHdoaXRlc3BhY2UuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIGVycm9ycyBBbiBhcnJheSBvZiBlcnJvcnMgdGhhdCB0aGlzIHJ1bGUgbWF5IGFkZFxuICogIHZhbGlkYXRpb24gZXJyb3JzIHRvLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gd2hpdGVzcGFjZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpIHtcbiAgaWYgKC9eXFxzKyQvLnRlc3QodmFsdWUpIHx8IHZhbHVlID09PSAnJykge1xuICAgIGVycm9ycy5wdXNoKGZvcm1hdChvcHRpb25zLm1lc3NhZ2VzLndoaXRlc3BhY2UsIHJ1bGUuZnVsbEZpZWxkKSk7XG4gIH1cbn1cblxuLyogZXNsaW50IG1heC1sZW46MCAqL1xuXG52YXIgcGF0dGVybiA9IHtcbiAgLy8gaHR0cDovL2VtYWlscmVnZXguY29tL1xuICBlbWFpbDogL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8sXG4gIHVybDogbmV3IFJlZ0V4cChcIl4oPyFtYWlsdG86KSg/Oig/Omh0dHB8aHR0cHN8ZnRwKTovL3wvLykoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT8oPzooPzooPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9KD86XFxcXC4oPzpbMC05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKy0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKy0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSooPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmXXsyLH0pKSl8bG9jYWxob3N0KSg/OjpcXFxcZHsyLDV9KT8oPzooL3xcXFxcP3wjKVteXFxcXHNdKik/JFwiLCAnaScpLFxuICBoZXg6IC9eIz8oW2EtZjAtOV17Nn18W2EtZjAtOV17M30pJC9pXG59O1xudmFyIHR5cGVzID0ge1xuICBpbnRlZ2VyOiBmdW5jdGlvbiBpbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVzLm51bWJlcih2YWx1ZSkgJiYgcGFyc2VJbnQodmFsdWUsIDEwKSA9PT0gdmFsdWU7XG4gIH0sXG4gIFwiZmxvYXRcIjogZnVuY3Rpb24gZmxvYXQodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZXMubnVtYmVyKHZhbHVlKSAmJiAhdHlwZXMuaW50ZWdlcih2YWx1ZSk7XG4gIH0sXG4gIGFycmF5OiBmdW5jdGlvbiBhcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgfSxcbiAgcmVnZXhwOiBmdW5jdGlvbiByZWdleHAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gISFuZXcgUmVnRXhwKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBkYXRlOiBmdW5jdGlvbiBkYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5nZXRUaW1lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5nZXRNb250aCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZ2V0WWVhciA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNOYU4odmFsdWUuZ2V0VGltZSgpKTtcbiAgfSxcbiAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIodmFsdWUpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG4gIH0sXG4gIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIXR5cGVzLmFycmF5KHZhbHVlKTtcbiAgfSxcbiAgbWV0aG9kOiBmdW5jdGlvbiBtZXRob2QodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICB9LFxuICBlbWFpbDogZnVuY3Rpb24gZW1haWwodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhIXZhbHVlLm1hdGNoKHBhdHRlcm4uZW1haWwpICYmIHZhbHVlLmxlbmd0aCA8IDI1NTtcbiAgfSxcbiAgdXJsOiBmdW5jdGlvbiB1cmwodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhIXZhbHVlLm1hdGNoKHBhdHRlcm4udXJsKTtcbiAgfSxcbiAgaGV4OiBmdW5jdGlvbiBoZXgodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhIXZhbHVlLm1hdGNoKHBhdHRlcm4uaGV4KTtcbiAgfVxufTtcbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgdGhlIHR5cGUgb2YgYSB2YWx1ZS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gZXJyb3JzIEFuIGFycmF5IG9mIGVycm9ycyB0aGF0IHRoaXMgcnVsZSBtYXkgYWRkXG4gKiAgdmFsaWRhdGlvbiBlcnJvcnMgdG8uXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuXG5mdW5jdGlvbiB0eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICBpZiAocnVsZS5yZXF1aXJlZCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY3VzdG9tID0gWydpbnRlZ2VyJywgJ2Zsb2F0JywgJ2FycmF5JywgJ3JlZ2V4cCcsICdvYmplY3QnLCAnbWV0aG9kJywgJ2VtYWlsJywgJ251bWJlcicsICdkYXRlJywgJ3VybCcsICdoZXgnXTtcbiAgdmFyIHJ1bGVUeXBlID0gcnVsZS50eXBlO1xuXG4gIGlmIChjdXN0b20uaW5kZXhPZihydWxlVHlwZSkgPiAtMSkge1xuICAgIGlmICghdHlwZXNbcnVsZVR5cGVdKHZhbHVlKSkge1xuICAgICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gICAgfSAvLyBzdHJhaWdodCB0eXBlb2YgY2hlY2tcblxuICB9IGVsc2UgaWYgKHJ1bGVUeXBlICYmIHR5cGVvZiB2YWx1ZSAhPT0gcnVsZS50eXBlKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiAgUnVsZSBmb3IgdmFsaWRhdGluZyBtaW5pbXVtIGFuZCBtYXhpbXVtIGFsbG93ZWQgdmFsdWVzLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIHJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICB2YXIgbGVuID0gdHlwZW9mIHJ1bGUubGVuID09PSAnbnVtYmVyJztcbiAgdmFyIG1pbiA9IHR5cGVvZiBydWxlLm1pbiA9PT0gJ251bWJlcic7XG4gIHZhciBtYXggPSB0eXBlb2YgcnVsZS5tYXggPT09ICdudW1iZXInOyAvLyDmraPliJnljLnphY3noIHngrnojIPlm7Tku45VKzAxMDAwMOS4gOebtOWIsFUrMTBGRkZG55qE5paH5a2X77yI6KGl5YWF5bmz6Z2iU3VwcGxlbWVudGFyeSBQbGFuZe+8iVxuXG4gIHZhciBzcFJlZ2V4cCA9IC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2c7XG4gIHZhciB2YWwgPSB2YWx1ZTtcbiAgdmFyIGtleSA9IG51bGw7XG4gIHZhciBudW0gPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuICB2YXIgc3RyID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgdmFyIGFyciA9IEFycmF5LmlzQXJyYXkodmFsdWUpO1xuXG4gIGlmIChudW0pIHtcbiAgICBrZXkgPSAnbnVtYmVyJztcbiAgfSBlbHNlIGlmIChzdHIpIHtcbiAgICBrZXkgPSAnc3RyaW5nJztcbiAgfSBlbHNlIGlmIChhcnIpIHtcbiAgICBrZXkgPSAnYXJyYXknO1xuICB9IC8vIGlmIHRoZSB2YWx1ZSBpcyBub3Qgb2YgYSBzdXBwb3J0ZWQgdHlwZSBmb3IgcmFuZ2UgdmFsaWRhdGlvblxuICAvLyB0aGUgdmFsaWRhdGlvbiBydWxlIHJ1bGUgc2hvdWxkIHVzZSB0aGVcbiAgLy8gdHlwZSBwcm9wZXJ0eSB0byBhbHNvIHRlc3QgZm9yIGEgcGFydGljdWxhciB0eXBlXG5cblxuICBpZiAoIWtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhcnIpIHtcbiAgICB2YWwgPSB2YWx1ZS5sZW5ndGg7XG4gIH1cblxuICBpZiAoc3RyKSB7XG4gICAgLy8g5aSE55CG56CB54K55aSn5LqOVSswMTAwMDDnmoTmloflrZdsZW5ndGjlsZ7mgKfkuI3lh4bnoa7nmoRidWfvvIzlpoJcIvCgrrfwoK638KCut1wiLmxlbmdodCAhPT0gM1xuICAgIHZhbCA9IHZhbHVlLnJlcGxhY2Uoc3BSZWdleHAsICdfJykubGVuZ3RoO1xuICB9XG5cbiAgaWYgKGxlbikge1xuICAgIGlmICh2YWwgIT09IHJ1bGUubGVuKSB7XG4gICAgICBlcnJvcnMucHVzaChmb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLmxlbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubGVuKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pbiAmJiAhbWF4ICYmIHZhbCA8IHJ1bGUubWluKSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNba2V5XS5taW4sIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1pbikpO1xuICB9IGVsc2UgaWYgKG1heCAmJiAhbWluICYmIHZhbCA+IHJ1bGUubWF4KSB7XG4gICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXNba2V5XS5tYXgsIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1heCkpO1xuICB9IGVsc2UgaWYgKG1pbiAmJiBtYXggJiYgKHZhbCA8IHJ1bGUubWluIHx8IHZhbCA+IHJ1bGUubWF4KSkge1xuICAgIGVycm9ycy5wdXNoKGZvcm1hdChvcHRpb25zLm1lc3NhZ2VzW2tleV0ucmFuZ2UsIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1pbiwgcnVsZS5tYXgpKTtcbiAgfVxufVxuXG52YXIgRU5VTSA9ICdlbnVtJztcbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgYSB2YWx1ZSBleGlzdHMgaW4gYW4gZW51bWVyYWJsZSBsaXN0LlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGVudW1lcmFibGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKSB7XG4gIHJ1bGVbRU5VTV0gPSBBcnJheS5pc0FycmF5KHJ1bGVbRU5VTV0pID8gcnVsZVtFTlVNXSA6IFtdO1xuXG4gIGlmIChydWxlW0VOVU1dLmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGVycm9ycy5wdXNoKGZvcm1hdChvcHRpb25zLm1lc3NhZ2VzW0VOVU1dLCBydWxlLmZ1bGxGaWVsZCwgcnVsZVtFTlVNXS5qb2luKCcsICcpKSk7XG4gIH1cbn1cblxuLyoqXG4gKiAgUnVsZSBmb3IgdmFsaWRhdGluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIHBhdHRlcm4kMShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpIHtcbiAgaWYgKHJ1bGUucGF0dGVybikge1xuICAgIGlmIChydWxlLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIC8vIGlmIGEgUmVnRXhwIGluc3RhbmNlIGlzIHBhc3NlZCwgcmVzZXQgYGxhc3RJbmRleGAgaW4gY2FzZSBpdHMgYGdsb2JhbGBcbiAgICAgIC8vIGZsYWcgaXMgYWNjaWRlbnRhbGx5IHNldCB0byBgdHJ1ZWAsIHdoaWNoIGluIGEgdmFsaWRhdGlvbiBzY2VuYXJpb1xuICAgICAgLy8gaXMgbm90IG5lY2Vzc2FyeSBhbmQgdGhlIHJlc3VsdCBtaWdodCBiZSBtaXNsZWFkaW5nXG4gICAgICBydWxlLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcblxuICAgICAgaWYgKCFydWxlLnBhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMucGF0dGVybi5taXNtYXRjaCwgcnVsZS5mdWxsRmllbGQsIHZhbHVlLCBydWxlLnBhdHRlcm4pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBydWxlLnBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgX3BhdHRlcm4gPSBuZXcgUmVnRXhwKHJ1bGUucGF0dGVybik7XG5cbiAgICAgIGlmICghX3BhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMucGF0dGVybi5taXNtYXRjaCwgcnVsZS5mdWxsRmllbGQsIHZhbHVlLCBydWxlLnBhdHRlcm4pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIHJ1bGVzID0ge1xuICByZXF1aXJlZDogcmVxdWlyZWQsXG4gIHdoaXRlc3BhY2U6IHdoaXRlc3BhY2UsXG4gIHR5cGU6IHR5cGUsXG4gIHJhbmdlOiByYW5nZSxcbiAgXCJlbnVtXCI6IGVudW1lcmFibGUsXG4gIHBhdHRlcm46IHBhdHRlcm4kMVxufTtcblxuLyoqXG4gKiAgUGVyZm9ybXMgdmFsaWRhdGlvbiBmb3Igc3RyaW5nIHR5cGVzLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuXG5mdW5jdGlvbiBzdHJpbmcocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlLCAnc3RyaW5nJykgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucywgJ3N0cmluZycpO1xuXG4gICAgaWYgKCFpc0VtcHR5VmFsdWUodmFsdWUsICdzdHJpbmcnKSkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnBhdHRlcm4ocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgICAgaWYgKHJ1bGUud2hpdGVzcGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgICBydWxlcy53aGl0ZXNwYWNlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgZnVuY3Rpb24uXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIG1ldGhvZChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG4vKipcbiAqICBWYWxpZGF0ZXMgYSBudW1iZXIuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIG51bWJlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgYm9vbGVhbi5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gX2Jvb2xlYW4ocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuLyoqXG4gKiAgVmFsaWRhdGVzIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdHlwZS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gcmVnZXhwKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG4vKipcbiAqICBWYWxpZGF0ZXMgYSBudW1iZXIgaXMgYW4gaW50ZWdlci5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gaW50ZWdlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgbnVtYmVyIGlzIGEgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuXG5mdW5jdGlvbiBmbG9hdEZuKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG4vKipcbiAqICBWYWxpZGF0ZXMgYW4gYXJyYXkuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGFycmF5KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zLCAnYXJyYXknKTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgICBydWxlcy5yYW5nZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbi8qKlxuICogIFZhbGlkYXRlcyBhbiBvYmplY3QuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5cbmZ1bmN0aW9uIG9iamVjdChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuXG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG52YXIgRU5VTSQxID0gJ2VudW0nO1xuLyoqXG4gKiAgVmFsaWRhdGVzIGFuIGVudW1lcmFibGUgbGlzdC5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gZW51bWVyYWJsZSQxKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXNbRU5VTSQxXShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbi8qKlxuICogIFZhbGlkYXRlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuLlxuICpcbiAqICBQZXJmb3JtcyB2YWxpZGF0aW9uIHdoZW4gYSBydWxlIG9ubHkgY29udGFpbnNcbiAqICBhIHBhdHRlcm4gcHJvcGVydHkgYnV0IGlzIG5vdCBkZWNsYXJlZCBhcyBhIHN0cmluZyB0eXBlLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuXG5mdW5jdGlvbiBwYXR0ZXJuJDIocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcblxuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlLCAnc3RyaW5nJykgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG5cbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ3N0cmluZycpKSB7XG4gICAgICBydWxlcy5wYXR0ZXJuKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZnVuY3Rpb24gZGF0ZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICAvLyBjb25zb2xlLmxvZygnaW50ZWdlciBydWxlIGNhbGxlZCAlaicsIHJ1bGUpO1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpOyAvLyBjb25zb2xlLmxvZygndmFsaWRhdGUgb24gJXMgdmFsdWUnLCB2YWx1ZSk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ2RhdGUnKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgIGlmICghaXNFbXB0eVZhbHVlKHZhbHVlLCAnZGF0ZScpKSB7XG4gICAgICB2YXIgZGF0ZU9iamVjdDtcblxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkYXRlT2JqZWN0ID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBydWxlcy50eXBlKHJ1bGUsIGRhdGVPYmplY3QsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcblxuICAgICAgaWYgKGRhdGVPYmplY3QpIHtcbiAgICAgICAgcnVsZXMucmFuZ2UocnVsZSwgZGF0ZU9iamVjdC5nZXRUaW1lKCksIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG5mdW5jdGlvbiByZXF1aXJlZCQxKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/ICdhcnJheScgOiB0eXBlb2YgdmFsdWU7XG4gIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucywgdHlwZSk7XG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbmZ1bmN0aW9uIHR5cGUkMShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgcnVsZVR5cGUgPSBydWxlLnR5cGU7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSwgcnVsZVR5cGUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMsIHJ1bGVUeXBlKTtcblxuICAgIGlmICghaXNFbXB0eVZhbHVlKHZhbHVlLCBydWxlVHlwZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG4vKipcbiAqICBQZXJmb3JtcyB2YWxpZGF0aW9uIGZvciBhbnkgdHlwZS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gYW55KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG5cbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gIH1cblxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG52YXIgdmFsaWRhdG9ycyA9IHtcbiAgc3RyaW5nOiBzdHJpbmcsXG4gIG1ldGhvZDogbWV0aG9kLFxuICBudW1iZXI6IG51bWJlcixcbiAgXCJib29sZWFuXCI6IF9ib29sZWFuLFxuICByZWdleHA6IHJlZ2V4cCxcbiAgaW50ZWdlcjogaW50ZWdlcixcbiAgXCJmbG9hdFwiOiBmbG9hdEZuLFxuICBhcnJheTogYXJyYXksXG4gIG9iamVjdDogb2JqZWN0LFxuICBcImVudW1cIjogZW51bWVyYWJsZSQxLFxuICBwYXR0ZXJuOiBwYXR0ZXJuJDIsXG4gIGRhdGU6IGRhdGUsXG4gIHVybDogdHlwZSQxLFxuICBoZXg6IHR5cGUkMSxcbiAgZW1haWw6IHR5cGUkMSxcbiAgcmVxdWlyZWQ6IHJlcXVpcmVkJDEsXG4gIGFueTogYW55XG59O1xuXG5mdW5jdGlvbiBuZXdNZXNzYWdlcygpIHtcbiAgcmV0dXJuIHtcbiAgICBcImRlZmF1bHRcIjogJ1ZhbGlkYXRpb24gZXJyb3Igb24gZmllbGQgJXMnLFxuICAgIHJlcXVpcmVkOiAnJXMgaXMgcmVxdWlyZWQnLFxuICAgIFwiZW51bVwiOiAnJXMgbXVzdCBiZSBvbmUgb2YgJXMnLFxuICAgIHdoaXRlc3BhY2U6ICclcyBjYW5ub3QgYmUgZW1wdHknLFxuICAgIGRhdGU6IHtcbiAgICAgIGZvcm1hdDogJyVzIGRhdGUgJXMgaXMgaW52YWxpZCBmb3IgZm9ybWF0ICVzJyxcbiAgICAgIHBhcnNlOiAnJXMgZGF0ZSBjb3VsZCBub3QgYmUgcGFyc2VkLCAlcyBpcyBpbnZhbGlkICcsXG4gICAgICBpbnZhbGlkOiAnJXMgZGF0ZSAlcyBpcyBpbnZhbGlkJ1xuICAgIH0sXG4gICAgdHlwZXM6IHtcbiAgICAgIHN0cmluZzogJyVzIGlzIG5vdCBhICVzJyxcbiAgICAgIG1ldGhvZDogJyVzIGlzIG5vdCBhICVzIChmdW5jdGlvbiknLFxuICAgICAgYXJyYXk6ICclcyBpcyBub3QgYW4gJXMnLFxuICAgICAgb2JqZWN0OiAnJXMgaXMgbm90IGFuICVzJyxcbiAgICAgIG51bWJlcjogJyVzIGlzIG5vdCBhICVzJyxcbiAgICAgIGRhdGU6ICclcyBpcyBub3QgYSAlcycsXG4gICAgICBcImJvb2xlYW5cIjogJyVzIGlzIG5vdCBhICVzJyxcbiAgICAgIGludGVnZXI6ICclcyBpcyBub3QgYW4gJXMnLFxuICAgICAgXCJmbG9hdFwiOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgcmVnZXhwOiAnJXMgaXMgbm90IGEgdmFsaWQgJXMnLFxuICAgICAgZW1haWw6ICclcyBpcyBub3QgYSB2YWxpZCAlcycsXG4gICAgICB1cmw6ICclcyBpcyBub3QgYSB2YWxpZCAlcycsXG4gICAgICBoZXg6ICclcyBpcyBub3QgYSB2YWxpZCAlcydcbiAgICB9LFxuICAgIHN0cmluZzoge1xuICAgICAgbGVuOiAnJXMgbXVzdCBiZSBleGFjdGx5ICVzIGNoYXJhY3RlcnMnLFxuICAgICAgbWluOiAnJXMgbXVzdCBiZSBhdCBsZWFzdCAlcyBjaGFyYWN0ZXJzJyxcbiAgICAgIG1heDogJyVzIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlcyBjaGFyYWN0ZXJzJyxcbiAgICAgIHJhbmdlOiAnJXMgbXVzdCBiZSBiZXR3ZWVuICVzIGFuZCAlcyBjaGFyYWN0ZXJzJ1xuICAgIH0sXG4gICAgbnVtYmVyOiB7XG4gICAgICBsZW46ICclcyBtdXN0IGVxdWFsICVzJyxcbiAgICAgIG1pbjogJyVzIGNhbm5vdCBiZSBsZXNzIHRoYW4gJXMnLFxuICAgICAgbWF4OiAnJXMgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAlcycsXG4gICAgICByYW5nZTogJyVzIG11c3QgYmUgYmV0d2VlbiAlcyBhbmQgJXMnXG4gICAgfSxcbiAgICBhcnJheToge1xuICAgICAgbGVuOiAnJXMgbXVzdCBiZSBleGFjdGx5ICVzIGluIGxlbmd0aCcsXG4gICAgICBtaW46ICclcyBjYW5ub3QgYmUgbGVzcyB0aGFuICVzIGluIGxlbmd0aCcsXG4gICAgICBtYXg6ICclcyBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuICVzIGluIGxlbmd0aCcsXG4gICAgICByYW5nZTogJyVzIG11c3QgYmUgYmV0d2VlbiAlcyBhbmQgJXMgaW4gbGVuZ3RoJ1xuICAgIH0sXG4gICAgcGF0dGVybjoge1xuICAgICAgbWlzbWF0Y2g6ICclcyB2YWx1ZSAlcyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuICVzJ1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgdmFyIGNsb25lZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgICAgY2xvbmVkLmNsb25lID0gdGhpcy5jbG9uZTtcbiAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxuICB9O1xufVxudmFyIG1lc3NhZ2VzID0gbmV3TWVzc2FnZXMoKTtcblxuLyoqXG4gKiAgRW5jYXBzdWxhdGVzIGEgdmFsaWRhdGlvbiBzY2hlbWEuXG4gKlxuICogIEBwYXJhbSBkZXNjcmlwdG9yIEFuIG9iamVjdCBkZWNsYXJpbmcgdmFsaWRhdGlvbiBydWxlc1xuICogIGZvciB0aGlzIHNjaGVtYS5cbiAqL1xuXG5mdW5jdGlvbiBTY2hlbWEoZGVzY3JpcHRvcikge1xuICB0aGlzLnJ1bGVzID0gbnVsbDtcbiAgdGhpcy5fbWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgdGhpcy5kZWZpbmUoZGVzY3JpcHRvcik7XG59XG5cblNjaGVtYS5wcm90b3R5cGUgPSB7XG4gIG1lc3NhZ2VzOiBmdW5jdGlvbiBtZXNzYWdlcyhfbWVzc2FnZXMpIHtcbiAgICBpZiAoX21lc3NhZ2VzKSB7XG4gICAgICB0aGlzLl9tZXNzYWdlcyA9IGRlZXBNZXJnZShuZXdNZXNzYWdlcygpLCBfbWVzc2FnZXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9tZXNzYWdlcztcbiAgfSxcbiAgZGVmaW5lOiBmdW5jdGlvbiBkZWZpbmUocnVsZXMpIHtcbiAgICBpZiAoIXJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb25maWd1cmUgYSBzY2hlbWEgd2l0aCBubyBydWxlcycpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcnVsZXMgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocnVsZXMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1J1bGVzIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IHt9O1xuICAgIHZhciB6O1xuICAgIHZhciBpdGVtO1xuXG4gICAgZm9yICh6IGluIHJ1bGVzKSB7XG4gICAgICBpZiAocnVsZXMuaGFzT3duUHJvcGVydHkoeikpIHtcbiAgICAgICAgaXRlbSA9IHJ1bGVzW3pdO1xuICAgICAgICB0aGlzLnJ1bGVzW3pdID0gQXJyYXkuaXNBcnJheShpdGVtKSA/IGl0ZW0gOiBbaXRlbV07XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoc291cmNlXywgbywgb2MpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKG8gPT09IHZvaWQgMCkge1xuICAgICAgbyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChvYyA9PT0gdm9pZCAwKSB7XG4gICAgICBvYyA9IGZ1bmN0aW9uIG9jKCkge307XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZSA9IHNvdXJjZV87XG4gICAgdmFyIG9wdGlvbnMgPSBvO1xuICAgIHZhciBjYWxsYmFjayA9IG9jO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnJ1bGVzIHx8IE9iamVjdC5rZXlzKHRoaXMucnVsZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZShyZXN1bHRzKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgIHZhciBmaWVsZHMgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gYWRkKGUpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHtcbiAgICAgICAgICB2YXIgX2Vycm9ycztcblxuICAgICAgICAgIGVycm9ycyA9IChfZXJyb3JzID0gZXJyb3JzKS5jb25jYXQuYXBwbHkoX2Vycm9ycywgZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWRkKHJlc3VsdHNbaV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgZXJyb3JzID0gbnVsbDtcbiAgICAgICAgZmllbGRzID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpZWxkcyA9IGNvbnZlcnRGaWVsZHNFcnJvcihlcnJvcnMpO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvcnMsIGZpZWxkcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWVzc2FnZXMpIHtcbiAgICAgIHZhciBtZXNzYWdlcyQxID0gdGhpcy5tZXNzYWdlcygpO1xuXG4gICAgICBpZiAobWVzc2FnZXMkMSA9PT0gbWVzc2FnZXMpIHtcbiAgICAgICAgbWVzc2FnZXMkMSA9IG5ld01lc3NhZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIGRlZXBNZXJnZShtZXNzYWdlcyQxLCBvcHRpb25zLm1lc3NhZ2VzKTtcbiAgICAgIG9wdGlvbnMubWVzc2FnZXMgPSBtZXNzYWdlcyQxO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLm1lc3NhZ2VzID0gdGhpcy5tZXNzYWdlcygpO1xuICAgIH1cblxuICAgIHZhciBhcnI7XG4gICAgdmFyIHZhbHVlO1xuICAgIHZhciBzZXJpZXMgPSB7fTtcbiAgICB2YXIga2V5cyA9IG9wdGlvbnMua2V5cyB8fCBPYmplY3Qua2V5cyh0aGlzLnJ1bGVzKTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKHopIHtcbiAgICAgIGFyciA9IF90aGlzLnJ1bGVzW3pdO1xuICAgICAgdmFsdWUgPSBzb3VyY2Vbel07XG4gICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgICB2YXIgcnVsZSA9IHI7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBydWxlLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGlmIChzb3VyY2UgPT09IHNvdXJjZV8pIHtcbiAgICAgICAgICAgIHNvdXJjZSA9IF9leHRlbmRzKHt9LCBzb3VyY2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gc291cmNlW3pdID0gcnVsZS50cmFuc2Zvcm0odmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcnVsZSA9IHtcbiAgICAgICAgICAgIHZhbGlkYXRvcjogcnVsZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcnVsZSA9IF9leHRlbmRzKHt9LCBydWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJ1bGUudmFsaWRhdG9yID0gX3RoaXMuZ2V0VmFsaWRhdGlvbk1ldGhvZChydWxlKTtcbiAgICAgICAgcnVsZS5maWVsZCA9IHo7XG4gICAgICAgIHJ1bGUuZnVsbEZpZWxkID0gcnVsZS5mdWxsRmllbGQgfHwgejtcbiAgICAgICAgcnVsZS50eXBlID0gX3RoaXMuZ2V0VHlwZShydWxlKTtcblxuICAgICAgICBpZiAoIXJ1bGUudmFsaWRhdG9yKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VyaWVzW3pdID0gc2VyaWVzW3pdIHx8IFtdO1xuICAgICAgICBzZXJpZXNbel0ucHVzaCh7XG4gICAgICAgICAgcnVsZTogcnVsZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgZmllbGQ6IHpcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JGaWVsZHMgPSB7fTtcbiAgICByZXR1cm4gYXN5bmNNYXAoc2VyaWVzLCBvcHRpb25zLCBmdW5jdGlvbiAoZGF0YSwgZG9JdCkge1xuICAgICAgdmFyIHJ1bGUgPSBkYXRhLnJ1bGU7XG4gICAgICB2YXIgZGVlcCA9IChydWxlLnR5cGUgPT09ICdvYmplY3QnIHx8IHJ1bGUudHlwZSA9PT0gJ2FycmF5JykgJiYgKHR5cGVvZiBydWxlLmZpZWxkcyA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHJ1bGUuZGVmYXVsdEZpZWxkID09PSAnb2JqZWN0Jyk7XG4gICAgICBkZWVwID0gZGVlcCAmJiAocnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBkYXRhLnZhbHVlKTtcbiAgICAgIHJ1bGUuZmllbGQgPSBkYXRhLmZpZWxkO1xuXG4gICAgICBmdW5jdGlvbiBhZGRGdWxsZmllbGQoa2V5LCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzY2hlbWEsIHtcbiAgICAgICAgICBmdWxsRmllbGQ6IHJ1bGUuZnVsbEZpZWxkICsgXCIuXCIgKyBrZXlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNiKGUpIHtcbiAgICAgICAgaWYgKGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgIGUgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvcnMgPSBlO1xuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShlcnJvcnMpKSB7XG4gICAgICAgICAgZXJyb3JzID0gW2Vycm9yc107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuc3VwcHJlc3NXYXJuaW5nICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBTY2hlbWEud2FybmluZygnYXN5bmMtdmFsaWRhdG9yOicsIGVycm9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCAmJiBydWxlLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVycm9ycyA9IFtdLmNvbmNhdChydWxlLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXJyb3JzID0gZXJyb3JzLm1hcChjb21wbGVtZW50RXJyb3IocnVsZSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmZpcnN0ICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBlcnJvckZpZWxkc1tydWxlLmZpZWxkXSA9IDE7XG4gICAgICAgICAgcmV0dXJuIGRvSXQoZXJyb3JzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVlcCkge1xuICAgICAgICAgIGRvSXQoZXJyb3JzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBydWxlIGlzIHJlcXVpcmVkIGJ1dCB0aGUgdGFyZ2V0IG9iamVjdFxuICAgICAgICAgIC8vIGRvZXMgbm90IGV4aXN0IGZhaWwgYXQgdGhlIHJ1bGUgbGV2ZWwgYW5kIGRvbid0XG4gICAgICAgICAgLy8gZ28gZGVlcGVyXG4gICAgICAgICAgaWYgKHJ1bGUucmVxdWlyZWQgJiYgIWRhdGEudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChydWxlLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBbXS5jb25jYXQocnVsZS5tZXNzYWdlKS5tYXAoY29tcGxlbWVudEVycm9yKHJ1bGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgICBlcnJvcnMgPSBbb3B0aW9ucy5lcnJvcihydWxlLCBmb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5yZXF1aXJlZCwgcnVsZS5maWVsZCkpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRvSXQoZXJyb3JzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZmllbGRzU2NoZW1hID0ge307XG5cbiAgICAgICAgICBpZiAocnVsZS5kZWZhdWx0RmllbGQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZGF0YS52YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoZGF0YS52YWx1ZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkc1NjaGVtYVtrXSA9IHJ1bGUuZGVmYXVsdEZpZWxkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmllbGRzU2NoZW1hID0gX2V4dGVuZHMoe30sIGZpZWxkc1NjaGVtYSwgZGF0YS5ydWxlLmZpZWxkcyk7XG5cbiAgICAgICAgICBmb3IgKHZhciBmIGluIGZpZWxkc1NjaGVtYSkge1xuICAgICAgICAgICAgaWYgKGZpZWxkc1NjaGVtYS5oYXNPd25Qcm9wZXJ0eShmKSkge1xuICAgICAgICAgICAgICB2YXIgZmllbGRTY2hlbWEgPSBBcnJheS5pc0FycmF5KGZpZWxkc1NjaGVtYVtmXSkgPyBmaWVsZHNTY2hlbWFbZl0gOiBbZmllbGRzU2NoZW1hW2ZdXTtcbiAgICAgICAgICAgICAgZmllbGRzU2NoZW1hW2ZdID0gZmllbGRTY2hlbWEubWFwKGFkZEZ1bGxmaWVsZC5iaW5kKG51bGwsIGYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2NoZW1hID0gbmV3IFNjaGVtYShmaWVsZHNTY2hlbWEpO1xuICAgICAgICAgIHNjaGVtYS5tZXNzYWdlcyhvcHRpb25zLm1lc3NhZ2VzKTtcblxuICAgICAgICAgIGlmIChkYXRhLnJ1bGUub3B0aW9ucykge1xuICAgICAgICAgICAgZGF0YS5ydWxlLm9wdGlvbnMubWVzc2FnZXMgPSBvcHRpb25zLm1lc3NhZ2VzO1xuICAgICAgICAgICAgZGF0YS5ydWxlLm9wdGlvbnMuZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjaGVtYS52YWxpZGF0ZShkYXRhLnZhbHVlLCBkYXRhLnJ1bGUub3B0aW9ucyB8fCBvcHRpb25zLCBmdW5jdGlvbiAoZXJycykge1xuICAgICAgICAgICAgdmFyIGZpbmFsRXJyb3JzID0gW107XG5cbiAgICAgICAgICAgIGlmIChlcnJvcnMgJiYgZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaW5hbEVycm9ycy5wdXNoLmFwcGx5KGZpbmFsRXJyb3JzLCBlcnJvcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJycyAmJiBlcnJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmaW5hbEVycm9ycy5wdXNoLmFwcGx5KGZpbmFsRXJyb3JzLCBlcnJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZG9JdChmaW5hbEVycm9ycy5sZW5ndGggPyBmaW5hbEVycm9ycyA6IG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciByZXM7XG5cbiAgICAgIGlmIChydWxlLmFzeW5jVmFsaWRhdG9yKSB7XG4gICAgICAgIHJlcyA9IHJ1bGUuYXN5bmNWYWxpZGF0b3IocnVsZSwgZGF0YS52YWx1ZSwgY2IsIGRhdGEuc291cmNlLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAocnVsZS52YWxpZGF0b3IpIHtcbiAgICAgICAgcmVzID0gcnVsZS52YWxpZGF0b3IocnVsZSwgZGF0YS52YWx1ZSwgY2IsIGRhdGEuc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAocmVzID09PSB0cnVlKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY2IocnVsZS5tZXNzYWdlIHx8IHJ1bGUuZmllbGQgKyBcIiBmYWlsc1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGNiKHJlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBjYihyZXMubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlcyAmJiByZXMudGhlbikge1xuICAgICAgICByZXMudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgY29tcGxldGUocmVzdWx0cyk7XG4gICAgfSk7XG4gIH0sXG4gIGdldFR5cGU6IGZ1bmN0aW9uIGdldFR5cGUocnVsZSkge1xuICAgIGlmIChydWxlLnR5cGUgPT09IHVuZGVmaW5lZCAmJiBydWxlLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJ1bGUudHlwZSA9ICdwYXR0ZXJuJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJ1bGUudmFsaWRhdG9yICE9PSAnZnVuY3Rpb24nICYmIHJ1bGUudHlwZSAmJiAhdmFsaWRhdG9ycy5oYXNPd25Qcm9wZXJ0eShydWxlLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KCdVbmtub3duIHJ1bGUgdHlwZSAlcycsIHJ1bGUudHlwZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBydWxlLnR5cGUgfHwgJ3N0cmluZyc7XG4gIH0sXG4gIGdldFZhbGlkYXRpb25NZXRob2Q6IGZ1bmN0aW9uIGdldFZhbGlkYXRpb25NZXRob2QocnVsZSkge1xuICAgIGlmICh0eXBlb2YgcnVsZS52YWxpZGF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBydWxlLnZhbGlkYXRvcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJ1bGUpO1xuICAgIHZhciBtZXNzYWdlSW5kZXggPSBrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKTtcblxuICAgIGlmIChtZXNzYWdlSW5kZXggIT09IC0xKSB7XG4gICAgICBrZXlzLnNwbGljZShtZXNzYWdlSW5kZXgsIDEpO1xuICAgIH1cblxuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSAmJiBrZXlzWzBdID09PSAncmVxdWlyZWQnKSB7XG4gICAgICByZXR1cm4gdmFsaWRhdG9ycy5yZXF1aXJlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yc1t0aGlzLmdldFR5cGUocnVsZSldIHx8IGZhbHNlO1xuICB9XG59O1xuXG5TY2hlbWEucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3Rlcih0eXBlLCB2YWxpZGF0b3IpIHtcbiAgaWYgKHR5cGVvZiB2YWxpZGF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZWdpc3RlciBhIHZhbGlkYXRvciBieSB0eXBlLCB2YWxpZGF0b3IgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhbGlkYXRvcnNbdHlwZV0gPSB2YWxpZGF0b3I7XG59O1xuXG5TY2hlbWEud2FybmluZyA9IHdhcm5pbmc7XG5TY2hlbWEubWVzc2FnZXMgPSBtZXNzYWdlcztcblNjaGVtYS52YWxpZGF0b3JzID0gdmFsaWRhdG9ycztcblxuZXhwb3J0IGRlZmF1bHQgU2NoZW1hO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9