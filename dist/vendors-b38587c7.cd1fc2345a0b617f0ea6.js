(self.webpackChunkremind=self.webpackChunkremind||[]).push([[20],{70271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(96156),i=n(28481),a=n(17375),o=n(67294),u=n(74768),s=n(94184),l=n.n(s),c={adjustX:1,adjustY:1},f=[0,0];const d={topLeft:{points:["bl","tl"],overflow:c,offset:[0,-4],targetOffset:f},topCenter:{points:["bc","tc"],overflow:c,offset:[0,-4],targetOffset:f},topRight:{points:["br","tr"],overflow:c,offset:[0,-4],targetOffset:f},bottomLeft:{points:["tl","bl"],overflow:c,offset:[0,4],targetOffset:f},bottomCenter:{points:["tc","bc"],overflow:c,offset:[0,4],targetOffset:f},bottomRight:{points:["tr","br"],overflow:c,offset:[0,4],targetOffset:f}},v=o.forwardRef((function(e,t){var n=e.arrow,s=void 0!==n&&n,c=e.prefixCls,f=void 0===c?"rc-dropdown":c,v=e.transitionName,p=e.animation,m=e.align,h=e.placement,g=void 0===h?"bottomLeft":h,y=e.placements,Z=void 0===y?d:y,b=e.getPopupContainer,C=e.showAction,E=e.hideAction,k=e.overlayClassName,F=e.overlayStyle,P=e.visible,w=e.trigger,N=void 0===w?["hover"]:w,V=(0,a.Z)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),x=o.useState(),M=(0,i.Z)(x,2),R=M[0],I=M[1],S="visible"in e?P:R,A=o.useRef(null);o.useImperativeHandle(t,(function(){return A.current}));var T,O,L,K,D,$,j=function(){var t=e.overlay;return"function"==typeof t?t():t},U=function(t){var n=e.onOverlayClick,r=j().props;I(!1),n&&n(t),r.onClick&&r.onClick(t)},_=function(){var e=j(),t={prefixCls:"".concat(f,"-menu"),onClick:U};return"string"==typeof e.type&&delete t.prefixCls,o.createElement(o.Fragment,null,s&&o.createElement("div",{className:"".concat(f,"-arrow")}),o.cloneElement(e,t))},H=E;return H||-1===N.indexOf("contextMenu")||(H=["click"]),o.createElement(u.Z,Object.assign({},V,{prefixCls:f,ref:A,popupClassName:l()(k,(0,r.Z)({},"".concat(f,"-show-arrow"),s)),popupStyle:F,builtinPlacements:Z,action:N,showAction:C,hideAction:H||[],popupPlacement:g,popupAlign:m,popupTransitionName:v,popupAnimation:p,popupVisible:S,stretch:(D=e.minOverlayWidthMatchTrigger,$=e.alignPoint,("minOverlayWidthMatchTrigger"in e?D:!$)?"minWidth":""),popup:"function"==typeof e.overlay?_:_(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;I(t),"function"==typeof n&&n(t)},getPopupContainer:b}),(L=(O=e.children).props?O.props:{},K=l()(L.className,void 0!==(T=e.openClassName)?T:"".concat(f,"-open")),R&&O?o.cloneElement(O,{className:K}):O))}))},71864:(e,t,n)=>{"use strict";n.d(t,{RV:()=>ne});var r=n(67294),i=n(22122),a=n(17375),o=n(96156),u=n(28991),s=n(85061),l=n(6610),c=n(5991),f=n(63349),d=n(10379),v=n(60446),p=n(50344),m=n(80334),h="RC_FORM_INTERNAL_HOOKS",g=function(){(0,m.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const y=r.createContext({getFieldValue:g,getFieldsValue:g,getFieldError:g,getFieldsError:g,isFieldsTouched:g,isFieldTouched:g,isFieldValidating:g,isFieldsValidating:g,resetFields:g,setFields:g,setFieldsValue:g,validateFields:g,submit:g,getInternalHooks:function(){return g(),{dispatch:g,initEntityValue:g,registerField:g,useSubscribe:g,setInitialValues:g,setCallbacks:g,getFields:g,setValidateMessages:g,setPreserve:g}}});function Z(e){return null==e?[]:Array.isArray(e)?e:[e]}var b=n(87757),C=n.n(b),E=n(92137),k=n(90484),F=n(25715),P=n(88306),w=n(8880);function N(e){return Z(e)}function V(e,t){return(0,P.Z)(e,t)}function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,w.Z)(e,t,n,r);return i}function M(e,t){var n={};return t.forEach((function(t){var r=V(e,t);n=x(n,t,r)})),n}function R(e,t){return e&&e.some((function(e){return T(e,t)}))}function I(e){return"object"===(0,k.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function S(e,t){var n=Array.isArray(e)?(0,s.Z)(e):(0,u.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=I(r)&&I(i);n[e]=a?S(r,i||{}):i})),n):n}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return S(e,t)}),e)}function T(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function O(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function L(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat((0,s.Z)(e.slice(0,n)),[i],(0,s.Z)(e.slice(n,t)),(0,s.Z)(e.slice(t+1,r))):a<0?[].concat((0,s.Z)(e.slice(0,t)),(0,s.Z)(e.slice(t+1,n+1)),[i],(0,s.Z)(e.slice(n+1,r))):e}var K="'${name}' is not a valid ${type}",D={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:K,method:K,array:K,object:K,number:K,date:K,boolean:K,integer:K,float:K,regexp:K,email:K,url:K,hex:K},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},$=F.Z;function j(e,t,n,r){var i=(0,u.Z)((0,u.Z)({},n),{},{name:t,enum:(n.enum||[]).join(", ")}),a=function(e,t){return function(){return function(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}(e,(0,u.Z)((0,u.Z)({},i),t))}};return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(i){var o=t[i];"string"==typeof o?n[i]=a(o,r):o&&"object"===(0,k.Z)(o)?(n[i]={},e(o,n[i])):n[i]=o})),n}(A({},D,e))}function U(e,t,n,r,i){return _.apply(this,arguments)}function _(){return(_=(0,E.Z)(C().mark((function e(t,n,i,a,l){var c,f,d,v,p,m;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,u.Z)({},i),f=null,c&&"array"===c.type&&c.defaultField&&(f=c.defaultField,delete c.defaultField),d=new $((0,o.Z)({},t,[c])),v=j(a.validateMessages,t,c,l),d.messages(v),p=[],e.prev=7,e.next=10,Promise.resolve(d.validate((0,o.Z)({},t,n),(0,u.Z)({},a)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0.errors?p=e.t0.errors.map((function(e,t){var n=e.message;return r.isValidElement(n)?r.cloneElement(n,{key:"error_".concat(t)}):n})):(console.error(e.t0),p=[v.default()]);case 15:if(p.length||!f){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return U("".concat(t,".").concat(n),e,f,a,l)})));case 18:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat((0,s.Z)(e),(0,s.Z)(t))}),[]));case 20:return e.abrupt("return",p);case 21:case"end":return e.stop()}}),e,null,[[7,12]])})))).apply(this,arguments)}function H(){return(H=(0,E.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,s.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=(0,E.Z)(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n,r,i,a){return"function"==typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var q=function(e){(0,d.Z)(n,e);var t=(0,v.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,N(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,s.Z)(r),(0,s.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,l=n.store,c=i.getNamePath(),f=i.getValue(e),d=i.getValue(l),v=t&&R(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=[]),n.type){case"reset":if(!t||v)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=[],s&&s(),void i.refresh();break;case"setField":if(v){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||[]),i.dirty=!0,void i.reRender()}if(a&&!c.length&&W(a,e,l,f,d,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(N).some((function(e){return R(n.relatedFields,e)})))return void i.reRender();break;default:if(v||(!u.length||c.length||a)&&W(a,e,l,f,d,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,l=a.messageVariables,c=(e||{}).triggerName,f=i.getRules();c&&(f=f.filter((function(e){var t=e.validateTrigger;return!t||Z(t).includes(c)})));var d=function(e,t,n,r,i,a){var o,s=e.join("."),l=n.map((function(e){var t=e.validator;return t?(0,u.Z)((0,u.Z)({},e),{},{validator:function(e,n,r){var i=!1,a=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){(0,m.ZP)(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"==typeof a.then&&"function"==typeof a.catch,(0,m.ZP)(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}}):e}));if(!0===i)o=new Promise(function(){var e=(0,E.Z)(C().mark((function e(n,i){var o,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=11;break}return e.next=4,U(s,t,l[o],r,a);case 4:if(!(u=e.sent).length){e.next=8;break}return i(u),e.abrupt("return");case 8:o+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return U(s,t,e,r,a)}));o=(i?function(e){return z.apply(this,arguments)}(c):function(e){return H.apply(this,arguments)}(c)).then((function(e){return e.length?Promise.reject(e):[]}))}return o.catch((function(e){return e})),o}(t,n,f,e,s,l);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i.validatePromise===r&&(i.validatePromise=null,i.errors=e,i.reRender())})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=[],i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return i.dirty},i.getErrors=function(){return i.errors},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"==typeof e){var t=i.getMeta();return(0,u.Z)((0,u.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=(0,p.Z)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return V(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,f=t.fieldContext,d=void 0!==r?r:f.validateTrigger,v=i.getNamePath(),p=f.getInternalHooks,m=f.getFieldsValue,g=p(h),y=g.dispatch,b=i.getValue(),C=c||function(e){return(0,o.Z)({},l,e)},E=e[n],k=(0,u.Z)((0,u.Z)({},e),C(b));k[n]=function(){var e;i.touched=!0,i.dirty=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):O.apply(void 0,[l].concat(n)),s&&(e=s(e,b,m(!0))),y({type:"updateValue",namePath:v,value:e}),E&&E.apply(void 0,n)};var F=Z(d||[]);return F.forEach((function(e){var t=k[e];k[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&y({type:"validateField",namePath:v,triggerName:e})}})),k},e.fieldContext&&(0,(0,e.fieldContext.getInternalHooks)(h).initEntityValue)((0,f.Z)(i)),i}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(h).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):((0,m.ZP)(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);q.contextType=y,q.defaultProps={trigger:"onChange",valuePropName:"value"};const X=function(e){var t=e.name,n=(0,a.Z)(e,["name"]),o=r.useContext(y),u=void 0!==t?N(t):void 0,s="keep";return n.isListField||(s="_".concat((u||[]).join("_"))),r.createElement(q,(0,i.Z)({key:s,name:u},n,{fieldContext:o}))};var Y=n(28481),B="__@field_split__";function G(e){return e.map((function(e){return"".concat((0,k.Z)(e),":").concat(e)})).join(B)}const J=function(){function e(){(0,l.Z)(this,e),this.kvs=new Map}return(0,c.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(G(e),t)}},{key:"get",value:function(e){return this.kvs.get(G(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(G(e))}},{key:"map",value:function(e){return(0,s.Z)(this.kvs.entries()).map((function(t){var n=(0,Y.Z)(t,2),r=n[0],i=n[1],a=r.split(B);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,Y.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();var Q=function e(t){var n=this;(0,l.Z)(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===h?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):((0,m.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=A({},e,n.store))},this.getInitialValue=function(e){return V(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new J;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=N(e);return t.get(n)||{INVALIDATE_NAME_PATH:N(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),M(n.store,i.map(N))},this.getFieldValue=function(e){n.warningUnhooked();var t=N(e);return V(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:N(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=N(e);return n.getFieldsError([t])[0].errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(N),u=!1):(i=null,u=a):(i=a.map(N),u=o);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?l.every(c):l.some(c);var f=new J;i.forEach((function(e){f.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat((0,s.Z)(t),[e])}))}))}));var d=function(e){return e.some(c)},v=f.map((function(e){return e.value}));return u?v.every(d):v.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(N);return t.some((function(e){var t=e.getNamePath();return R(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new J,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))(0,m.ZP)(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)(0,m.ZP)(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||(n.store=x(n.store,i,(0,s.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,s.Z)((0,s.Z)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=A({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(N);r.forEach((function(e){var t=n.getInitialValue(e);n.store=x(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,(0,a.Z)(e,["name","errors"])),o=N(r);"value"in i&&(n.store=x(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,u.Z)((0,u.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===V(n.store,r)&&(n.store=x(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var a=void 0!==r?r:n.preserve;if(!1===a&&(!t||i.length>1)){var o=e.getNamePath(),u=t?void 0:V(n.initialValues,o);o.length&&n.getFieldValue(o)!==u&&n.fieldEntities.every((function(e){return!T(e.getNamePath(),o)}))&&(n.store=x(n.store,o,u,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,u.Z)((0,u.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=N(e),i=n.store;n.store=x(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var a=n.getDependencyChildrenFields(r);a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat((0,s.Z)(a))});var o=n.callbacks.onValuesChange;o&&o(M(n.store,[r]),n.getFieldsValue()),n.triggerOnFieldsChange([r].concat((0,s.Z)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=A(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new J;return n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=N(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))})),function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new J;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return R(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(N):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null==t?void 0:t.recursive)&&r){var s=o.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(o.props.rules&&o.props.rules.length){var l=o.getNamePath();if(!r||R(i,l)){var c=o.validateRules((0,u.Z)({validateMessages:(0,u.Z)((0,u.Z)({},D),n.validateMessages)},t));a.push(c.then((function(){return{name:l,errors:[]}})).catch((function(e){return Promise.reject({name:l,errors:e})})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(e){console.error(e)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};const ee=function(e){var t=r.useRef(),n=r.useState({}),i=(0,Y.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new Q((function(){i({})}));t.current=a.getForm()}return[t.current]};var te=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ne=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,s=r.useContext(te),l=r.useRef({});return r.createElement(te.Provider,{value:(0,u.Z)((0,u.Z)({},s),{},{validateMessages:(0,u.Z)((0,u.Z)({},s.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:l.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:l.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=(0,u.Z)((0,u.Z)({},l.current),{},(0,o.Z)({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=(0,u.Z)({},l.current);delete t[e],l.current=t,s.unregisterForm(e)}})},a)};const re=te,ie=function(e,t){var n=e.name,o=e.initialValues,l=e.fields,c=e.form,f=e.preserve,d=e.children,v=e.component,p=void 0===v?"form":v,m=e.validateMessages,g=e.validateTrigger,Z=void 0===g?"onChange":g,b=e.onValuesChange,C=e.onFieldsChange,E=e.onFinish,F=e.onFinishFailed,P=(0,a.Z)(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),w=r.useContext(re),N=ee(c),V=(0,Y.Z)(N,1)[0],x=V.getInternalHooks(h),M=x.useSubscribe,R=x.setInitialValues,I=x.setCallbacks,S=x.setValidateMessages,A=x.setPreserve;r.useImperativeHandle(t,(function(){return V})),r.useEffect((function(){return w.registerForm(n,V),function(){w.unregisterForm(n)}}),[w,V,n]),S((0,u.Z)((0,u.Z)({},w.validateMessages),m)),I({onValuesChange:b,onFieldsChange:function(e){if(w.triggerFormChange(n,e),C){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];C.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),E&&E(e)},onFinishFailed:F}),A(f);var T=r.useRef(null);R(o,!T.current),T.current||(T.current=!0);var O=d,L="function"==typeof d;L&&(O=d(V.getFieldsValue(!0),V)),M(!L);var K=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,k.Z)(e)||"object"!==(0,k.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat((0,s.Z)(n),(0,s.Z)(r)));return(0,s.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"==typeof r&&"function"==typeof i||r===i}))})(K.current||[],l||[])||V.setFields(l||[]),K.current=l}),[l,V]);var D=r.useMemo((function(){return(0,u.Z)((0,u.Z)({},V),{},{validateTrigger:Z})}),[V,Z]),$=r.createElement(y.Provider,{value:D},O);return!1===p?$:r.createElement(p,(0,i.Z)({},P,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),V.submit()},onReset:function(e){var t;e.preventDefault(),V.resetFields(),null===(t=P.onReset)||void 0===t||t.call(P,e)}}),$)};var ae=r.forwardRef(ie);ae.FormProvider=ne,ae.Field=X,ae.List=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,l=r.useContext(y),c=r.useRef({keys:[],id:0}).current;if("function"!=typeof i)return(0,m.ZP)(!1,"Form.List only accepts function as children."),null;var f=N(l.prefixName)||[],d=[].concat((0,s.Z)(f),(0,s.Z)(N(t)));return r.createElement(y.Provider,{value:(0,u.Z)((0,u.Z)({},l),{},{prefixName:d})},r.createElement(X,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=l.getFieldValue,u=function(){return o(d||[])||[]},f={add:function(e,t){var n=u();t>=0&&t<=n.length?(c.keys=[].concat((0,s.Z)(c.keys.slice(0,t)),[c.id],(0,s.Z)(c.keys.slice(t))),a([].concat((0,s.Z)(n.slice(0,t)),[e],(0,s.Z)(n.slice(t))))):(c.keys=[].concat((0,s.Z)(c.keys),[c.id]),a([].concat((0,s.Z)(n),[e]))),c.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(c.keys=L(c.keys,e,t),a(L(n,e,t)))}}},v=r||[];return Array.isArray(v)||(v=[]),i(v.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),f,t)})))},ae.useForm=ee},30965:(e,t,n)=>{"use strict";n.d(t,{iz:()=>Fe,ck:()=>j,BW:()=>ke,sN:()=>j,Wd:()=>ae,ZP:()=>Ne,Xl:()=>Pe});var r=n(22122),i=n(96156),a=n(28991),o=n(85061),u=n(28481),s=n(17375),l=n(67294),c=n(94184),f=n.n(c),d=n(96774),v=n.n(d),p=n(21770),m=n(80334),h=n(19214),g=n(6610),y=n(5991),Z=n(10379),b=n(60446),C=n(15105),E=n(98423),k=n(56982),F=l.createContext(null);function P(e){var t=e.children,n=e.locked,r=(0,s.Z)(e,["children","locked"]),i=l.useContext(F),o=(0,k.Z)((function(){return e=i,t=r,n=(0,a.Z)({},e),Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n;var e,t,n}),[i,r],(function(e,t){return!(n||e[0]===t[0]&&v()(e[1],t[1]))}));return l.createElement(F.Provider,{value:o},t)}function w(e,t,n,r){var i=l.useContext(F),a=i.activeKey,o=i.onActive,u=i.onInactive,s={active:a===e};return t||(s.onMouseEnter=function(t){null==n||n({key:e,domEvent:t}),o(e)},s.onMouseLeave=function(t){null==r||r({key:e,domEvent:t}),u(e)}),s}function N(e){var t=e.item,n=(0,s.Z)(e,["item"]);return Object.defineProperty(n,"item",{get:function(){return(0,m.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function V(e){var t=e.icon,n=e.props,r=e.children;return("function"==typeof t?l.createElement(t,(0,a.Z)({},n)):t)||r||null}function x(e){var t=l.useContext(F),n=t.mode,r=t.rtl,i=t.inlineIndent;return"inline"!==n?null:r?{paddingRight:e*i}:{paddingLeft:e*i}}var M=[],R=l.createContext(null);function I(){return l.useContext(R)}var S=l.createContext(M);function A(e){var t=l.useContext(S);return l.useMemo((function(){return void 0!==e?[].concat((0,o.Z)(t),[e]):t}),[t,e])}var T=l.createContext(null),O=l.createContext(null);function L(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function K(e){return L(l.useContext(O),e)}var D=function(e){(0,Z.Z)(n,e);var t=(0,b.Z)(n);function n(){return(0,g.Z)(this,n),t.apply(this,arguments)}return(0,y.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=(0,s.Z)(e,["title","attribute","elementRef"]),o=(0,E.Z)(a,["eventKey"]);return(0,m.ZP)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),l.createElement(h.Z.Item,(0,r.Z)({},n,{title:"string"==typeof t?t:void 0},o,{ref:i}))}}]),n}(l.Component),$=function(e){var t,n=e.style,u=e.className,c=e.eventKey,d=(e.warnKey,e.disabled),v=e.itemIcon,p=e.children,m=e.role,h=e.onMouseEnter,g=e.onMouseLeave,y=e.onClick,Z=e.onKeyDown,b=e.onFocus,E=(0,s.Z)(e,["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"]),k=K(c),P=l.useContext(F),M=P.prefixCls,R=P.onItemClick,I=P.disabled,S=P.overflowDisabled,T=P.itemIcon,O=P.selectedKeys,L=P.onActive,$="".concat(M,"-item"),j=l.useRef(),U=l.useRef(),_=I||d,H=A(c),z=function(e){return{key:c,keyPath:(0,o.Z)(H).reverse(),item:j.current,domEvent:e}},W=v||T,q=w(c,_,h,g),X=q.active,Y=(0,s.Z)(q,["active"]),B=O.includes(c),G=x(H.length),J={};return"option"===e.role&&(J["aria-selected"]=B),l.createElement(D,(0,r.Z)({ref:j,elementRef:U,role:null===m?"none":m||"menuitem",tabIndex:d?null:-1,"data-menu-id":S&&k?null:k},E,Y,J,{component:"li","aria-disabled":d,style:(0,a.Z)((0,a.Z)({},G),n),className:f()($,(t={},(0,i.Z)(t,"".concat($,"-active"),X),(0,i.Z)(t,"".concat($,"-selected"),B),(0,i.Z)(t,"".concat($,"-disabled"),_),t),u),onClick:function(e){if(!_){var t=z(e);null==y||y(N(t)),R(t)}},onKeyDown:function(e){if(null==Z||Z(e),e.which===C.Z.ENTER){var t=z(e);null==y||y(N(t)),R(t)}},onFocus:function(e){L(c),null==b||b(e)}}),p,l.createElement(V,{props:(0,a.Z)((0,a.Z)({},e),{},{isSelected:B}),icon:W}))};const j=function(e){var t=e.eventKey,n=I(),r=A(t);return l.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:l.createElement($,e)};var U=n(50344);function _(e,t){return(0,U.Z)(e).map((function(e,n){if(l.isValidElement(e)){var r,i,a=e.key,u=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:a;null==u&&(u="tmp_key-".concat([].concat((0,o.Z)(t),[n]).join("-")));var s={key:u,eventKey:u};return l.cloneElement(e,s)}return e}))}function H(e){var t=l.useRef(e);t.current=e;var n=l.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var z=function(e,t){var n=e.className,i=e.children,a=(0,s.Z)(e,["className","children"]),o=l.useContext(F),u=o.prefixCls,c=o.mode;return l.createElement("ul",(0,r.Z)({className:f()(u,"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===c?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},W=l.forwardRef(z);W.displayName="SubMenuList";const q=W;var X=n(74768),Y=n(75164),B={adjustX:1,adjustY:1},G={topLeft:{points:["bl","tl"],overflow:B,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:B,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:B,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:B,offset:[4,0]}},J={topLeft:{points:["bl","tl"],overflow:B,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:B,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:B,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:B,offset:[4,0]}};function Q(e,t,n){return t||(n?n[e]||n.other:void 0)}var ee={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function te(e){var t=e.prefixCls,n=e.visible,r=e.children,o=e.popup,s=e.popupClassName,c=e.popupOffset,d=e.disabled,v=e.mode,p=e.onVisibleChange,m=l.useContext(F),h=m.getPopupContainer,g=m.rtl,y=m.subMenuOpenDelay,Z=m.subMenuCloseDelay,b=m.builtinPlacements,C=m.triggerSubMenuAction,E=m.forceSubMenuRender,k=m.motion,P=m.defaultMotions,w=l.useState(!1),N=(0,u.Z)(w,2),V=N[0],x=N[1],M=g?(0,a.Z)((0,a.Z)({},J),b):(0,a.Z)((0,a.Z)({},G),b),R=ee[v],I=Q(v,k,P),S=(0,a.Z)((0,a.Z)({},I),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=l.useRef();return l.useEffect((function(){return A.current=(0,Y.Z)((function(){x(n)})),function(){Y.Z.cancel(A.current)}}),[n]),l.createElement(X.Z,{prefixCls:t,popupClassName:f()("".concat(t,"-popup"),(0,i.Z)({},"".concat(t,"-rtl"),g),s),stretch:"horizontal"===v?"minWidth":null,getPopupContainer:h,builtinPlacements:M,popupPlacement:R,popupVisible:V,popup:o,popupAlign:c&&{offset:c},action:d?[]:[C],mouseEnterDelay:y,mouseLeaveDelay:Z,onPopupVisibleChange:p,forceRender:E,popupMotion:S},r)}var ne=n(60444);function re(e){var t=e.id,n=e.open,i=e.keyPath,o=e.children,s="inline",c=l.useContext(F),f=c.prefixCls,d=c.forceSubMenuRender,v=c.motion,p=c.defaultMotions,m=c.mode,h=l.useRef(!1);h.current=m===s;var g=l.useState(!h.current),y=(0,u.Z)(g,2),Z=y[0],b=y[1],C=!!h.current&&n;l.useEffect((function(){h.current&&b(!1)}),[m]);var E=(0,a.Z)({},Q(s,v,p));i.length>1&&(E.motionAppear=!1);var k=E.onVisibleChanged;return E.onVisibleChanged=function(e){return h.current||e||b(!0),null==k?void 0:k(e)},Z?null:l.createElement(P,{mode:s,locked:!h.current},l.createElement(ne.Z,(0,r.Z)({visible:C},E,{forceRender:d,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var n=e.className,r=e.style;return l.createElement(q,{id:t,className:n,style:r},o)})))}var ie=function(e){var t,n=e.style,o=e.className,c=e.title,d=e.eventKey,v=(e.warnKey,e.disabled),p=e.internalPopupClose,m=e.children,g=e.itemIcon,y=e.expandIcon,Z=e.popupClassName,b=e.popupOffset,C=e.onClick,E=e.onMouseEnter,k=e.onMouseLeave,M=e.onTitleClick,R=e.onTitleMouseEnter,I=e.onTitleMouseLeave,S=(0,s.Z)(e,["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"]),O=K(d),L=l.useContext(F),D=L.prefixCls,$=L.mode,j=L.openKeys,U=L.disabled,_=L.overflowDisabled,z=L.activeKey,W=L.selectedKeys,X=L.itemIcon,Y=L.expandIcon,B=L.onItemClick,G=L.onOpenChange,J=L.onActive,Q=l.useContext(T).isSubPathKey,ee=A(),ne="".concat(D,"-submenu"),ie=U||v,ae=l.useRef(),oe=l.useRef(),ue=g||X,se=y||Y,le=j.includes(d),ce=!_&&le,fe=Q(W,d),de=w(d,ie,R,I),ve=de.active,pe=(0,s.Z)(de,["active"]),me=l.useState(!1),he=(0,u.Z)(me,2),ge=he[0],ye=he[1],Ze=function(e){ie||ye(e)},be=l.useMemo((function(){return ve||"inline"!==$&&(ge||Q([z],d))}),[$,ve,z,ge,d,Q]),Ce=x(ee.length),Ee=H((function(e){null==C||C(N(e)),B(e)})),ke=O&&"".concat(O,"-popup"),Fe=l.createElement("div",(0,r.Z)({role:"menuitem",style:Ce,className:"".concat(ne,"-title"),tabIndex:ie?null:-1,ref:ae,title:"string"==typeof c?c:null,"data-menu-id":_&&O?null:O,"aria-expanded":ce,"aria-haspopup":!0,"aria-controls":ke,"aria-disabled":ie,onClick:function(e){ie||(null==M||M({key:d,domEvent:e}),"inline"===$&&G(d,!le))},onFocus:function(){J(d)}},pe),c,l.createElement(V,{icon:"horizontal"!==$?se:null,props:(0,a.Z)((0,a.Z)({},e),{},{isOpen:ce,isSubMenu:!0})},l.createElement("i",{className:"".concat(ne,"-arrow")}))),Pe=l.useRef($);if("inline"!==$&&(Pe.current=ee.length>1?"vertical":$),!_){var we=Pe.current;Fe=l.createElement(te,{mode:we,prefixCls:ne,visible:!p&&ce&&"inline"!==$,popupClassName:Z,popupOffset:b,popup:l.createElement(P,{mode:"horizontal"===we?"vertical":we},l.createElement(q,{id:ke,ref:oe},m)),disabled:ie,onVisibleChange:function(e){"inline"!==$&&G(d,e)}},Fe)}return l.createElement(P,{onItemClick:Ee,mode:"horizontal"===$?"vertical":$,itemIcon:ue,expandIcon:se},l.createElement(h.Z.Item,(0,r.Z)({role:"none"},S,{component:"li",style:n,className:f()(ne,"".concat(ne,"-").concat($),o,(t={},(0,i.Z)(t,"".concat(ne,"-open"),ce),(0,i.Z)(t,"".concat(ne,"-active"),be),(0,i.Z)(t,"".concat(ne,"-selected"),fe),(0,i.Z)(t,"".concat(ne,"-disabled"),ie),t)),onMouseEnter:function(e){Ze(!0),null==E||E({key:d,domEvent:e})},onMouseLeave:function(e){Ze(!1),null==k||k({key:d,domEvent:e})}}),Fe,!_&&l.createElement(re,{id:ke,open:ce,keyPath:ee},m)))};function ae(e){var t,n=e.eventKey,r=e.children,i=A(n),a=_(r,i),o=I();return l.useEffect((function(){if(o)return o.registerPath(n,i),function(){o.unregisterPath(n,i)}}),[i]),t=o?a:l.createElement(ie,e,a),l.createElement(S.Provider,{value:i},t)}var oe=n(88603),ue=C.Z.LEFT,se=C.Z.RIGHT,le=C.Z.UP,ce=C.Z.DOWN,fe=C.Z.ENTER,de=C.Z.ESC,ve=[le,ce,ue,se];function pe(e,t){return(0,oe.tS)(e,!0).filter((function(e){return t.has(e)}))}function me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=pe(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}var he=Math.random().toFixed(5).toString().slice(2),ge=0,ye="__RC_UTIL_PATH_SPLIT__",Ze=function(e){return e.join(ye)},be="rc-menu-more";var Ce=[],Ee=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=(0,s.Z)(e,["className","title","eventKey","children"]),o=l.useContext(F).prefixCls,u="".concat(o,"-item-group");return l.createElement("li",(0,r.Z)({},a,{onClick:function(e){return e.stopPropagation()},className:f()(u,t)}),l.createElement("div",{className:"".concat(u,"-title"),title:"string"==typeof n?n:void 0},n),l.createElement("ul",{className:"".concat(u,"-list")},i))};function ke(e){var t=e.children,n=(0,s.Z)(e,["children"]),r=_(t,A(n.eventKey));return I()?r:l.createElement(Ee,(0,E.Z)(n,["warnKey"]),r)}function Fe(e){var t=e.className,n=e.style,r=l.useContext(F).prefixCls;return I()?null:l.createElement("li",{className:f()("".concat(r,"-item-divider"),t),style:n})}var Pe=A,we=function(e){var t,n,c=e.prefixCls,d=void 0===c?"rc-menu":c,m=e.style,g=e.className,y=e.tabIndex,Z=void 0===y?0:y,b=e.children,C=e.direction,E=e.id,k=e.mode,F=void 0===k?"vertical":k,w=e.inlineCollapsed,V=e.disabled,x=e.disabledOverflow,M=e.subMenuOpenDelay,I=void 0===M?.1:M,S=e.subMenuCloseDelay,A=void 0===S?.1:S,K=e.forceSubMenuRender,D=e.defaultOpenKeys,$=e.openKeys,U=e.activeKey,z=e.defaultActiveFirst,W=e.selectable,q=void 0===W||W,X=e.multiple,B=void 0!==X&&X,G=e.defaultSelectedKeys,J=e.selectedKeys,Q=e.onSelect,ee=e.onDeselect,te=e.inlineIndent,ne=void 0===te?24:te,re=e.motion,ie=e.defaultMotions,oe=e.triggerSubMenuAction,pe=void 0===oe?"hover":oe,Ee=e.builtinPlacements,ke=e.itemIcon,Fe=e.expandIcon,Pe=e.overflowedIndicator,we=void 0===Pe?"...":Pe,Ne=e.overflowedIndicatorPopupClassName,Ve=e.getPopupContainer,xe=e.onClick,Me=e.onOpenChange,Re=e.onKeyDown,Ie=(e.openAnimation,e.openTransitionName,(0,s.Z)(e,["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName"])),Se=_(b,Ce),Ae=l.useState(!1),Te=(0,u.Z)(Ae,2),Oe=Te[0],Le=Te[1],Ke=l.useRef(),De=function(e){var t=(0,p.Z)(e,{value:e}),n=(0,u.Z)(t,2),r=n[0],i=n[1];return l.useEffect((function(){ge+=1;var e="".concat(he,"-").concat(ge);i("rc-menu-uuid-".concat(e))}),[]),r}(E),$e="rtl"===C,je=l.useMemo((function(){return"inline"!==F&&"vertical"!==F||!w?[F,!1]:["vertical",w]}),[F,w]),Ue=(0,u.Z)(je,2),_e=Ue[0],He=Ue[1],ze=l.useState(0),We=(0,u.Z)(ze,2),qe=We[0],Xe=We[1],Ye=qe>=Se.length-1||"horizontal"!==_e||x,Be=(0,p.Z)(D,{value:$,postState:function(e){return e||Ce}}),Ge=(0,u.Z)(Be,2),Je=Ge[0],Qe=Ge[1],et=function(e){Qe(e),null==Me||Me(e)},tt=l.useState(Je),nt=(0,u.Z)(tt,2),rt=nt[0],it=nt[1],at="inline"===_e,ot=l.useRef(!1);l.useEffect((function(){at&&it(Je)}),[Je]),l.useEffect((function(){ot.current?at?Qe(rt):et(Ce):ot.current=!0}),[at]);var ut=function(){var e=l.useState({}),t=(0,u.Z)(e,2)[1],n=(0,l.useRef)(new Map),r=(0,l.useRef)(new Map),i=l.useState([]),a=(0,u.Z)(i,2),s=a[0],c=a[1],f=(0,l.useRef)(0),d=(0,l.useRef)(!1),v=(0,l.useCallback)((function(e,i){var a=Ze(i);r.current.set(a,e),n.current.set(e,a),f.current+=1;var o,u=f.current;o=function(){u===f.current&&(d.current||t({}))},Promise.resolve().then(o)}),[]),p=(0,l.useCallback)((function(e,t){var i=Ze(t);r.current.delete(i),n.current.delete(e)}),[]),m=(0,l.useCallback)((function(e){c(e)}),[]),h=(0,l.useCallback)((function(e,t){var r=(n.current.get(e)||"").split(ye);return t&&s.includes(r[0])&&r.unshift(be),r}),[s]),g=(0,l.useCallback)((function(e,t){return e.some((function(e){return h(e,!0).includes(t)}))}),[h]),y=(0,l.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(ye),i=new Set;return(0,o.Z)(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return l.useEffect((function(){return function(){d.current=!0}}),[]),{registerPath:v,unregisterPath:p,refreshOverflowKeys:m,isSubPathKey:g,getKeyPath:h,getKeys:function(){var e=(0,o.Z)(n.current.keys());return s.length&&e.push(be),e},getSubPathKeys:y}}(),st=ut.registerPath,lt=ut.unregisterPath,ct=ut.refreshOverflowKeys,ft=ut.isSubPathKey,dt=ut.getKeyPath,vt=ut.getKeys,pt=ut.getSubPathKeys,mt=l.useMemo((function(){return{registerPath:st,unregisterPath:lt}}),[st,lt]),ht=l.useMemo((function(){return{isSubPathKey:ft}}),[ft]);l.useEffect((function(){ct(Ye?Ce:Se.slice(qe+1).map((function(e){return e.key})))}),[qe,Ye]);var gt=(0,p.Z)(U||z&&(null===(t=Se[0])||void 0===t?void 0:t.key),{value:U}),yt=(0,u.Z)(gt,2),Zt=yt[0],bt=yt[1],Ct=H((function(e){bt(e)})),Et=H((function(){bt(void 0)})),kt=(0,p.Z)(G||[],{value:J,postState:function(e){return Array.isArray(e)?e:null==e?Ce:[e]}}),Ft=(0,u.Z)(kt,2),Pt=Ft[0],wt=Ft[1],Nt=H((function(e){null==xe||xe(N(e)),function(e){if(q){var t,n=e.key,r=Pt.includes(n);t=B?r?Pt.filter((function(e){return e!==n})):[].concat((0,o.Z)(Pt),[n]):[n],wt(t);var i=(0,a.Z)((0,a.Z)({},e),{},{selectedKeys:t});r?null==ee||ee(i):null==Q||Q(i)}!B&&Je.length&&"inline"!==_e&&et(Ce)}(e)})),Vt=H((function(e,t){var n=Je.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==_e){var r=pt(e);n=n.filter((function(e){return!r.has(e)}))}v()(Je,n)||et(n)})),xt=H(Ve),Mt=function(e,t,n,r,a,o,u,s,c,f){var d=l.useRef(),v=l.useRef();v.current=t;var p=function(){Y.Z.cancel(d.current)};return l.useEffect((function(){return function(){p()}}),[]),function(l){var m=l.which;if([].concat(ve,[fe,de]).includes(m)){var h,g,y,Z=function(){return h=new Set,g=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(L(r,e),"']"));t&&(h.add(t),y.set(t,e),g.set(e,t))})),h};Z();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(g.get(t),h),C=y.get(b),E=function(e,t,n,r){var a,o,u,s,l="prev",c="next",f="children",d="parent";if("inline"===e&&r===fe)return{inlineTrigger:!0};var v=(a={},(0,i.Z)(a,le,l),(0,i.Z)(a,ce,c),a),p=(o={},(0,i.Z)(o,ue,n?c:l),(0,i.Z)(o,se,n?l:c),(0,i.Z)(o,ce,f),(0,i.Z)(o,fe,f),o),m=(u={},(0,i.Z)(u,le,l),(0,i.Z)(u,ce,c),(0,i.Z)(u,fe,f),(0,i.Z)(u,de,d),(0,i.Z)(u,ue,n?f:d),(0,i.Z)(u,se,n?d:f),u);switch(null===(s={inline:v,horizontal:p,vertical:m,inlineSub:v,horizontalSub:m,verticalSub:m}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}(e,1===u(C,!0).length,n,m);if(!E)return;ve.includes(m)&&l.preventDefault();var k=function(e){if(e){var t=e,n=e.querySelector("a");(null==n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);s(r),p(),d.current=(0,Y.Z)((function(){v.current===r&&t.focus()}))}};if(E.sibling||!b){var F=me(b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):a.current,h,b,E.offset);k(F)}else if(E.inlineTrigger)c(C);else if(E.offset>0)c(C,!0),p(),d.current=(0,Y.Z)((function(){Z();var e=b.getAttribute("aria-controls"),t=me(document.getElementById(e),h);k(t)}),5);else if(E.offset<0){var P=u(C,!0),w=P[P.length-2],N=g.get(w);c(w,!1),k(N)}}null==f||f(l)}}(_e,Zt,$e,De,Ke,vt,dt,bt,(function(e,t){var n=null!=t?t:!Je.includes(e);Vt(e,n)}),Re);l.useEffect((function(){Le(!0)}),[]);var Rt="horizontal"!==_e||x?Se:Se.map((function(e,t){return l.createElement(P,{key:e.key,overflowDisabled:t>qe},e)})),It=l.createElement(h.Z,(0,r.Z)({id:E,ref:Ke,prefixCls:"".concat(d,"-overflow"),component:"ul",itemComponent:j,className:f()(d,"".concat(d,"-root"),"".concat(d,"-").concat(_e),g,(n={},(0,i.Z)(n,"".concat(d,"-inline-collapsed"),He),(0,i.Z)(n,"".concat(d,"-rtl"),$e),n)),dir:C,style:m,role:"menu",tabIndex:Z,data:Rt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?Se.slice(-t):null;return l.createElement(ae,{eventKey:be,title:we,disabled:Ye,internalPopupClose:0===t,popupClassName:Ne},n)},maxCount:"horizontal"!==_e||x?h.Z.INVALIDATE:h.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Xe(e)},onKeyDown:Mt},Ie));return l.createElement(O.Provider,{value:De},l.createElement(P,{prefixCls:d,mode:_e,openKeys:Je,rtl:$e,disabled:V,motion:Oe?re:null,defaultMotions:Oe?ie:null,activeKey:Zt,onActive:Ct,onInactive:Et,selectedKeys:Pt,inlineIndent:ne,subMenuOpenDelay:I,subMenuCloseDelay:A,forceSubMenuRender:K,builtinPlacements:Ee,triggerSubMenuAction:pe,getPopupContainer:xt,itemIcon:ke,expandIcon:Fe,onItemClick:Nt,onOpenChange:Vt},l.createElement(T.Provider,{value:ht},It),l.createElement("div",{style:{display:"none"},"aria-hidden":!0},l.createElement(R.Provider,{value:mt},Se))))};we.Item=j,we.SubMenu=ae,we.ItemGroup=ke,we.Divider=Fe;const Ne=we},60444:(e,t,n)=>{"use strict";n.d(t,{V:()=>ae,Z:()=>oe});var r=n(96156),i=n(28991),a=n(28481),o=n(90484),u=n(67294),s=n(34203),l=n(42550),c=n(94184),f=n.n(c),d=n(98924);function v(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var p,m,h,g=(p=(0,d.Z)(),m="undefined"!=typeof window?window:{},h={animationend:v("Animation","AnimationEnd"),transitionend:v("Transition","TransitionEnd")},p&&("AnimationEvent"in m||delete h.animationend.animation,"TransitionEvent"in m||delete h.transitionend.transition),h),y={};if((0,d.Z)()){var Z=document.createElement("div");y=Z.style}var b={};function C(e){if(b[e])return b[e];var t=g[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in y)return b[e]=t[a],b[e]}return""}var E=C("animationend"),k=C("transitionend"),F=!(!E||!k),P=E||"animationend",w=k||"transitionend";function N(e,t){return e?"object"===(0,o.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var V="none",x="appear",M="enter",R="leave",I="none",S="prepare",A="start",T="active",O="end";function L(e){var t=(0,u.useRef)(!1),n=(0,u.useState)(e),r=(0,a.Z)(n,2),i=r[0],o=r[1];return(0,u.useEffect)((function(){return function(){t.current=!0}}),[]),[i,function(e){t.current||o(e)}]}const K=(0,d.Z)()?u.useLayoutEffect:u.useEffect;var D=n(75164),$=[S,A,T,O];function j(e){return e===T||e===O}function U(e,t,n,o){var s=o.motionEnter,l=void 0===s||s,c=o.motionAppear,f=void 0===c||c,d=o.motionLeave,v=void 0===d||d,p=o.motionDeadline,m=o.motionLeaveImmediately,h=o.onAppearPrepare,g=o.onEnterPrepare,y=o.onLeavePrepare,Z=o.onAppearStart,b=o.onEnterStart,C=o.onLeaveStart,E=o.onAppearActive,k=o.onEnterActive,F=o.onLeaveActive,N=o.onAppearEnd,U=o.onEnterEnd,_=o.onLeaveEnd,H=o.onVisibleChanged,z=L(),W=(0,a.Z)(z,2),q=W[0],X=W[1],Y=L(V),B=(0,a.Z)(Y,2),G=B[0],J=B[1],Q=L(null),ee=(0,a.Z)(Q,2),te=ee[0],ne=ee[1],re=(0,u.useRef)(!1),ie=(0,u.useRef)(null),ae=(0,u.useRef)(!1),oe=(0,u.useRef)(null);function ue(){return n()||oe.current}var se=(0,u.useRef)(!1);function le(e){var t,n=ue();e&&!e.deadline&&e.target!==n||(G===x&&se.current?t=null==N?void 0:N(n,e):G===M&&se.current?t=null==U?void 0:U(n,e):G===R&&se.current&&(t=null==_?void 0:_(n,e)),!1===t||ae.current||(J(V),ne(null)))}var ce=function(e){var t=(0,u.useRef)(),n=(0,u.useRef)(e);n.current=e;var r=u.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(w,r),e.removeEventListener(P,r))}return u.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(w,r),e.addEventListener(P,r),t.current=e)},i]}(le),fe=(0,a.Z)(ce,1)[0],de=u.useMemo((function(){var e,t,n;switch(G){case"appear":return e={},(0,r.Z)(e,S,h),(0,r.Z)(e,A,Z),(0,r.Z)(e,T,E),e;case"enter":return t={},(0,r.Z)(t,S,g),(0,r.Z)(t,A,b),(0,r.Z)(t,T,k),t;case"leave":return n={},(0,r.Z)(n,S,y),(0,r.Z)(n,A,C),(0,r.Z)(n,T,F),n;default:return{}}}),[G]),ve=function(e,t){var n=u.useState(I),r=(0,a.Z)(n,2),i=r[0],o=r[1],s=function(){var e=u.useRef(null);function t(){D.Z.cancel(e.current)}return u.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=(0,D.Z)((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),l=(0,a.Z)(s,2),c=l[0],f=l[1];return K((function(){if(i!==I&&i!==O){var e=$.indexOf(i),n=$[e+1],r=t(i);!1===r?o(n):c((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),u.useEffect((function(){return function(){f()}}),[]),[function(){o(S)},i]}(G,(function(e){if(e===S){var t=de.prepare;return!!t&&t(ue())}var n;return he in de&&ne((null===(n=de[he])||void 0===n?void 0:n.call(de,ue(),null))||null),he===T&&(fe(ue()),p>0&&(clearTimeout(ie.current),ie.current=setTimeout((function(){le({deadline:!0})}),p))),!0})),pe=(0,a.Z)(ve,2),me=pe[0],he=pe[1],ge=j(he);se.current=ge,K((function(){X(t);var n,r=re.current;re.current=!0,e&&(!r&&t&&f&&(n=x),r&&t&&l&&(n=M),(r&&!t&&v||!r&&m&&!t&&v)&&(n=R),n&&(J(n),me()))}),[t]),(0,u.useEffect)((function(){(G===x&&!f||G===M&&!l||G===R&&!v)&&J(V)}),[f,l,v]),(0,u.useEffect)((function(){return function(){clearTimeout(ie.current),ae.current=!0}}),[]),(0,u.useEffect)((function(){void 0!==q&&G===V&&(null==H||H(q))}),[q,G]);var ye=te;return de.prepare&&he===A&&(ye=(0,i.Z)({transition:"none"},ye)),[G,he,ye,null!=q?q:t]}var _=n(6610),H=n(5991),z=n(10379),W=n(60446);const q=function(e){(0,z.Z)(n,e);var t=(0,W.Z)(n);function n(){return(0,_.Z)(this,n),t.apply(this,arguments)}return(0,H.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.Component),X=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,o.Z)(e)&&(t=e.transitionSupport);var c=u.forwardRef((function(e,t){var o=e.visible,c=void 0===o||o,d=e.removeOnLeave,v=void 0===d||d,p=e.forceRender,m=e.children,h=e.motionName,g=e.leavedClassName,y=e.eventProps,Z=n(e),b=(0,u.useRef)(),C=(0,u.useRef)(),E=U(Z,c,(function(){try{return(0,s.Z)(b.current||C.current)}catch(e){return null}}),e),k=(0,a.Z)(E,4),F=k[0],P=k[1],w=k[2],x=k[3],M=u.useRef(x);x&&(M.current=!0);var R=(0,u.useRef)(t);R.current=t;var I,T=u.useCallback((function(e){b.current=e,(0,l.mH)(R.current,e)}),[]),O=(0,i.Z)((0,i.Z)({},y),{},{visible:c});if(m)if(F!==V&&n(e)){var L,K;P===S?K="prepare":j(P)?K="active":P===A&&(K="start"),I=m((0,i.Z)((0,i.Z)({},O),{},{className:f()(N(h,F),(L={},(0,r.Z)(L,N(h,"".concat(F,"-").concat(K)),K),(0,r.Z)(L,h,"string"==typeof h),L)),style:w}),T)}else I=x?m((0,i.Z)({},O),T):!v&&M.current?m((0,i.Z)((0,i.Z)({},O),{},{className:g}),T):p?m((0,i.Z)((0,i.Z)({},O),{},{style:{display:"none"}}),T):null;else I=null;return u.createElement(q,{ref:C},I)}));return c.displayName="CSSMotion",c}(F);var Y=n(22122),B=n(17375),G="add",J="keep",Q="remove",ee="removed";function te(e){var t;return t=e&&"object"===(0,o.Z)(e)&&"key"in e?e:{key:e},(0,i.Z)((0,i.Z)({},t),{},{key:String(t.key)})}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(te)}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=ne(e),u=ne(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var s=u[o];if(s.key===e.key){r<o&&(n=n.concat(u.slice(r,o).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:G})}))),r=o),n.push((0,i.Z)((0,i.Z)({},s),{},{status:J})),r+=1,t=!0;break}}t||n.push((0,i.Z)((0,i.Z)({},e),{},{status:Q}))})),r<a&&(n=n.concat(u.slice(r).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{status:G})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Q}))).forEach((function(t){t.key===e&&(t.status=J)}))})),n}var ie=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=function(e){(0,z.Z)(r,e);var n=(0,W.Z)(r);function r(){var e;return(0,_.Z)(this,r),(e=n.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:(0,i.Z)((0,i.Z)({},e),{},{status:ee})}))}}))},e}return(0,H.Z)(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,o=r.onVisibleChanged,s=(0,B.Z)(r,["component","children","onVisibleChanged"]),l=i||u.Fragment,c={};return ie.forEach((function(e){c[e]=s[e],delete s[e]})),delete s.keys,u.createElement(l,s,n.map((function(n){var r=n.status,i=(0,B.Z)(n,["status"]),s=r===G||r===J;return u.createElement(t,(0,Y.Z)({},c,{key:i.key,visible:s,eventProps:i,onVisibleChanged:function(t){null==o||o(t,{key:i.key}),t||e.removeKey(i.key)}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ne(n);return{keyEntities:re(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ee||e.status!==Q}))}}}]),r}(u.Component);return n.defaultProps={component:"div"},n}(F),oe=X},51784:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(22122),i=n(96156),a=n(6610),o=n(5991),u=n(10379),s=n(60446),l=n(67294),c=n(73935),f=n(94184),d=n.n(f),v=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=t.closable,u=t.closeIcon,s=t.style,f=t.onClick,v=t.children,p=t.holder,m="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),g=l.createElement("div",(0,r.Z)({className:d()(m,a,(0,i.Z)({},"".concat(m,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:f},h),l.createElement("div",{className:"".concat(m,"-content")},v),o?l.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(m,"-close")},u||l.createElement("span",{className:"".concat(m,"-close-x")})):null);return p?c.createPortal(g,p):g}}]),n}(l.Component);v.defaultProps={onClose:function(){},duration:1.5}},98287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(17375),i=n(22122),a=n(28991),o=n(6610),u=n(5991),s=n(10379),l=n(60446),c=n(67294),f=n(73935),d=n(94184),v=n.n(d),p=n(60444),m=n(51784),h=n(51550),g=0,y=Date.now();function Z(){var e=g;return g+=1,"rcNotification_".concat(y,"_").concat(e)}var b=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||Z(),i=(0,a.Z)((0,a.Z)({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),u=t.concat();return-1!==a?u.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=u[0].notice.key,i.updateMark=Z(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,u.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,o=n.className,u=n.closeIcon,s=n.style,l=[];return t.forEach((function(n,i){var o=n.notice,s=n.holderCallback,c=i===t.length-1?o.updateMark:void 0,f=o.key,d=o.userPassKey,v=(0,a.Z)((0,a.Z)((0,a.Z)({prefixCls:r,closeIcon:u},o),o.props),{},{key:f,noticeKey:d||f,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=o.onClose)||void 0===n||n.call(o)},onClick:o.onClick,children:o.content});l.push(f),e.noticePropsMap[f]={props:v,holderCallback:s}})),c.createElement("div",{className:v()(r,o),style:s},c.createElement(p.V,{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,o=t.className,u=t.style,s=t.visible,l=e.noticePropsMap[n],f=l.props,d=l.holderCallback;return d?c.createElement("div",{key:n,className:v()(o,"".concat(r,"-hook-holder")),style:(0,a.Z)({},u),ref:function(t){void 0!==n&&(t?(e.hookRefs.set(n,t),d(t,f)):e.hookRefs.delete(n))}}):c.createElement(m.Z,(0,i.Z)({},f,{className:v()(o,null==f?void 0:f.className),style:(0,a.Z)((0,a.Z)({},u),null==f?void 0:f.style),visible:s}))})))}}]),n}(c.Component);b.newInstance=void 0,b.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},b.newInstance=function(e,t){var n=e||{},a=n.getContainer,o=(0,r.Z)(n,["getContainer"]),u=document.createElement("div");a?a().appendChild(u):document.body.appendChild(u);var s=!1;f.render(c.createElement(b,(0,i.Z)({},o,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){f.unmountComponentAtNode(u),u.parentNode&&u.parentNode.removeChild(u)},useNotification:function(){return(0,h.Z)(e)}}))}})),u)};const C=b},51550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85061),i=n(22122),a=n(28481),o=n(67294),u=n(51784);function s(e){var t=o.useRef({}),n=o.useState([]),s=(0,a.Z)(n,2),l=s[0],c=s[1];return[function(n){var a=!0;e.add(n,(function(e,n){var s=n.key;if(e&&(!t.current[s]||a)){var l=o.createElement(u.Z,(0,i.Z)({},n,{holder:e}));t.current[s]=l,c((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,r.Z)(e),[l]);var i=(0,r.Z)(e);return i[t]=l,i}))}a=!1}))},o.createElement(o.Fragment,null,l)]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZHJvcGRvd24vZXMvcGxhY2VtZW50cy5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZHJvcGRvd24vZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWRyb3Bkb3duL2VzL0Ryb3Bkb3duLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL0ZpZWxkQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZmllbGQtZm9ybS9lcy91dGlscy90eXBlVXRpbC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZmllbGQtZm9ybS9lcy91dGlscy92YWx1ZVV0aWwuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvdXRpbHMvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvdXRpbHMvdmFsaWRhdGVVdGlsLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL0ZpZWxkLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1maWVsZC1mb3JtL2VzL3V0aWxzL05hbWVNYXAuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvdXNlRm9ybS5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZmllbGQtZm9ybS9lcy91dGlscy9hc3luY1V0aWwuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvRm9ybUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLWZpZWxkLWZvcm0vZXMvRm9ybS5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZmllbGQtZm9ybS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtZmllbGQtZm9ybS9lcy9MaXN0LmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL2NvbnRleHQvTWVudUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvaG9va3MvdXNlQWN0aXZlLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL3V0aWxzL3dhcm5VdGlsLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL0ljb24uanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvaG9va3MvdXNlRGlyZWN0aW9uU3R5bGUuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvY29udGV4dC9QYXRoQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9jb250ZXh0L0lkQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9NZW51SXRlbS5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy91dGlscy9ub2RlVXRpbC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9ob29rcy91c2VNZW1vQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvU3ViTWVudS9TdWJNZW51TGlzdC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9wbGFjZW1lbnRzLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL3V0aWxzL21vdGlvblV0aWwuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvU3ViTWVudS9Qb3B1cFRyaWdnZXIuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvU3ViTWVudS9JbmxpbmVTdWJNZW51TGlzdC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9TdWJNZW51L2luZGV4LmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL2hvb2tzL3VzZUFjY2Vzc2liaWxpdHkuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvaG9va3MvdXNlVVVJRC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9ob29rcy91c2VLZXlSZWNvcmRzLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL01lbnUuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1lbnUvZXMvTWVudUl0ZW1Hcm91cC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbWVudS9lcy9EaXZpZGVyLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL2luZGV4LmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tZW51L2VzL3V0aWxzL3RpbWVVdGlsLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tb3Rpb24vZXMvdXRpbC9tb3Rpb24uanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9ob29rcy91c2VTdGF0ZS5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbW90aW9uL2VzL2hvb2tzL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9ob29rcy91c2VTdGVwUXVldWUuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9ob29rcy91c2VTdGF0dXMuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9ob29rcy91c2VEb21Nb3Rpb25FdmVudHMuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9ob29rcy91c2VOZXh0RnJhbWUuanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW1vdGlvbi9lcy9Eb21XcmFwcGVyLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tb3Rpb24vZXMvQ1NTTW90aW9uLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tb3Rpb24vZXMvdXRpbC9kaWZmLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1tb3Rpb24vZXMvQ1NTTW90aW9uTGlzdC5qcyIsIndlYnBhY2s6Ly9yZW1pbmQvLi9ub2RlX21vZHVsZXMvcmMtbW90aW9uL2VzL2luZGV4LmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1ub3RpZmljYXRpb24vZXMvTm90aWNlLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1ub3RpZmljYXRpb24vZXMvTm90aWZpY2F0aW9uLmpzIiwid2VicGFjazovL3JlbWluZC8uL25vZGVfbW9kdWxlcy9yYy1ub3RpZmljYXRpb24vZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVtaW5kLy4vbm9kZV9tb2R1bGVzL3JjLW5vdGlmaWNhdGlvbi9lcy91c2VOb3RpZmljYXRpb24uanMiXSwibmFtZXMiOlsiYXV0b0FkanVzdE92ZXJmbG93IiwiYWRqdXN0WCIsImFkanVzdFkiLCJ0YXJnZXRPZmZzZXQiLCJ0b3BMZWZ0IiwicG9pbnRzIiwib3ZlcmZsb3ciLCJvZmZzZXQiLCJ0b3BDZW50ZXIiLCJ0b3BSaWdodCIsImJvdHRvbUxlZnQiLCJib3R0b21DZW50ZXIiLCJib3R0b21SaWdodCIsInByb3BzIiwicmVmIiwiX3Byb3BzJGFycm93IiwiYXJyb3ciLCJfcHJvcHMkcHJlZml4Q2xzIiwicHJlZml4Q2xzIiwidHJhbnNpdGlvbk5hbWUiLCJhbmltYXRpb24iLCJhbGlnbiIsIl9wcm9wcyRwbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJfcHJvcHMkcGxhY2VtZW50cyIsInBsYWNlbWVudHMiLCJnZXRQb3B1cENvbnRhaW5lciIsInNob3dBY3Rpb24iLCJoaWRlQWN0aW9uIiwib3ZlcmxheUNsYXNzTmFtZSIsIm92ZXJsYXlTdHlsZSIsInZpc2libGUiLCJfcHJvcHMkdHJpZ2dlciIsInRyaWdnZXIiLCJvdGhlclByb3BzIiwiX1JlYWN0JHVzZVN0YXRlIiwiX1JlYWN0JHVzZVN0YXRlMiIsInRyaWdnZXJWaXNpYmxlIiwic2V0VHJpZ2dlclZpc2libGUiLCJtZXJnZWRWaXNpYmxlIiwidHJpZ2dlclJlZiIsImN1cnJlbnQiLCJvcGVuQ2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJjaGlsZHJlblByb3BzIiwiY2hpbGRDbGFzc05hbWUiLCJtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIiLCJhbGlnblBvaW50IiwiZ2V0T3ZlcmxheUVsZW1lbnQiLCJvdmVybGF5Iiwib25DbGljayIsImUiLCJvbk92ZXJsYXlDbGljayIsIm92ZXJsYXlQcm9wcyIsImdldE1lbnVFbGVtZW50Iiwib3ZlcmxheUVsZW1lbnQiLCJleHRyYU92ZXJsYXlQcm9wcyIsImNvbmNhdCIsInR5cGUiLCJjbGFzc05hbWUiLCJ0cmlnZ2VySGlkZUFjdGlvbiIsImluZGV4T2YiLCJPYmplY3QiLCJhc3NpZ24iLCJwb3B1cENsYXNzTmFtZSIsInBvcHVwU3R5bGUiLCJidWlsdGluUGxhY2VtZW50cyIsImFjdGlvbiIsInBvcHVwUGxhY2VtZW50IiwicG9wdXBBbGlnbiIsInBvcHVwVHJhbnNpdGlvbk5hbWUiLCJwb3B1cEFuaW1hdGlvbiIsInBvcHVwVmlzaWJsZSIsInN0cmV0Y2giLCJwb3B1cCIsIm9uUG9wdXBWaXNpYmxlQ2hhbmdlIiwib25WaXNpYmxlQ2hhbmdlIiwidW5kZWZpbmVkIiwiSE9PS19NQVJLIiwid2FybmluZ0Z1bmMiLCJ3YXJuaW5nIiwiZ2V0RmllbGRWYWx1ZSIsImdldEZpZWxkc1ZhbHVlIiwiZ2V0RmllbGRFcnJvciIsImdldEZpZWxkc0Vycm9yIiwiaXNGaWVsZHNUb3VjaGVkIiwiaXNGaWVsZFRvdWNoZWQiLCJpc0ZpZWxkVmFsaWRhdGluZyIsImlzRmllbGRzVmFsaWRhdGluZyIsInJlc2V0RmllbGRzIiwic2V0RmllbGRzIiwic2V0RmllbGRzVmFsdWUiLCJ2YWxpZGF0ZUZpZWxkcyIsInN1Ym1pdCIsImdldEludGVybmFsSG9va3MiLCJkaXNwYXRjaCIsImluaXRFbnRpdHlWYWx1ZSIsInJlZ2lzdGVyRmllbGQiLCJ1c2VTdWJzY3JpYmUiLCJzZXRJbml0aWFsVmFsdWVzIiwic2V0Q2FsbGJhY2tzIiwiZ2V0RmllbGRzIiwic2V0VmFsaWRhdGVNZXNzYWdlcyIsInNldFByZXNlcnZlIiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJnZXROYW1lUGF0aCIsInBhdGgiLCJnZXRWYWx1ZSIsInN0b3JlIiwibmFtZVBhdGgiLCJnZXQiLCJzZXRWYWx1ZSIsInJlbW92ZUlmVW5kZWZpbmVkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibmV3U3RvcmUiLCJzZXQiLCJjbG9uZUJ5TmFtZVBhdGhMaXN0IiwibmFtZVBhdGhMaXN0IiwiZm9yRWFjaCIsImNvbnRhaW5zTmFtZVBhdGgiLCJzb21lIiwibWF0Y2hOYW1lUGF0aCIsImlzT2JqZWN0Iiwib2JqIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJpbnRlcm5hbFNldFZhbHVlcyIsInZhbHVlcyIsImtleXMiLCJrZXkiLCJwcmV2VmFsdWUiLCJyZWN1cnNpdmUiLCJzZXRWYWx1ZXMiLCJfbGVuIiwicmVzdFZhbHVlcyIsIl9rZXkiLCJyZWR1Y2UiLCJjaGFuZ2VkTmFtZVBhdGgiLCJldmVyeSIsIm5hbWVVbml0IiwiaSIsImRlZmF1bHRHZXRWYWx1ZUZyb21FdmVudCIsInZhbHVlUHJvcE5hbWUiLCJldmVudCIsInRhcmdldCIsImFycmF5IiwibW92ZUluZGV4IiwidG9JbmRleCIsIml0ZW0iLCJkaWZmIiwic2xpY2UiLCJ0eXBlVGVtcGxhdGUiLCJkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyIsImRlZmF1bHQiLCJyZXF1aXJlZCIsImVudW0iLCJ3aGl0ZXNwYWNlIiwiZGF0ZSIsImZvcm1hdCIsInBhcnNlIiwiaW52YWxpZCIsInR5cGVzIiwic3RyaW5nIiwibWV0aG9kIiwib2JqZWN0IiwibnVtYmVyIiwiYm9vbGVhbiIsImludGVnZXIiLCJmbG9hdCIsInJlZ2V4cCIsImVtYWlsIiwidXJsIiwiaGV4IiwibGVuIiwibWluIiwibWF4IiwicmFuZ2UiLCJwYXR0ZXJuIiwibWlzbWF0Y2giLCJBc3luY1ZhbGlkYXRvciIsImNvbnZlcnRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwibmFtZSIsInJ1bGUiLCJtZXNzYWdlVmFyaWFibGVzIiwia3YiLCJqb2luIiwicmVwbGFjZUZ1bmMiLCJ0ZW1wbGF0ZSIsImFkZGl0aW9uYWxLViIsInJlcGxhY2UiLCJzdHIiLCJyZXBsYWNlTWVzc2FnZSIsImZpbGxUZW1wbGF0ZSIsInNvdXJjZSIsInJ1bGVOYW1lIiwidmFsaWRhdGVSdWxlIiwiX3giLCJfeDIiLCJfeDMiLCJfeDQiLCJfeDUiLCJfdmFsaWRhdGVSdWxlIiwiYXBwbHkiLCJ0aGlzIiwiX2NhbGxlZTIiLCJvcHRpb25zIiwiY2xvbmVSdWxlIiwic3ViUnVsZUZpZWxkIiwidmFsaWRhdG9yIiwicmVzdWx0Iiwic3ViUmVzdWx0cyIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwiZGVmYXVsdEZpZWxkIiwidmFsaWRhdGVNZXNzYWdlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwidmFsaWRhdGUiLCJ0MCIsImVycm9ycyIsIm1hcCIsIl9yZWYyIiwiaW5kZXgiLCJtZXNzYWdlIiwiY29uc29sZSIsImVycm9yIiwiYWxsIiwic3ViVmFsdWUiLCJzZW50IiwiYWJydXB0Iiwic3RvcCIsIl9maW5pc2hPbkFsbEZhaWxlZCIsIl9jYWxsZWUzIiwicnVsZVByb21pc2VzIiwiX2NvbnRleHQzIiwidGhlbiIsImVycm9yc0xpc3QiLCJfcmVmMyIsIl9maW5pc2hPbkZpcnN0RmFpbGVkIiwiX2NhbGxlZTQiLCJjb3VudCIsIl9jb250ZXh0NCIsInByb21pc2UiLCJyZXF1aXJlVXBkYXRlIiwic2hvdWxkVXBkYXRlIiwibmV4dFZhbHVlIiwiaW5mbyIsIkZpZWxkIiwiX1JlYWN0JENvbXBvbmVudCIsIl9zdXBlciIsIl90aGlzIiwiY2FsbCIsInN0YXRlIiwicmVzZXRDb3VudCIsImNhbmNlbFJlZ2lzdGVyRnVuYyIsIm1vdW50ZWQiLCJ0b3VjaGVkIiwiZGlydHkiLCJ2YWxpZGF0ZVByb21pc2UiLCJjYW5jZWxSZWdpc3RlciIsIl90aGlzJHByb3BzIiwicHJlc2VydmUiLCJpc0xpc3RGaWVsZCIsIl90aGlzJHByb3BzMiIsIl9maWVsZENvbnRleHQkcHJlZml4TiIsImZpZWxkQ29udGV4dCIsInByZWZpeE5hbWUiLCJnZXRSdWxlcyIsIl90aGlzJHByb3BzMyIsIl90aGlzJHByb3BzMyRydWxlcyIsInJ1bGVzIiwicmVmcmVzaCIsInNldFN0YXRlIiwiX3JlZiIsIm9uU3RvcmVDaGFuZ2UiLCJwcmV2U3RvcmUiLCJfdGhpcyRwcm9wczQiLCJfdGhpcyRwcm9wczQkZGVwZW5kZW4iLCJkZXBlbmRlbmNpZXMiLCJvblJlc2V0IiwiY3VyVmFsdWUiLCJuYW1lUGF0aE1hdGNoIiwiZGF0YSIsInZhbGlkYXRpbmciLCJyZVJlbmRlciIsImRlcGVuZGVuY3kiLCJyZWxhdGVkRmllbGRzIiwidmFsaWRhdGVSdWxlcyIsImN1cnJlbnRWYWx1ZSIsInJvb3RQcm9taXNlIiwiX3RoaXMkcHJvcHM1IiwiX3RoaXMkcHJvcHM1JHZhbGlkYXRlIiwidmFsaWRhdGVGaXJzdCIsInRyaWdnZXJOYW1lIiwiZmlsdGVyZWRSdWxlcyIsImZpbHRlciIsInZhbGlkYXRlVHJpZ2dlciIsImluY2x1ZGVzIiwic3VtbWFyeVByb21pc2UiLCJmaWxsZWRSdWxlcyIsImN1cnJlbnRSdWxlIiwib3JpZ2luVmFsaWRhdG9yRnVuYyIsInZhbCIsImNhbGxiYWNrIiwiaGFzUHJvbWlzZSIsImFyZ3MiLCJjYXRjaCIsImVyciIsIl9jYWxsZWUiLCJyZWplY3QiLCJfY29udGV4dCIsIl94NiIsIl94NyIsIl94OSIsImZpbmlzaE9uRmlyc3RGYWlsZWQiLCJfeDgiLCJmaW5pc2hPbkFsbEZhaWxlZCIsImlzRmllbGREaXJ0eSIsImdldEVycm9ycyIsImlzTGlzdCIsImlzUHJlc2VydmUiLCJnZXRNZXRhIiwicHJldlZhbGlkYXRpbmciLCJnZXRPbmx5Q2hpbGQiLCJtZXRhIiwiZ2V0Q29udHJvbGxlZCIsImlzRnVuY3Rpb24iLCJjaGlsZExpc3QiLCJjaGlsZCIsImNoaWxkUHJvcHMiLCJfdGhpcyRwcm9wczYiLCJnZXRWYWx1ZUZyb21FdmVudCIsIm5vcm1hbGl6ZSIsImdldFZhbHVlUHJvcHMiLCJtZXJnZWRWYWxpZGF0ZVRyaWdnZXIiLCJfZ2V0SW50ZXJuYWxIb29rcyIsIm1lcmdlZEdldFZhbHVlUHJvcHMiLCJvcmlnaW5UcmlnZ2VyRnVuYyIsImNvbnRyb2wiLCJuZXdWYWx1ZSIsInZhbGlkYXRlVHJpZ2dlckxpc3QiLCJvcmlnaW5UcmlnZ2VyIiwiX3RoaXMkcHJvcHM3IiwiZm9yY2VVcGRhdGUiLCJyZXR1cm5DaGlsZE5vZGUiLCJfdGhpcyRnZXRPbmx5Q2hpbGQiLCJjb250ZXh0VHlwZSIsIkZpZWxkQ29udGV4dCIsImRlZmF1bHRQcm9wcyIsIl9yZWY0IiwicmVzdFByb3BzIiwiU1BMSVQiLCJjZWxsIiwiTmFtZU1hcCIsImt2cyIsIk1hcCIsInVwZGF0ZXIiLCJkZWxldGUiLCJlbnRyaWVzIiwiY2VsbHMiLCJzcGxpdCIsIl9jZWxsJG1hdGNoIiwibWF0Y2giLCJfY2VsbCRtYXRjaDIiLCJ1bml0IiwiTnVtYmVyIiwianNvbiIsIkZvcm1TdG9yZSIsImZvcmNlUm9vdFVwZGF0ZSIsImZvcm1Ib29rZWQiLCJzdWJzY3JpYmFibGUiLCJmaWVsZEVudGl0aWVzIiwiaW5pdGlhbFZhbHVlcyIsImNhbGxiYWNrcyIsImxhc3RWYWxpZGF0ZVByb21pc2UiLCJnZXRGb3JtIiwiaW5pdCIsImdldEluaXRpYWxWYWx1ZSIsInRpbWVvdXRJZCIsIndhcm5pbmdVbmhvb2tlZCIsImdldEZpZWxkRW50aXRpZXMiLCJwdXJlIiwiZmllbGQiLCJnZXRGaWVsZHNNYXAiLCJjYWNoZSIsImdldEZpZWxkRW50aXRpZXNGb3JOYW1lUGF0aExpc3QiLCJuYW1lTGlzdCIsIklOVkFMSURBVEVfTkFNRV9QQVRIIiwiZmlsdGVyRnVuYyIsImZpbHRlcmVkTmFtZUxpc3QiLCJlbnRpdHkiLCJfZW50aXR5JGlzTGlzdEZpZWxkIiwicHVzaCIsImFyZzAiLCJhcmcxIiwiaXNBbGxGaWVsZHNUb3VjaGVkIiwic2hvcnROYW1lUGF0aCIsImZpZWxkTmFtZVBhdGgiLCJ1cGRhdGUiLCJsaXN0IiwiaXNOYW1lUGF0aExpc3RUb3VjaGVkIiwiZW50aXRpZXMiLCJuYW1lUGF0aExpc3RFbnRpdGllcyIsInRlc3RGaWVsZCIsInJlc2V0V2l0aEZpZWxkSW5pdGlhbFZhbHVlIiwiaW5pdGlhbFZhbHVlIiwicmVjb3JkcyIsIlNldCIsImFkZCIsInJlcXVpcmVkRmllbGRFbnRpdGllcyIsInJlc2V0V2l0aEZpZWxkcyIsInNpemUiLCJvcmlnaW5WYWx1ZSIsInNraXBFeGlzdCIsIl9yZXF1aXJlZEZpZWxkRW50aXRpZSIsInIiLCJub3RpZnlPYnNlcnZlcnMiLCJmaWVsZHMiLCJmaWVsZERhdGEiLCJkZWZpbmVQcm9wZXJ0eSIsInN1Yk5hbWVQYXRoIiwibWVyZ2VkUHJlc2VydmUiLCJkZWZhdWx0VmFsdWUiLCJ1cGRhdGVWYWx1ZSIsIl9uYW1lUGF0aCIsIm1lcmdlZEluZm8iLCJjaGlsZHJlbkZpZWxkcyIsImdldERlcGVuZGVuY3lDaGlsZHJlbkZpZWxkcyIsIm9uVmFsdWVzQ2hhbmdlIiwidHJpZ2dlck9uRmllbGRzQ2hhbmdlIiwicm9vdE5hbWVQYXRoIiwiZGVwZW5kZW5jaWVzMmZpZWxkcyIsImRlcGVuZGVuY3lOYW1lUGF0aCIsImZpbGxDaGlsZHJlbiIsImhhcyIsImZpbGVkRXJyb3JzIiwib25GaWVsZHNDaGFuZ2UiLCJmaWVsZE5hbWUiLCJwcm92aWRlTmFtZUxpc3QiLCJwcm9taXNlTGlzdCIsImhhc0Vycm9yIiwicmVzdWx0cyIsImFsbFByb21pc2VGaW5pc2giLCJyZXN1bHROYW1lUGF0aExpc3QiLCJfcmVmNSIsInJldHVyblByb21pc2UiLCJlcnJvckxpc3QiLCJlcnJvckZpZWxkcyIsIm91dE9mRGF0ZSIsIm9uRmluaXNoIiwib25GaW5pc2hGYWlsZWQiLCJmb3JtIiwiZm9ybVJlZiIsImZvcm1TdG9yZSIsIkZvcm1Db250ZXh0IiwidHJpZ2dlckZvcm1DaGFuZ2UiLCJ0cmlnZ2VyRm9ybUZpbmlzaCIsInJlZ2lzdGVyRm9ybSIsInVucmVnaXN0ZXJGb3JtIiwiRm9ybVByb3ZpZGVyIiwib25Gb3JtQ2hhbmdlIiwib25Gb3JtRmluaXNoIiwiZm9ybUNvbnRleHQiLCJmb3Jtc1JlZiIsIlByb3ZpZGVyIiwiY2hhbmdlZEZpZWxkcyIsImZvcm1zIiwibmV3Rm9ybXMiLCJfcmVmJGNvbXBvbmVudCIsImNvbXBvbmVudCIsIkNvbXBvbmVudCIsIl9yZWYkdmFsaWRhdGVUcmlnZ2VyIiwiX29uRmllbGRzQ2hhbmdlIiwiX29uRmluaXNoIiwiX3VzZUZvcm0iLCJmb3JtSW5zdGFuY2UiLCJfZm9ybUluc3RhbmNlJGdldEludGUiLCJyZXN0IiwibW91bnRSZWYiLCJjaGlsZHJlbk5vZGUiLCJjaGlsZHJlblJlbmRlclByb3BzIiwicHJldkZpZWxkc1JlZiIsInNvdXJjZUtleXMiLCJ0YXJnZXRLZXlzIiwic291cmNlVmFsdWUiLCJ0YXJnZXRWYWx1ZSIsImlzU2ltaWxhciIsImZvcm1Db250ZXh0VmFsdWUiLCJ3cmFwcGVyTm9kZSIsIm9uU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJfcmVzdFByb3BzJG9uUmVzZXQiLCJSZWZGb3JtIiwiTGlzdCIsImNvbnRleHQiLCJrZXlNYW5hZ2VyIiwiaWQiLCJwYXJlbnRQcmVmaXhOYW1lIiwiX3JlZjMkdmFsdWUiLCJvbkNoYW5nZSIsImdldE5ld1ZhbHVlIiwib3BlcmF0aW9ucyIsInJlbW92ZSIsImluZGV4U2V0IiwiXyIsImtleXNJbmRleCIsInZhbHVlSW5kZXgiLCJtb3ZlIiwiZnJvbSIsInRvIiwibGlzdFZhbHVlIiwiX18iLCJ1c2VGb3JtIiwiTWVudUNvbnRleHQiLCJJbmhlcml0YWJsZUNvbnRleHRQcm92aWRlciIsImxvY2tlZCIsImluaGVyaXRhYmxlQ29udGV4dCIsInVzZU1lbW8iLCJvcmlnaW4iLCJjbG9uZSIsInVzZUFjdGl2ZSIsImV2ZW50S2V5IiwiZGlzYWJsZWQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJfUmVhY3QkdXNlQ29udGV4dCIsImFjdGl2ZUtleSIsIm9uQWN0aXZlIiwib25JbmFjdGl2ZSIsInJldCIsImFjdGl2ZSIsImRvbUV2ZW50Iiwid2Fybkl0ZW1Qcm9wIiwicmVzdEluZm8iLCJJY29uIiwiaWNvbiIsInVzZURpcmVjdGlvblN0eWxlIiwibGV2ZWwiLCJtb2RlIiwicnRsIiwiaW5saW5lSW5kZW50IiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ0xlZnQiLCJFbXB0eUxpc3QiLCJQYXRoUmVnaXN0ZXJDb250ZXh0IiwidXNlTWVhc3VyZSIsIlBhdGhUcmFja2VyQ29udGV4dCIsInVzZUZ1bGxQYXRoIiwicGFyZW50S2V5UGF0aCIsIlBhdGhVc2VyQ29udGV4dCIsIklkQ29udGV4dCIsImdldE1lbnVJZCIsInV1aWQiLCJ1c2VNZW51SWQiLCJMZWdhY3lNZW51SXRlbSIsInRpdGxlIiwiYXR0cmlidXRlIiwiZWxlbWVudFJlZiIsInBhc3NlZFByb3BzIiwib21pdCIsIkludGVybmFsTWVudUl0ZW0iLCJfY2xhc3NOYW1lcyIsInN0eWxlIiwid2FybktleSIsIml0ZW1JY29uIiwicm9sZSIsIm9uS2V5RG93biIsIm9uRm9jdXMiLCJkb21EYXRhSWQiLCJvbkl0ZW1DbGljayIsImNvbnRleHREaXNhYmxlZCIsIm92ZXJmbG93RGlzYWJsZWQiLCJjb250ZXh0SXRlbUljb24iLCJzZWxlY3RlZEtleXMiLCJpdGVtQ2xzIiwibGVnYWN5TWVudUl0ZW1SZWYiLCJtZXJnZWREaXNhYmxlZCIsImNvbm5lY3RlZEtleXMiLCJnZXRFdmVudEluZm8iLCJrZXlQYXRoIiwicmV2ZXJzZSIsIm1lcmdlZEl0ZW1JY29uIiwiX3VzZUFjdGl2ZSIsImFjdGl2ZVByb3BzIiwic2VsZWN0ZWQiLCJkaXJlY3Rpb25TdHlsZSIsIm9wdGlvblJvbGVQcm9wcyIsInRhYkluZGV4Iiwid2hpY2giLCJLZXlDb2RlIiwiaXNTZWxlY3RlZCIsIm1lYXN1cmUiLCJjb25uZWN0ZWRLZXlQYXRoIiwicmVnaXN0ZXJQYXRoIiwidW5yZWdpc3RlclBhdGgiLCJwYXJzZUNoaWxkcmVuIiwidG9BcnJheSIsIl9jaGlsZCRwcm9wcyRldmVudEtleSIsIl9jaGlsZCRwcm9wcyIsImNsb25lUHJvcHMiLCJ1c2VNZW1vQ2FsbGJhY2siLCJmdW5jIiwiZnVuUmVmIiwiX2Z1blJlZiRjdXJyZW50IiwiSW50ZXJuYWxTdWJNZW51TGlzdCIsIlN1Yk1lbnVMaXN0IiwiZGlzcGxheU5hbWUiLCJsZWZ0VG9wIiwicmlnaHRUb3AiLCJwbGFjZW1lbnRzUnRsIiwiZ2V0TW90aW9uIiwibW90aW9uIiwiZGVmYXVsdE1vdGlvbnMiLCJvdGhlciIsInBvcHVwUGxhY2VtZW50TWFwIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiUG9wdXBUcmlnZ2VyIiwicG9wdXBPZmZzZXQiLCJzdWJNZW51T3BlbkRlbGF5Iiwic3ViTWVudUNsb3NlRGVsYXkiLCJ0cmlnZ2VyU3ViTWVudUFjdGlvbiIsImZvcmNlU3ViTWVudVJlbmRlciIsImlubmVyVmlzaWJsZSIsInNldElubmVyVmlzaWJsZSIsInRhcmdldE1vdGlvbiIsIm1lcmdlZE1vdGlvbiIsImxlYXZlZENsYXNzTmFtZSIsInJlbW92ZU9uTGVhdmUiLCJtb3Rpb25BcHBlYXIiLCJ2aXNpYmxlUmVmIiwicmFmIiwibW91c2VFbnRlckRlbGF5IiwibW91c2VMZWF2ZURlbGF5IiwiZm9yY2VSZW5kZXIiLCJwb3B1cE1vdGlvbiIsIklubGluZVN1Yk1lbnVMaXN0Iiwib3BlbiIsImZpeGVkTW9kZSIsInNhbWVNb2RlUmVmIiwiZGVzdHJveSIsInNldERlc3Ryb3kiLCJtZXJnZWRPcGVuIiwib3JpZ2luT25WaXNpYmxlQ2hhbmdlZCIsIm9uVmlzaWJsZUNoYW5nZWQiLCJuZXdWaXNpYmxlIiwibW90aW9uQ2xhc3NOYW1lIiwibW90aW9uU3R5bGUiLCJJbnRlcm5hbFN1Yk1lbnUiLCJpbnRlcm5hbFBvcHVwQ2xvc2UiLCJleHBhbmRJY29uIiwib25UaXRsZUNsaWNrIiwib25UaXRsZU1vdXNlRW50ZXIiLCJvblRpdGxlTW91c2VMZWF2ZSIsIm9wZW5LZXlzIiwiY29udGV4dEV4cGFuZEljb24iLCJvbk9wZW5DaGFuZ2UiLCJpc1N1YlBhdGhLZXkiLCJjb25uZWN0ZWRQYXRoIiwic3ViTWVudVByZWZpeENscyIsInBvcHVwUmVmIiwibWVyZ2VkRXhwYW5kSWNvbiIsIm9yaWdpbk9wZW4iLCJjaGlsZHJlblNlbGVjdGVkIiwiY2hpbGRyZW5BY3RpdmUiLCJzZXRDaGlsZHJlbkFjdGl2ZSIsInRyaWdnZXJDaGlsZHJlbkFjdGl2ZSIsIm5ld0FjdGl2ZSIsIm1lcmdlZEFjdGl2ZSIsIm9uTWVyZ2VkSXRlbUNsaWNrIiwicG9wdXBJZCIsInRpdGxlTm9kZSIsImlzT3BlbiIsImlzU3ViTWVudSIsInRyaWdnZXJNb2RlUmVmIiwidHJpZ2dlck1vZGUiLCJTdWJNZW51IiwicmVuZGVyTm9kZSIsIkxFRlQiLCJSSUdIVCIsIlVQIiwiRE9XTiIsIkVOVEVSIiwiRVNDIiwiQXJyb3dLZXlzIiwiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCJjb250YWluZXIiLCJlbGVtZW50cyIsImVsZSIsImdldE5leHRGb2N1c0VsZW1lbnQiLCJwYXJlbnRRdWVyeUNvbnRhaW5lciIsImZvY3VzTWVudUVsZW1lbnQiLCJzYW1lTGV2ZWxGb2N1c2FibGVNZW51RWxlbWVudExpc3QiLCJmb2N1c0luZGV4IiwiZmluZEluZGV4IiwidW5pcXVlUHJlZml4IiwiTWF0aCIsInJhbmRvbSIsInRvRml4ZWQiLCJ0b1N0cmluZyIsImludGVybmFsSWQiLCJQQVRIX1NQTElUIiwiZ2V0UGF0aFN0ciIsIk9WRVJGTE9XX0tFWSIsIkVNUFRZX0xJU1QiLCJJbnRlcm5hbE1lbnVJdGVtR3JvdXAiLCJncm91cFByZWZpeENscyIsIk1lbnVJdGVtR3JvdXAiLCJEaXZpZGVyIiwiRXhwb3J0TWVudSIsIl9jaGlsZExpc3QkIiwiX3Byb3BzJHRhYkluZGV4IiwiZGlyZWN0aW9uIiwiX3Byb3BzJG1vZGUiLCJpbmxpbmVDb2xsYXBzZWQiLCJkaXNhYmxlZE92ZXJmbG93IiwiX3Byb3BzJHN1Yk1lbnVPcGVuRGVsIiwiX3Byb3BzJHN1Yk1lbnVDbG9zZURlIiwiZGVmYXVsdE9wZW5LZXlzIiwiZGVmYXVsdEFjdGl2ZUZpcnN0IiwiX3Byb3BzJHNlbGVjdGFibGUiLCJzZWxlY3RhYmxlIiwiX3Byb3BzJG11bHRpcGxlIiwibXVsdGlwbGUiLCJkZWZhdWx0U2VsZWN0ZWRLZXlzIiwib25TZWxlY3QiLCJvbkRlc2VsZWN0IiwiX3Byb3BzJGlubGluZUluZGVudCIsIl9wcm9wcyR0cmlnZ2VyU3ViTWVudSIsIl9wcm9wcyRvdmVyZmxvd2VkSW5kaSIsIm92ZXJmbG93ZWRJbmRpY2F0b3IiLCJvdmVyZmxvd2VkSW5kaWNhdG9yUG9wdXBDbGFzc05hbWUiLCJvcGVuQW5pbWF0aW9uIiwib3BlblRyYW5zaXRpb25OYW1lIiwic2V0TW91bnRlZCIsImNvbnRhaW5lclJlZiIsIl91c2VNZXJnZWRTdGF0ZSIsInVzZU1lcmdlZFN0YXRlIiwiX3VzZU1lcmdlZFN0YXRlMiIsInNldFVVSUQiLCJuZXdJZCIsInVzZVVVSUQiLCJpc1J0bCIsIl9SZWFjdCR1c2VNZW1vIiwiX1JlYWN0JHVzZU1lbW8yIiwibWVyZ2VkTW9kZSIsIm1lcmdlZElubGluZUNvbGxhcHNlZCIsIl9SZWFjdCR1c2VTdGF0ZTMiLCJfUmVhY3QkdXNlU3RhdGU0IiwibGFzdFZpc2libGVJbmRleCIsInNldExhc3RWaXNpYmxlSW5kZXgiLCJhbGxWaXNpYmxlIiwicG9zdFN0YXRlIiwibWVyZ2VkT3BlbktleXMiLCJzZXRNZXJnZWRPcGVuS2V5cyIsInRyaWdnZXJPcGVuS2V5cyIsIl9SZWFjdCR1c2VTdGF0ZTUiLCJfUmVhY3QkdXNlU3RhdGU2IiwiaW5saW5lQ2FjaGVPcGVuS2V5cyIsInNldElubGluZUNhY2hlT3BlbktleXMiLCJpc0lubGluZU1vZGUiLCJfdXNlS2V5UmVjb3JkcyIsImludGVybmFsRm9yY2VVcGRhdGUiLCJrZXkycGF0aFJlZiIsInVzZVJlZiIsInBhdGgya2V5UmVmIiwib3ZlcmZsb3dLZXlzIiwic2V0T3ZlcmZsb3dLZXlzIiwidXBkYXRlUmVmIiwiZGVzdHJveVJlZiIsInVzZUNhbGxiYWNrIiwicmVmcmVzaE92ZXJmbG93S2V5cyIsImdldEtleVBhdGgiLCJpbmNsdWRlT3ZlcmZsb3ciLCJ1bnNoaWZ0IiwicGF0aEtleXMiLCJwYXRoS2V5IiwiZ2V0U3ViUGF0aEtleXMiLCJzdGFydHNXaXRoIiwiZ2V0S2V5cyIsInVzZUtleVJlY29yZHMiLCJyZWdpc3RlclBhdGhDb250ZXh0IiwicGF0aFVzZXJDb250ZXh0IiwiX3VzZU1lcmdlZFN0YXRlMyIsIl91c2VNZXJnZWRTdGF0ZTQiLCJtZXJnZWRBY3RpdmVLZXkiLCJzZXRNZXJnZWRBY3RpdmVLZXkiLCJfdXNlTWVyZ2VkU3RhdGU1IiwiX3VzZU1lcmdlZFN0YXRlNiIsIm1lcmdlZFNlbGVjdEtleXMiLCJzZXRNZXJnZWRTZWxlY3RLZXlzIiwib25JbnRlcm5hbENsaWNrIiwibmV3U2VsZWN0S2V5cyIsInRhcmdldEtleSIsImV4aXN0Iiwic2VsZWN0SW5mbyIsInRyaWdnZXJTZWxlY3Rpb24iLCJvbkludGVybmFsT3BlbkNoYW5nZSIsIm5ld09wZW5LZXlzIiwiayIsInN1YlBhdGhLZXlzIiwiZ2V0SW50ZXJuYWxQb3B1cENvbnRhaW5lciIsIm9uSW50ZXJuYWxLZXlEb3duIiwidHJpZ2dlckFjdGl2ZUtleSIsInRyaWdnZXJBY2Nlc3NpYmlsaXR5T3BlbiIsIm9yaWdpbk9uS2V5RG93biIsInJhZlJlZiIsImFjdGl2ZVJlZiIsImNsZWFuUmFmIiwia2V5MmVsZW1lbnQiLCJlbGVtZW50MmtleSIsInJlZnJlc2hFbGVtZW50cyIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhY3RpdmVFbGVtZW50IiwicGFyZW50RWxlbWVudCIsImdldEZvY3VzRWxlbWVudCIsImZvY3VzTWVudUtleSIsIm9mZnNldE9iaiIsImlzUm9vdExldmVsIiwiX2lubGluZSIsIl9ob3Jpem9udGFsIiwiX3ZlcnRpY2FsIiwiX29mZnNldHMkIiwicGFyZW50IiwiaW5saW5lVHJpZ2dlciIsImlubGluZSIsImlubGluZVN1YiIsImhvcml6b250YWxTdWIiLCJ2ZXJ0aWNhbFN1YiIsInNpYmxpbmciLCJnZXRPZmZzZXQiLCJ0cnlGb2N1cyIsIm1lbnVFbGVtZW50IiwiZm9jdXNUYXJnZXRFbGVtZW50IiwibGluayIsImdldEF0dHJpYnV0ZSIsImZvY3VzIiwidGFyZ2V0RWxlbWVudCIsImZpbmRDb250YWluZXJVTCIsImNvbnRyb2xJZCIsImdldEVsZW1lbnRCeUlkIiwicGFyZW50S2V5IiwicGFyZW50TWVudUVsZW1lbnQiLCJ1c2VBY2Nlc3NpYmlsaXR5IiwibmV4dE9wZW4iLCJ3cmFwcGVkQ2hpbGRMaXN0IiwiaXRlbUNvbXBvbmVudCIsImRpciIsInJlbmRlclJhd0l0ZW0iLCJub2RlIiwicmVuZGVyUmF3UmVzdCIsIm9taXRJdGVtcyIsIm9yaWdpbk9taXRJdGVtcyIsIm1heENvdW50Iiwic3NyIiwibmV3TGFzdEluZGV4IiwiZGlzcGxheSIsIkl0ZW0iLCJJdGVtR3JvdXAiLCJtYWtlUHJlZml4TWFwIiwic3R5bGVQcm9wIiwiZXZlbnROYW1lIiwicHJlZml4ZXMiLCJ0b0xvd2VyQ2FzZSIsImRvbVN1cHBvcnQiLCJ3aW4iLCJ2ZW5kb3JQcmVmaXhlcyIsIndpbmRvdyIsImFuaW1hdGlvbmVuZCIsInRyYW5zaXRpb25lbmQiLCJ0cmFuc2l0aW9uIiwiX2RvY3VtZW50JGNyZWF0ZUVsZW1lIiwiY3JlYXRlRWxlbWVudCIsInByZWZpeGVkRXZlbnROYW1lcyIsImdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lIiwicHJlZml4TWFwIiwic3R5bGVQcm9wTGlzdCIsImhhc093blByb3BlcnR5IiwiaW50ZXJuYWxBbmltYXRpb25FbmROYW1lIiwiaW50ZXJuYWxUcmFuc2l0aW9uRW5kTmFtZSIsInN1cHBvcnRUcmFuc2l0aW9uIiwiYW5pbWF0aW9uRW5kTmFtZSIsInRyYW5zaXRpb25FbmROYW1lIiwiZ2V0VHJhbnNpdGlvbk5hbWUiLCJ0cmFuc2l0aW9uVHlwZSIsInRvVXBwZXJDYXNlIiwiU1RBVFVTX05PTkUiLCJTVEFUVVNfQVBQRUFSIiwiU1RBVFVTX0VOVEVSIiwiU1RBVFVTX0xFQVZFIiwiU1RFUF9OT05FIiwiU1RFUF9QUkVQQVJFIiwiU1RFUF9TVEFSVCIsIlNURVBfQUNUSVZFIiwiU1RFUF9BQ1RJVkFURUQiLCJ1c2VNb3VudFN0YXR1cyIsIl91c2VTdGF0ZSIsInVzZVN0YXRlIiwiX3VzZVN0YXRlMiIsInNldFZhbCIsInVzZUVmZmVjdCIsImNhblVzZURvbSIsInVzZUxheW91dEVmZmVjdCIsIlNURVBfUVVFVUUiLCJpc0FjdGl2ZSIsInN0ZXAiLCJ1c2VTdGF0dXMiLCJzdXBwb3J0TW90aW9uIiwiZ2V0RWxlbWVudCIsIl9yZWYkbW90aW9uRW50ZXIiLCJtb3Rpb25FbnRlciIsIl9yZWYkbW90aW9uQXBwZWFyIiwiX3JlZiRtb3Rpb25MZWF2ZSIsIm1vdGlvbkxlYXZlIiwibW90aW9uRGVhZGxpbmUiLCJtb3Rpb25MZWF2ZUltbWVkaWF0ZWx5Iiwib25BcHBlYXJQcmVwYXJlIiwib25FbnRlclByZXBhcmUiLCJvbkxlYXZlUHJlcGFyZSIsIm9uQXBwZWFyU3RhcnQiLCJvbkVudGVyU3RhcnQiLCJvbkxlYXZlU3RhcnQiLCJvbkFwcGVhckFjdGl2ZSIsIm9uRW50ZXJBY3RpdmUiLCJvbkxlYXZlQWN0aXZlIiwib25BcHBlYXJFbmQiLCJvbkVudGVyRW5kIiwib25MZWF2ZUVuZCIsImFzeW5jVmlzaWJsZSIsInNldEFzeW5jVmlzaWJsZSIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0Iiwic3RhdHVzIiwic2V0U3RhdHVzIiwiX3VzZVN0YXRlNSIsIl91c2VTdGF0ZTYiLCJzZXRTdHlsZSIsIm1vdW50ZWRSZWYiLCJkZWFkbGluZVJlZiIsImRlc3Ryb3llZFJlZiIsImNhY2hlRWxlbWVudFJlZiIsImdldERvbUVsZW1lbnQiLCJvbkludGVybmFsTW90aW9uRW5kIiwiY2FuRW5kIiwiZGVhZGxpbmUiLCJfdXNlRG9tTW90aW9uRXZlbnRzIiwiY2FsbGJhY2tSZWYiLCJyZW1vdmVNb3Rpb25FdmVudHMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZURvbU1vdGlvbkV2ZW50cyIsInBhdGNoTW90aW9uRXZlbnRzIiwiZXZlbnRIYW5kbGVycyIsIl91c2VTdGVwUXVldWUiLCJzZXRTdGVwIiwiX3VzZU5leHRGcmFtZSIsIm5leHRGcmFtZVJlZiIsImNhbmNlbE5leHRGcmFtZSIsIm5leHRGcmFtZSIsImRlbGF5IiwibmV4dEZyYW1lSWQiLCJpc0NhbmNlbGVkIiwidXNlTmV4dEZyYW1lIiwiX3VzZU5leHRGcmFtZTIiLCJuZXh0U3RlcCIsImRvTmV4dCIsInVzZVN0ZXBRdWV1ZSIsIm5ld1N0ZXAiLCJvblByZXBhcmUiLCJfZXZlbnRIYW5kbGVycyRzdGVwIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIl91c2VTdGVwUXVldWUyIiwic3RhcnRTdGVwIiwibmV4dFN0YXR1cyIsImlzTW91bnRlZCIsIm1lcmdlZFN0eWxlIiwiRG9tV3JhcHBlciIsImNvbmZpZyIsInRyYW5zaXRpb25TdXBwb3J0IiwiaXNTdXBwb3J0VHJhbnNpdGlvbiIsIm1vdGlvbk5hbWUiLCJDU1NNb3Rpb24iLCJfcHJvcHMkdmlzaWJsZSIsIl9wcm9wcyRyZW1vdmVPbkxlYXZlIiwiZXZlbnRQcm9wcyIsIm5vZGVSZWYiLCJ3cmFwcGVyTm9kZVJlZiIsIl91c2VTdGF0dXMiLCJmaW5kRE9NTm9kZSIsIl91c2VTdGF0dXMyIiwic3RhdHVzU3RlcCIsInN0YXR1c1N0eWxlIiwicmVuZGVyZWRSZWYiLCJvcmlnaW5SZWYiLCJtb3Rpb25DaGlsZHJlbiIsInNldE5vZGVSZWYiLCJtZXJnZWRQcm9wcyIsInN0YXR1c1N1ZmZpeCIsIlNUQVRVU19BREQiLCJTVEFUVVNfS0VFUCIsIlNUQVRVU19SRU1PVkUiLCJTVEFUVVNfUkVNT1ZFRCIsIndyYXBLZXlUb09iamVjdCIsImtleU9iaiIsIlN0cmluZyIsInBhcnNlS2V5cyIsImRpZmZLZXlzIiwicHJldktleXMiLCJjdXJyZW50S2V5cyIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRMZW4iLCJwcmV2S2V5T2JqZWN0cyIsImN1cnJlbnRLZXlPYmplY3RzIiwiaGl0IiwiY3VycmVudEtleU9iaiIsImR1cGxpY2F0ZWRLZXlzIiwibWF0Y2hLZXkiLCJNT1RJT05fUFJPUF9OQU1FUyIsIkNTU01vdGlvbkxpc3QiLCJrZXlFbnRpdGllcyIsInJlbW92ZUtleSIsIl90aGlzMiIsIl9vblZpc2libGVDaGFuZ2VkIiwibW90aW9uUHJvcHMiLCJwcm9wIiwiY2hhbmdlZFZpc2libGUiLCJwYXJzZWRLZXlPYmplY3RzIiwicHJldkVudGl0eSIsImZpbmQiLCJOb3RpY2UiLCJfQ29tcG9uZW50IiwiY2xvc2VUaW1lciIsImNsb3NlIiwiY2xlYXJDbG9zZVRpbWVyIiwib25DbG9zZSIsIm5vdGljZUtleSIsInN0YXJ0Q2xvc2VUaW1lciIsImR1cmF0aW9uIiwicHJldlByb3BzIiwidXBkYXRlTWFyayIsInJlc3RhcnRDbG9zZVRpbWVyIiwiY2xvc2FibGUiLCJjbG9zZUljb24iLCJob2xkZXIiLCJjb21wb25lbnRDbGFzcyIsImRhdGFPckFyaWFBdHRyaWJ1dGVQcm9wcyIsImFjYyIsInN1YnN0ciIsInNlZWQiLCJub3ciLCJEYXRlIiwiZ2V0VXVpZCIsIk5vdGlmaWNhdGlvbiIsIm5vdGljZXMiLCJob29rUmVmcyIsIm9yaWdpbk5vdGljZSIsImhvbGRlckNhbGxiYWNrIiwibm90aWNlIiwicHJldmlvdXNTdGF0ZSIsIm5vdGljZUluZGV4IiwidiIsInVwZGF0ZWROb3RpY2VzIiwic3BsaWNlIiwidXNlclBhc3NLZXkiLCJzaGlmdCIsIl9yZWYyJG5vdGljZSIsIm5vdGljZVByb3BzTWFwIiwibm90aWNlS2V5cyIsIm5vdGljZVByb3BzIiwiX25vdGljZSRvbkNsb3NlIiwiY29udGVudCIsIl90aGlzMiRub3RpY2VQcm9wc01hcCIsImRpdiIsIm5ld0luc3RhbmNlIiwidG9wIiwibGVmdCIsInByb3BlcnRpZXMiLCJfcmVmNiIsImdldENvbnRhaW5lciIsImFwcGVuZENoaWxkIiwiYm9keSIsImNhbGxlZCIsIm5vdGlmaWNhdGlvbiIsInJlbW92ZU5vdGljZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInVzZU5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkluc3RhbmNlIiwiY3JlYXRlZFJlZiIsInNldEVsZW1lbnRzIiwiZmlyc3RNb3VudCIsIm5vdGljZUVsZSIsIm9yaWdpbkVsZW1lbnRzIiwiY2xvbmVMaXN0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LEVBQVdqcEIsRUFBaUIsR0FDNUJzaUMsRUFBY3RpQyxFQUFpQixHQWdDbkMsTUFBTyxDQTlCUCxTQUFnQmloQyxHQUNkLElBQUlzQixHQUFhLEVBQ2pCSCxFQUFxQjNxQixJQUFJd3BCLEdBQWEsU0FBVUksRUFBSzVpQyxHQUNuRCxJQUFJdUgsRUFBTXZILEVBQU11SCxJQUVoQixHQUFJcTdCLEtBQVNnQixFQUFXaGlDLFFBQVEyRixJQUFRdThCLEdBQWEsQ0FDbkQsSUFBSUMsRUFBeUIsZ0JBQW9CLEtBQVEsT0FBUyxHQUFJL2pDLEVBQU8sQ0FDM0UrZ0MsT0FBUTZCLEtBRVZnQixFQUFXaGlDLFFBQVEyRixHQUFPdzhCLEVBQzFCRixHQUFZLFNBQVVHLEdBQ3BCLElBQUkxMkIsRUFBUTAyQixFQUFlalosV0FBVSxTQUFVTixHQUM3QyxPQUFPQSxFQUFJbGpCLE1BQVF2SCxFQUFNdUgsT0FHM0IsSUFBZSxJQUFYK0YsRUFDRixNQUFPLEdBQUcxSyxRQUFPLE9BQW1Cb2hDLEdBQWlCLENBQUNELElBR3hELElBQUlFLEdBQVksT0FBbUJELEdBR25DLE9BREFDLEVBQVUzMkIsR0FBU3kyQixFQUNaRSxLQUlYSCxHQUFhLE1BSVksZ0JBQW9CLFdBQWdCLEtBQU10WiIsImZpbGUiOiJ2ZW5kb3JzLWIzODU4N2M3LmNkMWZjMjM0NWEwYjYxN2YwZWE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHtcbiAgYWRqdXN0WDogMSxcbiAgYWRqdXN0WTogMVxufTtcbnZhciB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG52YXIgcGxhY2VtZW50cyA9IHtcbiAgdG9wTGVmdDoge1xuICAgIHBvaW50czogWydibCcsICd0bCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcENlbnRlcjoge1xuICAgIHBvaW50czogWydiYycsICd0YyddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcFJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ2JyJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tQ2VudGVyOiB7XG4gICAgcG9pbnRzOiBbJ3RjJywgJ2JjJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21SaWdodDoge1xuICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IHBsYWNlbWVudHM7IiwiaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vRHJvcGRvd24nO1xuZXhwb3J0IGRlZmF1bHQgRHJvcGRvd247IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUcmlnZ2VyIGZyb20gJ3JjLXRyaWdnZXInO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUGxhY2VtZW50cyBmcm9tICcuL3BsYWNlbWVudHMnO1xuXG5mdW5jdGlvbiBEcm9wZG93bihwcm9wcywgcmVmKSB7XG4gIHZhciBfcHJvcHMkYXJyb3cgPSBwcm9wcy5hcnJvdyxcbiAgICAgIGFycm93ID0gX3Byb3BzJGFycm93ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRhcnJvdyxcbiAgICAgIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB2b2lkIDAgPyAncmMtZHJvcGRvd24nIDogX3Byb3BzJHByZWZpeENscyxcbiAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICBhbmltYXRpb24gPSBwcm9wcy5hbmltYXRpb24sXG4gICAgICBhbGlnbiA9IHByb3BzLmFsaWduLFxuICAgICAgX3Byb3BzJHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9wcm9wcyRwbGFjZW1lbnQgPT09IHZvaWQgMCA/ICdib3R0b21MZWZ0JyA6IF9wcm9wcyRwbGFjZW1lbnQsXG4gICAgICBfcHJvcHMkcGxhY2VtZW50cyA9IHByb3BzLnBsYWNlbWVudHMsXG4gICAgICBwbGFjZW1lbnRzID0gX3Byb3BzJHBsYWNlbWVudHMgPT09IHZvaWQgMCA/IFBsYWNlbWVudHMgOiBfcHJvcHMkcGxhY2VtZW50cyxcbiAgICAgIGdldFBvcHVwQ29udGFpbmVyID0gcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICBzaG93QWN0aW9uID0gcHJvcHMuc2hvd0FjdGlvbixcbiAgICAgIGhpZGVBY3Rpb24gPSBwcm9wcy5oaWRlQWN0aW9uLFxuICAgICAgb3ZlcmxheUNsYXNzTmFtZSA9IHByb3BzLm92ZXJsYXlDbGFzc05hbWUsXG4gICAgICBvdmVybGF5U3R5bGUgPSBwcm9wcy5vdmVybGF5U3R5bGUsXG4gICAgICB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSxcbiAgICAgIF9wcm9wcyR0cmlnZ2VyID0gcHJvcHMudHJpZ2dlcixcbiAgICAgIHRyaWdnZXIgPSBfcHJvcHMkdHJpZ2dlciA9PT0gdm9pZCAwID8gWydob3ZlciddIDogX3Byb3BzJHRyaWdnZXIsXG4gICAgICBvdGhlclByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJhcnJvd1wiLCBcInByZWZpeENsc1wiLCBcInRyYW5zaXRpb25OYW1lXCIsIFwiYW5pbWF0aW9uXCIsIFwiYWxpZ25cIiwgXCJwbGFjZW1lbnRcIiwgXCJwbGFjZW1lbnRzXCIsIFwiZ2V0UG9wdXBDb250YWluZXJcIiwgXCJzaG93QWN0aW9uXCIsIFwiaGlkZUFjdGlvblwiLCBcIm92ZXJsYXlDbGFzc05hbWVcIiwgXCJvdmVybGF5U3R5bGVcIiwgXCJ2aXNpYmxlXCIsIFwidHJpZ2dlclwiXSk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIHRyaWdnZXJWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldFRyaWdnZXJWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgbWVyZ2VkVmlzaWJsZSA9ICd2aXNpYmxlJyBpbiBwcm9wcyA/IHZpc2libGUgOiB0cmlnZ2VyVmlzaWJsZTtcbiAgdmFyIHRyaWdnZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRyaWdnZXJSZWYuY3VycmVudDtcbiAgfSk7XG5cbiAgdmFyIGdldE92ZXJsYXlFbGVtZW50ID0gZnVuY3Rpb24gZ2V0T3ZlcmxheUVsZW1lbnQoKSB7XG4gICAgdmFyIG92ZXJsYXkgPSBwcm9wcy5vdmVybGF5O1xuICAgIHZhciBvdmVybGF5RWxlbWVudDtcblxuICAgIGlmICh0eXBlb2Ygb3ZlcmxheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3ZlcmxheUVsZW1lbnQgPSBvdmVybGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG92ZXJsYXlFbGVtZW50ID0gb3ZlcmxheTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3ZlcmxheUVsZW1lbnQ7XG4gIH07XG5cbiAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICB2YXIgb25PdmVybGF5Q2xpY2sgPSBwcm9wcy5vbk92ZXJsYXlDbGljaztcbiAgICB2YXIgb3ZlcmxheVByb3BzID0gZ2V0T3ZlcmxheUVsZW1lbnQoKS5wcm9wcztcbiAgICBzZXRUcmlnZ2VyVmlzaWJsZShmYWxzZSk7XG5cbiAgICBpZiAob25PdmVybGF5Q2xpY2spIHtcbiAgICAgIG9uT3ZlcmxheUNsaWNrKGUpO1xuICAgIH1cblxuICAgIGlmIChvdmVybGF5UHJvcHMub25DbGljaykge1xuICAgICAgb3ZlcmxheVByb3BzLm9uQ2xpY2soZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvblZpc2libGVDaGFuZ2UgPSBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuICAgIHZhciBvblZpc2libGVDaGFuZ2UgPSBwcm9wcy5vblZpc2libGVDaGFuZ2U7XG4gICAgc2V0VHJpZ2dlclZpc2libGUodmlzaWJsZSk7XG5cbiAgICBpZiAodHlwZW9mIG9uVmlzaWJsZUNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0TWVudUVsZW1lbnQgPSBmdW5jdGlvbiBnZXRNZW51RWxlbWVudCgpIHtcbiAgICB2YXIgb3ZlcmxheUVsZW1lbnQgPSBnZXRPdmVybGF5RWxlbWVudCgpO1xuICAgIHZhciBleHRyYU92ZXJsYXlQcm9wcyA9IHtcbiAgICAgIHByZWZpeENsczogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1tZW51XCIpLFxuICAgICAgb25DbGljazogb25DbGlja1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIG92ZXJsYXlFbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBkZWxldGUgZXh0cmFPdmVybGF5UHJvcHMucHJlZml4Q2xzO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBhcnJvdyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1hcnJvd1wiKVxuICAgIH0pLCBSZWFjdC5jbG9uZUVsZW1lbnQob3ZlcmxheUVsZW1lbnQsIGV4dHJhT3ZlcmxheVByb3BzKSk7XG4gIH07XG5cbiAgdmFyIGdldE1lbnVFbGVtZW50T3JMYW1iZGEgPSBmdW5jdGlvbiBnZXRNZW51RWxlbWVudE9yTGFtYmRhKCkge1xuICAgIHZhciBvdmVybGF5ID0gcHJvcHMub3ZlcmxheTtcblxuICAgIGlmICh0eXBlb2Ygb3ZlcmxheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGdldE1lbnVFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZW51RWxlbWVudCgpO1xuICB9O1xuXG4gIHZhciBnZXRNaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIgPSBmdW5jdGlvbiBnZXRNaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIoKSB7XG4gICAgdmFyIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlciA9IHByb3BzLm1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcixcbiAgICAgICAgYWxpZ25Qb2ludCA9IHByb3BzLmFsaWduUG9pbnQ7XG5cbiAgICBpZiAoJ21pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcicgaW4gcHJvcHMpIHtcbiAgICAgIHJldHVybiBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuICFhbGlnblBvaW50O1xuICB9O1xuXG4gIHZhciBnZXRPcGVuQ2xhc3NOYW1lID0gZnVuY3Rpb24gZ2V0T3BlbkNsYXNzTmFtZSgpIHtcbiAgICB2YXIgb3BlbkNsYXNzTmFtZSA9IHByb3BzLm9wZW5DbGFzc05hbWU7XG5cbiAgICBpZiAob3BlbkNsYXNzTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gb3BlbkNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1vcGVuXCIpO1xuICB9O1xuXG4gIHZhciByZW5kZXJDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbmRlckNoaWxkcmVuKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIHZhciBjaGlsZHJlblByb3BzID0gY2hpbGRyZW4ucHJvcHMgPyBjaGlsZHJlbi5wcm9wcyA6IHt9O1xuICAgIHZhciBjaGlsZENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoY2hpbGRyZW5Qcm9wcy5jbGFzc05hbWUsIGdldE9wZW5DbGFzc05hbWUoKSk7XG4gICAgcmV0dXJuIHRyaWdnZXJWaXNpYmxlICYmIGNoaWxkcmVuID8gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICBjbGFzc05hbWU6IGNoaWxkQ2xhc3NOYW1lXG4gICAgfSkgOiBjaGlsZHJlbjtcbiAgfTtcblxuICB2YXIgdHJpZ2dlckhpZGVBY3Rpb24gPSBoaWRlQWN0aW9uO1xuXG4gIGlmICghdHJpZ2dlckhpZGVBY3Rpb24gJiYgdHJpZ2dlci5pbmRleE9mKCdjb250ZXh0TWVudScpICE9PSAtMSkge1xuICAgIHRyaWdnZXJIaWRlQWN0aW9uID0gWydjbGljayddO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJpZ2dlciwgT2JqZWN0LmFzc2lnbih7fSwgb3RoZXJQcm9wcywge1xuICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgIHJlZjogdHJpZ2dlclJlZixcbiAgICBwb3B1cENsYXNzTmFtZTogY2xhc3NOYW1lcyhvdmVybGF5Q2xhc3NOYW1lLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItc2hvdy1hcnJvd1wiKSwgYXJyb3cpKSxcbiAgICBwb3B1cFN0eWxlOiBvdmVybGF5U3R5bGUsXG4gICAgYnVpbHRpblBsYWNlbWVudHM6IHBsYWNlbWVudHMsXG4gICAgYWN0aW9uOiB0cmlnZ2VyLFxuICAgIHNob3dBY3Rpb246IHNob3dBY3Rpb24sXG4gICAgaGlkZUFjdGlvbjogdHJpZ2dlckhpZGVBY3Rpb24gfHwgW10sXG4gICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICBwb3B1cEFsaWduOiBhbGlnbixcbiAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcbiAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgIHBvcHVwVmlzaWJsZTogbWVyZ2VkVmlzaWJsZSxcbiAgICBzdHJldGNoOiBnZXRNaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIoKSA/ICdtaW5XaWR0aCcgOiAnJyxcbiAgICBwb3B1cDogZ2V0TWVudUVsZW1lbnRPckxhbWJkYSgpLFxuICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBvblZpc2libGVDaGFuZ2UsXG4gICAgZ2V0UG9wdXBDb250YWluZXI6IGdldFBvcHVwQ29udGFpbmVyXG4gIH0pLCByZW5kZXJDaGlsZHJlbigpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QuZm9yd2FyZFJlZihEcm9wZG93bik7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuZXhwb3J0IHZhciBIT09LX01BUksgPSAnUkNfRk9STV9JTlRFUk5BTF9IT09LUyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cbnZhciB3YXJuaW5nRnVuYyA9IGZ1bmN0aW9uIHdhcm5pbmdGdW5jKCkge1xuICB3YXJuaW5nKGZhbHNlLCAnQ2FuIG5vdCBmaW5kIEZvcm1Db250ZXh0LiBQbGVhc2UgbWFrZSBzdXJlIHlvdSB3cmFwIEZpZWxkIHVuZGVyIEZvcm0uJyk7XG59O1xuXG52YXIgQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgZ2V0RmllbGRWYWx1ZTogd2FybmluZ0Z1bmMsXG4gIGdldEZpZWxkc1ZhbHVlOiB3YXJuaW5nRnVuYyxcbiAgZ2V0RmllbGRFcnJvcjogd2FybmluZ0Z1bmMsXG4gIGdldEZpZWxkc0Vycm9yOiB3YXJuaW5nRnVuYyxcbiAgaXNGaWVsZHNUb3VjaGVkOiB3YXJuaW5nRnVuYyxcbiAgaXNGaWVsZFRvdWNoZWQ6IHdhcm5pbmdGdW5jLFxuICBpc0ZpZWxkVmFsaWRhdGluZzogd2FybmluZ0Z1bmMsXG4gIGlzRmllbGRzVmFsaWRhdGluZzogd2FybmluZ0Z1bmMsXG4gIHJlc2V0RmllbGRzOiB3YXJuaW5nRnVuYyxcbiAgc2V0RmllbGRzOiB3YXJuaW5nRnVuYyxcbiAgc2V0RmllbGRzVmFsdWU6IHdhcm5pbmdGdW5jLFxuICB2YWxpZGF0ZUZpZWxkczogd2FybmluZ0Z1bmMsXG4gIHN1Ym1pdDogd2FybmluZ0Z1bmMsXG4gIGdldEludGVybmFsSG9va3M6IGZ1bmN0aW9uIGdldEludGVybmFsSG9va3MoKSB7XG4gICAgd2FybmluZ0Z1bmMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzcGF0Y2g6IHdhcm5pbmdGdW5jLFxuICAgICAgaW5pdEVudGl0eVZhbHVlOiB3YXJuaW5nRnVuYyxcbiAgICAgIHJlZ2lzdGVyRmllbGQ6IHdhcm5pbmdGdW5jLFxuICAgICAgdXNlU3Vic2NyaWJlOiB3YXJuaW5nRnVuYyxcbiAgICAgIHNldEluaXRpYWxWYWx1ZXM6IHdhcm5pbmdGdW5jLFxuICAgICAgc2V0Q2FsbGJhY2tzOiB3YXJuaW5nRnVuYyxcbiAgICAgIGdldEZpZWxkczogd2FybmluZ0Z1bmMsXG4gICAgICBzZXRWYWxpZGF0ZU1lc3NhZ2VzOiB3YXJuaW5nRnVuYyxcbiAgICAgIHNldFByZXNlcnZlOiB3YXJuaW5nRnVuY1xuICAgIH07XG4gIH1cbn0pO1xuZXhwb3J0IGRlZmF1bHQgQ29udGV4dDsiLCJleHBvcnQgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn0iLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmltcG9ydCBnZXQgZnJvbSBcInJjLXV0aWwvZXMvdXRpbHMvZ2V0XCI7XG5pbXBvcnQgc2V0IGZyb20gXCJyYy11dGlsL2VzL3V0aWxzL3NldFwiO1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vdHlwZVV0aWwnO1xuLyoqXG4gKiBDb252ZXJ0IG5hbWUgdG8gaW50ZXJuYWwgc3VwcG9ydGVkIGZvcm1hdC5cbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGtlZXAgc2luY2Ugd2Ugc3RpbGwgdGhpbmtpbmcgaWYgbmVlZCBzdXBwb3J0IGxpa2UgYGEuYi5jYCBmb3JtYXQuXG4gKiAnYScgPT4gWydhJ11cbiAqIDEyMyA9PiBbMTIzXVxuICogWydhJywgMTIzXSA9PiBbJ2EnLCAxMjNdXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5hbWVQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHRvQXJyYXkocGF0aCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUoc3RvcmUsIG5hbWVQYXRoKSB7XG4gIHZhciB2YWx1ZSA9IGdldChzdG9yZSwgbmFtZVBhdGgpO1xuICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0VmFsdWUoc3RvcmUsIG5hbWVQYXRoLCB2YWx1ZSkge1xuICB2YXIgcmVtb3ZlSWZVbmRlZmluZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGZhbHNlO1xuICB2YXIgbmV3U3RvcmUgPSBzZXQoc3RvcmUsIG5hbWVQYXRoLCB2YWx1ZSwgcmVtb3ZlSWZVbmRlZmluZWQpO1xuICByZXR1cm4gbmV3U3RvcmU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVCeU5hbWVQYXRoTGlzdChzdG9yZSwgbmFtZVBhdGhMaXN0KSB7XG4gIHZhciBuZXdTdG9yZSA9IHt9O1xuICBuYW1lUGF0aExpc3QuZm9yRWFjaChmdW5jdGlvbiAobmFtZVBhdGgpIHtcbiAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShzdG9yZSwgbmFtZVBhdGgpO1xuICAgIG5ld1N0b3JlID0gc2V0VmFsdWUobmV3U3RvcmUsIG5hbWVQYXRoLCB2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gbmV3U3RvcmU7XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNOYW1lUGF0aChuYW1lUGF0aExpc3QsIG5hbWVQYXRoKSB7XG4gIHJldHVybiBuYW1lUGF0aExpc3QgJiYgbmFtZVBhdGhMaXN0LnNvbWUoZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gbWF0Y2hOYW1lUGF0aChwYXRoLCBuYW1lUGF0aCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuLyoqXG4gKiBDb3B5IHZhbHVlcyBpbnRvIHN0b3JlIGFuZCByZXR1cm4gYSBuZXcgdmFsdWVzIG9iamVjdFxuICogKHsgYTogMSwgYjogeyBjOiAyIH0gfSwgeyBhOiA0LCBiOiB7IGQ6IDUgfSB9KSA9PiB7IGE6IDQsIGI6IHsgYzogMiwgZDogNSB9IH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGludGVybmFsU2V0VmFsdWVzKHN0b3JlLCB2YWx1ZXMpIHtcbiAgdmFyIG5ld1N0b3JlID0gQXJyYXkuaXNBcnJheShzdG9yZSkgPyBfdG9Db25zdW1hYmxlQXJyYXkoc3RvcmUpIDogX29iamVjdFNwcmVhZCh7fSwgc3RvcmUpO1xuXG4gIGlmICghdmFsdWVzKSB7XG4gICAgcmV0dXJuIG5ld1N0b3JlO1xuICB9XG5cbiAgT2JqZWN0LmtleXModmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcHJldlZhbHVlID0gbmV3U3RvcmVba2V5XTtcbiAgICB2YXIgdmFsdWUgPSB2YWx1ZXNba2V5XTsgLy8gSWYgYm90aCBhcmUgb2JqZWN0IChidXQgdGFyZ2V0IGlzIG5vdCBhcnJheSksIHdlIHVzZSByZWN1cnNpb24gdG8gc2V0IGRlZXAgdmFsdWVcblxuICAgIHZhciByZWN1cnNpdmUgPSBpc09iamVjdChwcmV2VmFsdWUpICYmIGlzT2JqZWN0KHZhbHVlKTtcbiAgICBuZXdTdG9yZVtrZXldID0gcmVjdXJzaXZlID8gaW50ZXJuYWxTZXRWYWx1ZXMocHJldlZhbHVlLCB2YWx1ZSB8fCB7fSkgOiB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBuZXdTdG9yZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFZhbHVlcyhzdG9yZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdFZhbHVlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcmVzdFZhbHVlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gcmVzdFZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGN1cnJlbnQsIG5ld1N0b3JlKSB7XG4gICAgcmV0dXJuIGludGVybmFsU2V0VmFsdWVzKGN1cnJlbnQsIG5ld1N0b3JlKTtcbiAgfSwgc3RvcmUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoTmFtZVBhdGgobmFtZVBhdGgsIGNoYW5nZWROYW1lUGF0aCkge1xuICBpZiAoIW5hbWVQYXRoIHx8ICFjaGFuZ2VkTmFtZVBhdGggfHwgbmFtZVBhdGgubGVuZ3RoICE9PSBjaGFuZ2VkTmFtZVBhdGgubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVQYXRoLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lVW5pdCwgaSkge1xuICAgIHJldHVybiBjaGFuZ2VkTmFtZVBhdGhbaV0gPT09IG5hbWVVbml0O1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NpbWlsYXIoc291cmNlLCB0YXJnZXQpIHtcbiAgaWYgKHNvdXJjZSA9PT0gdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoIXNvdXJjZSAmJiB0YXJnZXQgfHwgc291cmNlICYmICF0YXJnZXQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIXNvdXJjZSB8fCAhdGFyZ2V0IHx8IF90eXBlb2Yoc291cmNlKSAhPT0gJ29iamVjdCcgfHwgX3R5cGVvZih0YXJnZXQpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIHRhcmdldEtleXMgPSBPYmplY3Qua2V5cyh0YXJnZXQpO1xuICB2YXIga2V5cyA9IG5ldyBTZXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzb3VyY2VLZXlzKSwgX3RvQ29uc3VtYWJsZUFycmF5KHRhcmdldEtleXMpKSk7XG4gIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkoa2V5cykuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzb3VyY2VWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgIHZhciB0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldO1xuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdGFyZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2VWYWx1ZSA9PT0gdGFyZ2V0VmFsdWU7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRHZXRWYWx1ZUZyb21FdmVudCh2YWx1ZVByb3BOYW1lKSB7XG4gIHZhciBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAoZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIHZhbHVlUHJvcE5hbWUgaW4gZXZlbnQudGFyZ2V0KSB7XG4gICAgcmV0dXJuIGV2ZW50LnRhcmdldFt2YWx1ZVByb3BOYW1lXTtcbiAgfVxuXG4gIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogTW92ZXMgYW4gYXJyYXkgaXRlbSBmcm9tIG9uZSBwb3NpdGlvbiBpbiBhbiBhcnJheSB0byBhbm90aGVyLlxuICpcbiAqIE5vdGU6IFRoaXMgaXMgYSBwdXJlIGZ1bmN0aW9uIHNvIGEgbmV3IGFycmF5IHdpbGwgYmUgcmV0dXJuZWQsIGluc3RlYWRcbiAqIG9mIGFsdGVyaW5nIHRoZSBhcnJheSBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgICAgICAgICBBcnJheSBpbiB3aGljaCB0byBtb3ZlIGFuIGl0ZW0uICAgICAgICAgKHJlcXVpcmVkKVxuICogQHBhcmFtIG1vdmVJbmRleCAgICAgVGhlIGluZGV4IG9mIHRoZSBpdGVtIHRvIG1vdmUuICAgICAgICAgIChyZXF1aXJlZClcbiAqIEBwYXJhbSB0b0luZGV4ICAgICAgIFRoZSBpbmRleCB0byBtb3ZlIGl0ZW0gYXQgbW92ZUluZGV4IHRvLiAocmVxdWlyZWQpXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmUoYXJyYXksIG1vdmVJbmRleCwgdG9JbmRleCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIGlmIChtb3ZlSW5kZXggPCAwIHx8IG1vdmVJbmRleCA+PSBsZW5ndGggfHwgdG9JbmRleCA8IDAgfHwgdG9JbmRleCA+PSBsZW5ndGgpIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICB2YXIgaXRlbSA9IGFycmF5W21vdmVJbmRleF07XG4gIHZhciBkaWZmID0gbW92ZUluZGV4IC0gdG9JbmRleDtcblxuICBpZiAoZGlmZiA+IDApIHtcbiAgICAvLyBtb3ZlIGxlZnRcbiAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhcnJheS5zbGljZSgwLCB0b0luZGV4KSksIFtpdGVtXSwgX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5LnNsaWNlKHRvSW5kZXgsIG1vdmVJbmRleCkpLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJyYXkuc2xpY2UobW92ZUluZGV4ICsgMSwgbGVuZ3RoKSkpO1xuICB9XG5cbiAgaWYgKGRpZmYgPCAwKSB7XG4gICAgLy8gbW92ZSByaWdodFxuICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFycmF5LnNsaWNlKDAsIG1vdmVJbmRleCkpLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJyYXkuc2xpY2UobW92ZUluZGV4ICsgMSwgdG9JbmRleCArIDEpKSwgW2l0ZW1dLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJyYXkuc2xpY2UodG9JbmRleCArIDEsIGxlbmd0aCkpKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn0iLCJ2YXIgdHlwZVRlbXBsYXRlID0gXCInJHtuYW1lfScgaXMgbm90IGEgdmFsaWQgJHt0eXBlfVwiO1xuZXhwb3J0IHZhciBkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyA9IHtcbiAgZGVmYXVsdDogXCJWYWxpZGF0aW9uIGVycm9yIG9uIGZpZWxkICcke25hbWV9J1wiLFxuICByZXF1aXJlZDogXCInJHtuYW1lfScgaXMgcmVxdWlyZWRcIixcbiAgZW51bTogXCInJHtuYW1lfScgbXVzdCBiZSBvbmUgb2YgWyR7ZW51bX1dXCIsXG4gIHdoaXRlc3BhY2U6IFwiJyR7bmFtZX0nIGNhbm5vdCBiZSBlbXB0eVwiLFxuICBkYXRlOiB7XG4gICAgZm9ybWF0OiBcIicke25hbWV9JyBpcyBpbnZhbGlkIGZvciBmb3JtYXQgZGF0ZVwiLFxuICAgIHBhcnNlOiBcIicke25hbWV9JyBjb3VsZCBub3QgYmUgcGFyc2VkIGFzIGRhdGVcIixcbiAgICBpbnZhbGlkOiBcIicke25hbWV9JyBpcyBpbnZhbGlkIGRhdGVcIlxuICB9LFxuICB0eXBlczoge1xuICAgIHN0cmluZzogdHlwZVRlbXBsYXRlLFxuICAgIG1ldGhvZDogdHlwZVRlbXBsYXRlLFxuICAgIGFycmF5OiB0eXBlVGVtcGxhdGUsXG4gICAgb2JqZWN0OiB0eXBlVGVtcGxhdGUsXG4gICAgbnVtYmVyOiB0eXBlVGVtcGxhdGUsXG4gICAgZGF0ZTogdHlwZVRlbXBsYXRlLFxuICAgIGJvb2xlYW46IHR5cGVUZW1wbGF0ZSxcbiAgICBpbnRlZ2VyOiB0eXBlVGVtcGxhdGUsXG4gICAgZmxvYXQ6IHR5cGVUZW1wbGF0ZSxcbiAgICByZWdleHA6IHR5cGVUZW1wbGF0ZSxcbiAgICBlbWFpbDogdHlwZVRlbXBsYXRlLFxuICAgIHVybDogdHlwZVRlbXBsYXRlLFxuICAgIGhleDogdHlwZVRlbXBsYXRlXG4gIH0sXG4gIHN0cmluZzoge1xuICAgIGxlbjogXCInJHtuYW1lfScgbXVzdCBiZSBleGFjdGx5ICR7bGVufSBjaGFyYWN0ZXJzXCIsXG4gICAgbWluOiBcIicke25hbWV9JyBtdXN0IGJlIGF0IGxlYXN0ICR7bWlufSBjaGFyYWN0ZXJzXCIsXG4gICAgbWF4OiBcIicke25hbWV9JyBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJHttYXh9IGNoYXJhY3RlcnNcIixcbiAgICByYW5nZTogXCInJHtuYW1lfScgbXVzdCBiZSBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9IGNoYXJhY3RlcnNcIlxuICB9LFxuICBudW1iZXI6IHtcbiAgICBsZW46IFwiJyR7bmFtZX0nIG11c3QgZXF1YWwgJHtsZW59XCIsXG4gICAgbWluOiBcIicke25hbWV9JyBjYW5ub3QgYmUgbGVzcyB0aGFuICR7bWlufVwiLFxuICAgIG1heDogXCInJHtuYW1lfScgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAke21heH1cIixcbiAgICByYW5nZTogXCInJHtuYW1lfScgbXVzdCBiZSBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9XCJcbiAgfSxcbiAgYXJyYXk6IHtcbiAgICBsZW46IFwiJyR7bmFtZX0nIG11c3QgYmUgZXhhY3RseSAke2xlbn0gaW4gbGVuZ3RoXCIsXG4gICAgbWluOiBcIicke25hbWV9JyBjYW5ub3QgYmUgbGVzcyB0aGFuICR7bWlufSBpbiBsZW5ndGhcIixcbiAgICBtYXg6IFwiJyR7bmFtZX0nIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gJHttYXh9IGluIGxlbmd0aFwiLFxuICAgIHJhbmdlOiBcIicke25hbWV9JyBtdXN0IGJlIGJldHdlZW4gJHttaW59IGFuZCAke21heH0gaW4gbGVuZ3RoXCJcbiAgfSxcbiAgcGF0dGVybjoge1xuICAgIG1pc21hdGNoOiBcIicke25hbWV9JyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuICR7cGF0dGVybn1cIlxuICB9XG59OyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSBcIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yXCI7XG5pbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3JcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgUmF3QXN5bmNWYWxpZGF0b3IgZnJvbSAnYXN5bmMtdmFsaWRhdG9yJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbmltcG9ydCB7IHNldFZhbHVlcyB9IGZyb20gJy4vdmFsdWVVdGlsJztcbmltcG9ydCB7IGRlZmF1bHRWYWxpZGF0ZU1lc3NhZ2VzIH0gZnJvbSAnLi9tZXNzYWdlcyc7IC8vIFJlbW92ZSBpbmNvcnJlY3Qgb3JpZ2luYWwgdHMgZGVmaW5lXG5cbnZhciBBc3luY1ZhbGlkYXRvciA9IFJhd0FzeW5jVmFsaWRhdG9yO1xuLyoqXG4gKiBSZXBsYWNlIHdpdGggdGVtcGxhdGUuXG4gKiAgIGBJJ20gJHtuYW1lfWAgKyB7IG5hbWU6ICdiYW1ib28nIH0gPSBJJ20gYmFtYm9vXG4gKi9cblxuZnVuY3Rpb24gcmVwbGFjZU1lc3NhZ2UodGVtcGxhdGUsIGt2KSB7XG4gIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXCRcXHtcXHcrXFx9L2csIGZ1bmN0aW9uIChzdHIpIHtcbiAgICB2YXIga2V5ID0gc3RyLnNsaWNlKDIsIC0xKTtcbiAgICByZXR1cm4ga3Zba2V5XTtcbiAgfSk7XG59XG4vKipcbiAqIFdlIHVzZSBgYXN5bmMtdmFsaWRhdG9yYCB0byB2YWxpZGF0ZSBydWxlcy4gU28gaGF2ZSB0byBob3QgcmVwbGFjZSB0aGUgbWVzc2FnZSB3aXRoIHZhbGlkYXRvci5cbiAqIHsgcmVxdWlyZWQ6ICcke25hbWV9IGlzIHJlcXVpcmVkJyB9ID0+IHsgcmVxdWlyZWQ6ICgpID0+ICdmaWVsZCBpcyByZXF1aXJlZCcgfVxuICovXG5cblxuZnVuY3Rpb24gY29udmVydE1lc3NhZ2VzKG1lc3NhZ2VzLCBuYW1lLCBydWxlLCBtZXNzYWdlVmFyaWFibGVzKSB7XG4gIHZhciBrdiA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcnVsZSksIHt9LCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBlbnVtOiAocnVsZS5lbnVtIHx8IFtdKS5qb2luKCcsICcpXG4gIH0pO1xuXG4gIHZhciByZXBsYWNlRnVuYyA9IGZ1bmN0aW9uIHJlcGxhY2VGdW5jKHRlbXBsYXRlLCBhZGRpdGlvbmFsS1YpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcGxhY2VNZXNzYWdlKHRlbXBsYXRlLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGt2KSwgYWRkaXRpb25hbEtWKSk7XG4gICAgfTtcbiAgfTtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cblxuXG4gIGZ1bmN0aW9uIGZpbGxUZW1wbGF0ZShzb3VyY2UpIHtcbiAgICB2YXIgdGFyZ2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKHJ1bGVOYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbcnVsZU5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0YXJnZXRbcnVsZU5hbWVdID0gcmVwbGFjZUZ1bmModmFsdWUsIG1lc3NhZ2VWYXJpYWJsZXMpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiBfdHlwZW9mKHZhbHVlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGFyZ2V0W3J1bGVOYW1lXSA9IHt9O1xuICAgICAgICBmaWxsVGVtcGxhdGUodmFsdWUsIHRhcmdldFtydWxlTmFtZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W3J1bGVOYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG5cbiAgcmV0dXJuIGZpbGxUZW1wbGF0ZShzZXRWYWx1ZXMoe30sIGRlZmF1bHRWYWxpZGF0ZU1lc3NhZ2VzLCBtZXNzYWdlcykpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJ1bGUoX3gsIF94MiwgX3gzLCBfeDQsIF94NSkge1xuICByZXR1cm4gX3ZhbGlkYXRlUnVsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuLyoqXG4gKiBXZSB1c2UgYGFzeW5jLXZhbGlkYXRvcmAgdG8gdmFsaWRhdGUgdGhlIHZhbHVlLlxuICogQnV0IG9ubHkgY2hlY2sgb25lIHZhbHVlIGluIGEgdGltZSB0byBhdm9pZCBuYW1lUGF0aCB2YWxpZGF0ZSBpc3N1ZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIF92YWxpZGF0ZVJ1bGUoKSB7XG4gIF92YWxpZGF0ZVJ1bGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihuYW1lLCB2YWx1ZSwgcnVsZSwgb3B0aW9ucywgbWVzc2FnZVZhcmlhYmxlcykge1xuICAgIHZhciBjbG9uZVJ1bGUsIHN1YlJ1bGVGaWVsZCwgdmFsaWRhdG9yLCBtZXNzYWdlcywgcmVzdWx0LCBzdWJSZXN1bHRzO1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2xvbmVSdWxlID0gX29iamVjdFNwcmVhZCh7fSwgcnVsZSk7IC8vIFdlIHNob3VsZCBzcGVjaWFsIGhhbmRsZSBhcnJheSB2YWxpZGF0ZVxuXG4gICAgICAgICAgICBzdWJSdWxlRmllbGQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoY2xvbmVSdWxlICYmIGNsb25lUnVsZS50eXBlID09PSAnYXJyYXknICYmIGNsb25lUnVsZS5kZWZhdWx0RmllbGQpIHtcbiAgICAgICAgICAgICAgc3ViUnVsZUZpZWxkID0gY2xvbmVSdWxlLmRlZmF1bHRGaWVsZDtcbiAgICAgICAgICAgICAgZGVsZXRlIGNsb25lUnVsZS5kZWZhdWx0RmllbGQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbGlkYXRvciA9IG5ldyBBc3luY1ZhbGlkYXRvcihfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIFtjbG9uZVJ1bGVdKSk7XG4gICAgICAgICAgICBtZXNzYWdlcyA9IGNvbnZlcnRNZXNzYWdlcyhvcHRpb25zLnZhbGlkYXRlTWVzc2FnZXMsIG5hbWUsIGNsb25lUnVsZSwgbWVzc2FnZVZhcmlhYmxlcyk7XG4gICAgICAgICAgICB2YWxpZGF0b3IubWVzc2FnZXMobWVzc2FnZXMpO1xuICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7XG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWxpZGF0b3IudmFsaWRhdGUoX2RlZmluZVByb3BlcnR5KHt9LCBuYW1lLCB2YWx1ZSksIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpKSk7XG5cbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTI7XG4gICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSg3KTtcblxuICAgICAgICAgICAgaWYgKF9jb250ZXh0Mi50MC5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnQwLmVycm9ycy5tYXAoZnVuY3Rpb24gKF9yZWYyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gX3JlZjIubWVzc2FnZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKC8vIFdyYXAgUmVhY3ROb2RlIHdpdGggYGtleWBcblxuICAgICAgICAgICAgICAgICAgLyojX19QVVJFX18qL1xuICAgICAgICAgICAgICAgICAgUmVhY3QuaXNWYWxpZEVsZW1lbnQobWVzc2FnZSkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KG1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBcImVycm9yX1wiLmNvbmNhdChpbmRleClcbiAgICAgICAgICAgICAgICAgIH0pIDogbWVzc2FnZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDIudDApO1xuICAgICAgICAgICAgICByZXN1bHQgPSBbbWVzc2FnZXMuZGVmYXVsdCgpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICBpZiAoISghcmVzdWx0Lmxlbmd0aCAmJiBzdWJSdWxlRmllbGQpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4O1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHZhbHVlLm1hcChmdW5jdGlvbiAoc3ViVmFsdWUsIGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlUnVsZShcIlwiLmNvbmNhdChuYW1lLCBcIi5cIikuY29uY2F0KGkpLCBzdWJWYWx1ZSwgc3ViUnVsZUZpZWxkLCBvcHRpb25zLCBtZXNzYWdlVmFyaWFibGVzKTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICBzdWJSZXN1bHRzID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBzdWJSZXN1bHRzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZXJyb3JzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByZXYpLCBfdG9Db25zdW1hYmxlQXJyYXkoZXJyb3JzKSk7XG4gICAgICAgICAgICB9LCBbXSkpO1xuXG4gICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHJlc3VsdCk7XG5cbiAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNywgMTJdXSk7XG4gIH0pKTtcbiAgcmV0dXJuIF92YWxpZGF0ZVJ1bGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUnVsZXMobmFtZVBhdGgsIHZhbHVlLCBydWxlcywgb3B0aW9ucywgdmFsaWRhdGVGaXJzdCwgbWVzc2FnZVZhcmlhYmxlcykge1xuICB2YXIgbmFtZSA9IG5hbWVQYXRoLmpvaW4oJy4nKTsgLy8gRmlsbCBydWxlIHdpdGggY29udGV4dFxuXG4gIHZhciBmaWxsZWRSdWxlcyA9IHJ1bGVzLm1hcChmdW5jdGlvbiAoY3VycmVudFJ1bGUpIHtcbiAgICB2YXIgb3JpZ2luVmFsaWRhdG9yRnVuYyA9IGN1cnJlbnRSdWxlLnZhbGlkYXRvcjtcblxuICAgIGlmICghb3JpZ2luVmFsaWRhdG9yRnVuYykge1xuICAgICAgcmV0dXJuIGN1cnJlbnRSdWxlO1xuICAgIH1cblxuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGN1cnJlbnRSdWxlKSwge30sIHtcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGhhc1Byb21pc2UgPSBmYWxzZTsgLy8gV3JhcCBjYWxsYmFjayBvbmx5IGFjY2VwdCB3aGVuIHByb21pc2Ugbm90IHByb3ZpZGVkXG5cbiAgICAgICAgdmFyIHdyYXBwZWRDYWxsYmFjayA9IGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2FpdCBhIHRpY2sgdG8gbWFrZSBzdXJlIHJldHVybiB0eXBlIGlzIGEgcHJvbWlzZVxuICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2FybmluZyghaGFzUHJvbWlzZSwgJ1lvdXIgdmFsaWRhdG9yIGZ1bmN0aW9uIGhhcyBhbHJlYWR5IHJldHVybiBhIHByb21pc2UuIGBjYWxsYmFja2Agd2lsbCBiZSBpZ25vcmVkLicpO1xuXG4gICAgICAgICAgICBpZiAoIWhhc1Byb21pc2UpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTsgLy8gR2V0IHByb21pc2VcblxuXG4gICAgICAgIHZhciBwcm9taXNlID0gb3JpZ2luVmFsaWRhdG9yRnVuYyhydWxlLCB2YWwsIHdyYXBwZWRDYWxsYmFjayk7XG4gICAgICAgIGhhc1Byb21pc2UgPSBwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAxLiBVc2UgcHJvbWlzZSBhcyB0aGUgZmlyc3QgcHJpb3JpdHkuXG4gICAgICAgICAqIDIuIElmIHByb21pc2Ugbm90IGV4aXN0LCB1c2UgY2FsbGJhY2sgd2l0aCB3YXJuaW5nIGluc3RlYWRcbiAgICAgICAgICovXG5cbiAgICAgICAgd2FybmluZyhoYXNQcm9taXNlLCAnYGNhbGxiYWNrYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgcmV0dXJuIGEgcHJvbWlzZSBpbnN0ZWFkLicpO1xuXG4gICAgICAgIGlmIChoYXNQcm9taXNlKSB7XG4gICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyIHx8ICcgJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHZhciBzdW1tYXJ5UHJvbWlzZTtcblxuICBpZiAodmFsaWRhdGVGaXJzdCA9PT0gdHJ1ZSkge1xuICAgIC8vID4+Pj4+IFZhbGlkYXRlIGJ5IHNlcmlhbGl6YXRpb25cbiAgICBzdW1tYXJ5UHJvbWlzZSA9IG5ldyBQcm9taXNlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgaSwgZXJyb3JzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIShpIDwgZmlsbGVkUnVsZXMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlUnVsZShuYW1lLCB2YWx1ZSwgZmlsbGVkUnVsZXNbaV0sIG9wdGlvbnMsIG1lc3NhZ2VWYXJpYWJsZXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBfY29udGV4dC5zZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94NiwgX3g3KSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gPj4+Pj4gVmFsaWRhdGUgYnkgcGFyYWxsZWxcbiAgICB2YXIgcnVsZVByb21pc2VzID0gZmlsbGVkUnVsZXMubWFwKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVSdWxlKG5hbWUsIHZhbHVlLCBydWxlLCBvcHRpb25zLCBtZXNzYWdlVmFyaWFibGVzKTtcbiAgICB9KTtcbiAgICBzdW1tYXJ5UHJvbWlzZSA9ICh2YWxpZGF0ZUZpcnN0ID8gZmluaXNoT25GaXJzdEZhaWxlZChydWxlUHJvbWlzZXMpIDogZmluaXNoT25BbGxGYWlsZWQocnVsZVByb21pc2VzKSkudGhlbihmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICBpZiAoIWVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3JzKTtcbiAgICB9KTtcbiAgfSAvLyBJbnRlcm5hbCBjYXRjaCBlcnJvciB0byBhdm9pZCBjb25zb2xlIGVycm9yIGxvZy5cblxuXG4gIHN1bW1hcnlQcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH0pO1xuICByZXR1cm4gc3VtbWFyeVByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE9uQWxsRmFpbGVkKF94OCkge1xuICByZXR1cm4gX2ZpbmlzaE9uQWxsRmFpbGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9maW5pc2hPbkFsbEZhaWxlZCgpIHtcbiAgX2ZpbmlzaE9uQWxsRmFpbGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocnVsZVByb21pc2VzKSB7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdChcInJldHVyblwiLCBQcm9taXNlLmFsbChydWxlUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGVycm9yc0xpc3QpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYzO1xuXG4gICAgICAgICAgICAgIHZhciBlcnJvcnMgPSAoX3JlZjMgPSBbXSkuY29uY2F0LmFwcGx5KF9yZWYzLCBfdG9Db25zdW1hYmxlQXJyYXkoZXJyb3JzTGlzdCkpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMyk7XG4gIH0pKTtcbiAgcmV0dXJuIF9maW5pc2hPbkFsbEZhaWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hPbkZpcnN0RmFpbGVkKF94OSkge1xuICByZXR1cm4gX2ZpbmlzaE9uRmlyc3RGYWlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2ZpbmlzaE9uRmlyc3RGYWlsZWQoKSB7XG4gIF9maW5pc2hPbkZpcnN0RmFpbGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocnVsZVByb21pc2VzKSB7XG4gICAgdmFyIGNvdW50O1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgcnVsZVByb21pc2VzLmZvckVhY2goZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlcnJvcnMpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IHJ1bGVQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZTQpO1xuICB9KSk7XG4gIHJldHVybiBfZmluaXNoT25GaXJzdEZhaWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyXCI7XG5pbXBvcnQgdG9DaGlsZHJlbkFycmF5IGZyb20gXCJyYy11dGlsL2VzL0NoaWxkcmVuL3RvQXJyYXlcIjtcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGaWVsZENvbnRleHQsIHsgSE9PS19NQVJLIH0gZnJvbSAnLi9GaWVsZENvbnRleHQnO1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vdXRpbHMvdHlwZVV0aWwnO1xuaW1wb3J0IHsgdmFsaWRhdGVSdWxlcyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdGVVdGlsJztcbmltcG9ydCB7IGNvbnRhaW5zTmFtZVBhdGgsIGRlZmF1bHRHZXRWYWx1ZUZyb21FdmVudCwgZ2V0TmFtZVBhdGgsIGdldFZhbHVlIH0gZnJvbSAnLi91dGlscy92YWx1ZVV0aWwnO1xuXG5mdW5jdGlvbiByZXF1aXJlVXBkYXRlKHNob3VsZFVwZGF0ZSwgcHJldiwgbmV4dCwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluZm8pIHtcbiAgaWYgKHR5cGVvZiBzaG91bGRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlKHByZXYsIG5leHQsICdzb3VyY2UnIGluIGluZm8gPyB7XG4gICAgICBzb3VyY2U6IGluZm8uc291cmNlXG4gICAgfSA6IHt9KTtcbiAgfVxuXG4gIHJldHVybiBwcmV2VmFsdWUgIT09IG5leHRWYWx1ZTtcbn0gLy8gV2UgdXNlIENsYXNzIGluc3RlYWQgb2YgSG9va3MgaGVyZSBzaW5jZSBpdCB3aWxsIGNvc3QgbXVjaCBjb2RlIGJ5IHVzaW5nIEhvb2tzLlxuXG5cbnZhciBGaWVsZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRmllbGQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRmllbGQpO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTdWJzY3JpcHRpb25zID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBmdW5jdGlvbiBGaWVsZChwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWVsZCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHJlc2V0Q291bnQ6IDBcbiAgICB9O1xuICAgIF90aGlzLmNhbmNlbFJlZ2lzdGVyRnVuYyA9IG51bGw7XG4gICAgX3RoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEZvbGxvdyBzdGF0ZSBzaG91bGQgbm90IG1hbmFnZW1lbnQgaW4gU3RhdGUgc2luY2UgaXQgd2lsbCBhc3luYyB1cGRhdGUgYnkgUmVhY3QuXG4gICAgICogVGhpcyBtYWtlcyBmaXJzdCByZW5kZXIgb2YgZm9ybSBjYW4gbm90IGdldCBjb3JyZWN0IHN0YXRlIHZhbHVlLlxuICAgICAqL1xuXG4gICAgX3RoaXMudG91Y2hlZCA9IGZhbHNlO1xuICAgIC8qKiBNYXJrIHdoZW4gdG91Y2hlZCAmIHZhbGlkYXRlZC4gQ3VycmVudGx5IG9ubHkgdXNlZCBmb3IgYGRlcGVuZGVuY2llc2AgKi9cblxuICAgIF90aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgX3RoaXMudmFsaWRhdGVQcm9taXNlID0gbnVsbDtcbiAgICBfdGhpcy5lcnJvcnMgPSBbXTtcblxuICAgIF90aGlzLmNhbmNlbFJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgcHJlc2VydmUgPSBfdGhpcyRwcm9wcy5wcmVzZXJ2ZSxcbiAgICAgICAgICBpc0xpc3RGaWVsZCA9IF90aGlzJHByb3BzLmlzTGlzdEZpZWxkLFxuICAgICAgICAgIG5hbWUgPSBfdGhpcyRwcm9wcy5uYW1lO1xuXG4gICAgICBpZiAoX3RoaXMuY2FuY2VsUmVnaXN0ZXJGdW5jKSB7XG4gICAgICAgIF90aGlzLmNhbmNlbFJlZ2lzdGVyRnVuYyhpc0xpc3RGaWVsZCwgcHJlc2VydmUsIGdldE5hbWVQYXRoKG5hbWUpKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2FuY2VsUmVnaXN0ZXJGdW5jID0gbnVsbDtcbiAgICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFV0aWxzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgX3RoaXMuZ2V0TmFtZVBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbmFtZSA9IF90aGlzJHByb3BzMi5uYW1lLFxuICAgICAgICAgIGZpZWxkQ29udGV4dCA9IF90aGlzJHByb3BzMi5maWVsZENvbnRleHQ7XG4gICAgICB2YXIgX2ZpZWxkQ29udGV4dCRwcmVmaXhOID0gZmllbGRDb250ZXh0LnByZWZpeE5hbWUsXG4gICAgICAgICAgcHJlZml4TmFtZSA9IF9maWVsZENvbnRleHQkcHJlZml4TiA9PT0gdm9pZCAwID8gW10gOiBfZmllbGRDb250ZXh0JHByZWZpeE47XG4gICAgICByZXR1cm4gbmFtZSAhPT0gdW5kZWZpbmVkID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmVmaXhOYW1lKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5hbWUpKSA6IFtdO1xuICAgIH07XG5cbiAgICBfdGhpcy5nZXRSdWxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBfdGhpcyRwcm9wczMkcnVsZXMgPSBfdGhpcyRwcm9wczMucnVsZXMsXG4gICAgICAgICAgcnVsZXMgPSBfdGhpcyRwcm9wczMkcnVsZXMgPT09IHZvaWQgMCA/IFtdIDogX3RoaXMkcHJvcHMzJHJ1bGVzLFxuICAgICAgICAgIGZpZWxkQ29udGV4dCA9IF90aGlzJHByb3BzMy5maWVsZENvbnRleHQ7XG4gICAgICByZXR1cm4gcnVsZXMubWFwKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcnVsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBydWxlKGZpZWxkQ29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5tb3VudGVkKSByZXR1cm47XG4gICAgICAvKipcbiAgICAgICAqIENsZWFuIHVwIGN1cnJlbnQgbm9kZS5cbiAgICAgICAqL1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgcmVzZXRDb3VudCA9IF9yZWYucmVzZXRDb3VudDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldENvdW50OiByZXNldENvdW50ICsgMVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBGaWVsZCBFbnRpdHkgSW50ZXJmYWNlcyA9PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gVHJpZ2dlciBieSBzdG9yZSB1cGRhdGUuIENoZWNrIGlmIG5lZWQgdXBkYXRlIHRoZSBjb21wb25lbnRcblxuXG4gICAgX3RoaXMub25TdG9yZUNoYW5nZSA9IGZ1bmN0aW9uIChwcmV2U3RvcmUsIG5hbWVQYXRoTGlzdCwgaW5mbykge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IF90aGlzJHByb3BzNC5zaG91bGRVcGRhdGUsXG4gICAgICAgICAgX3RoaXMkcHJvcHM0JGRlcGVuZGVuID0gX3RoaXMkcHJvcHM0LmRlcGVuZGVuY2llcyxcbiAgICAgICAgICBkZXBlbmRlbmNpZXMgPSBfdGhpcyRwcm9wczQkZGVwZW5kZW4gPT09IHZvaWQgMCA/IFtdIDogX3RoaXMkcHJvcHM0JGRlcGVuZGVuLFxuICAgICAgICAgIG9uUmVzZXQgPSBfdGhpcyRwcm9wczQub25SZXNldDtcbiAgICAgIHZhciBzdG9yZSA9IGluZm8uc3RvcmU7XG5cbiAgICAgIHZhciBuYW1lUGF0aCA9IF90aGlzLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgIHZhciBwcmV2VmFsdWUgPSBfdGhpcy5nZXRWYWx1ZShwcmV2U3RvcmUpO1xuXG4gICAgICB2YXIgY3VyVmFsdWUgPSBfdGhpcy5nZXRWYWx1ZShzdG9yZSk7XG5cbiAgICAgIHZhciBuYW1lUGF0aE1hdGNoID0gbmFtZVBhdGhMaXN0ICYmIGNvbnRhaW5zTmFtZVBhdGgobmFtZVBhdGhMaXN0LCBuYW1lUGF0aCk7IC8vIGBzZXRGaWVsZHNWYWx1ZWAgaXMgYSBxdWljayBhY2Nlc3MgdG8gdXBkYXRlIHJlbGF0ZWQgc3RhdHVzXG5cbiAgICAgIGlmIChpbmZvLnR5cGUgPT09ICd2YWx1ZVVwZGF0ZScgJiYgaW5mby5zb3VyY2UgPT09ICdleHRlcm5hbCcgJiYgcHJldlZhbHVlICE9PSBjdXJWYWx1ZSkge1xuICAgICAgICBfdGhpcy50b3VjaGVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICBfdGhpcy52YWxpZGF0ZVByb21pc2UgPSBudWxsO1xuICAgICAgICBfdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChpbmZvLnR5cGUpIHtcbiAgICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICAgIGlmICghbmFtZVBhdGhMaXN0IHx8IG5hbWVQYXRoTWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIHN0YXRlXG4gICAgICAgICAgICBfdGhpcy50b3VjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMudmFsaWRhdGVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAob25SZXNldCkge1xuICAgICAgICAgICAgICBvblJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2goKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3NldEZpZWxkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmFtZVBhdGhNYXRjaCkge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IGluZm8uZGF0YTtcblxuICAgICAgICAgICAgICBpZiAoJ3RvdWNoZWQnIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50b3VjaGVkID0gZGF0YS50b3VjaGVkO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCd2YWxpZGF0aW5nJyBpbiBkYXRhICYmICEoJ29yaWdpblJDRmllbGQnIGluIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudmFsaWRhdGVQcm9taXNlID0gZGF0YS52YWxpZGF0aW5nID8gUHJvbWlzZS5yZXNvbHZlKFtdKSA6IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoJ2Vycm9ycycgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycyA9IGRhdGEuZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSAvLyBIYW5kbGUgdXBkYXRlIGJ5IGBzZXRGaWVsZGAgd2l0aCBgc2hvdWxkVXBkYXRlYFxuXG5cbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUgJiYgIW5hbWVQYXRoLmxlbmd0aCAmJiByZXF1aXJlVXBkYXRlKHNob3VsZFVwZGF0ZSwgcHJldlN0b3JlLCBzdG9yZSwgcHJldlZhbHVlLCBjdXJWYWx1ZSwgaW5mbykpIHtcbiAgICAgICAgICAgICAgX3RoaXMucmVSZW5kZXIoKTtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZXBlbmRlbmNpZXNVcGRhdGUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJpZ2dlciB3aGVuIG1hcmtlZCBgZGVwZW5kZW5jaWVzYCB1cGRhdGVkLiBSZWxhdGVkIGZpZWxkcyB3aWxsIGFsbCB1cGRhdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIGRlcGVuZGVuY3lMaXN0ID0gZGVwZW5kZW5jaWVzLm1hcChnZXROYW1lUGF0aCk7IC8vIE5vIG5lZWQgZm9yIGBuYW1lUGF0aE1hdGhgIGNoZWNrIGFuZCBgc2hvdWxkVXBkYXRlYCBjaGVjaywgc2luY2UgYHZhbHVlVXBkYXRlYCB3aWxsIGJlXG4gICAgICAgICAgICAvLyBlbWl0dGVkIGVhcmxpZXIgYW5kIHRoZXkgd2lsbCB3b3JrIHRoZXJlXG4gICAgICAgICAgICAvLyBJZiBzZXQgaXQgbWF5IGNhdXNlIHVubmVjZXNzYXJ5IHR3aWNlIHJlcmVuZGVyaW5nXG5cbiAgICAgICAgICAgIGlmIChkZXBlbmRlbmN5TGlzdC5zb21lKGZ1bmN0aW9uIChkZXBlbmRlbmN5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb250YWluc05hbWVQYXRoKGluZm8ucmVsYXRlZEZpZWxkcywgZGVwZW5kZW5jeSk7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICBfdGhpcy5yZVJlbmRlcigpO1xuXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gMS4gSWYgYG5hbWVQYXRoYCBleGlzdHMgaW4gYG5hbWVQYXRoTGlzdGAsIG1lYW5zIGl0J3MgcmVsYXRlZCB2YWx1ZSBhbmQgc2hvdWxkIHVwZGF0ZVxuICAgICAgICAgIC8vICAgICAgRm9yIGV4YW1wbGUgPExpc3QgbmFtZT1cImxpc3RcIj48RmllbGQgbmFtZT17WydsaXN0JywgMF19PjwvTGlzdD5cbiAgICAgICAgICAvLyAgICAgIElmIGBuYW1lUGF0aExpc3RgIGlzIFtbJ2xpc3QnXV0gKExpc3QgdmFsdWUgdXBkYXRlKSwgRmllbGQgc2hvdWxkIGJlIHVwZGF0ZWRcbiAgICAgICAgICAvLyAgICAgIElmIGBuYW1lUGF0aExpc3RgIGlzIFtbJ2xpc3QnLCAwXV0gKEZpZWxkIHZhbHVlIHVwZGF0ZSksIExpc3Qgc2hvdWxkbid0IGJlIHVwZGF0ZWRcbiAgICAgICAgICAvLyAyLlxuICAgICAgICAgIC8vICAgMi4xIElmIGBkZXBlbmRlbmNpZXNgIGlzIHNldCwgYG5hbWVgIGlzIG5vdCBzZXQgYW5kIGBzaG91bGRVcGRhdGVgIGlzIG5vdCBzZXQsXG4gICAgICAgICAgLy8gICAgICAgZG9uJ3QgdXNlIGBzaG91bGRVcGRhdGVgLiBgZGVwZW5kZW5jaWVzYCBpcyB2aWV3IGFzIGEgc2hvcnRjdXQgaWYgYHNob3VsZFVwZGF0ZWBcbiAgICAgICAgICAvLyAgICAgICBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgICAvLyAgIDIuMiBJZiBgc2hvdWxkVXBkYXRlYCBwcm92aWRlZCwgdXNlIGN1c3RvbWl6ZSBsb2dpYyB0byB1cGRhdGUgdGhlIGZpZWxkXG4gICAgICAgICAgLy8gICAgICAgZWxzZSB0byBjaGVjayBpZiB2YWx1ZSBjaGFuZ2VkXG4gICAgICAgICAgaWYgKG5hbWVQYXRoTWF0Y2ggfHwgKCFkZXBlbmRlbmNpZXMubGVuZ3RoIHx8IG5hbWVQYXRoLmxlbmd0aCB8fCBzaG91bGRVcGRhdGUpICYmIHJlcXVpcmVVcGRhdGUoc2hvdWxkVXBkYXRlLCBwcmV2U3RvcmUsIHN0b3JlLCBwcmV2VmFsdWUsIGN1clZhbHVlLCBpbmZvKSkge1xuICAgICAgICAgICAgX3RoaXMucmVSZW5kZXIoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkVXBkYXRlID09PSB0cnVlKSB7XG4gICAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnZhbGlkYXRlUnVsZXMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgLy8gV2Ugc2hvdWxkIGZpeGVkIG5hbWVQYXRoICYgdmFsdWUgdG8gYXZvaWQgZGV2ZWxvcGVyIGNoYW5nZSB0aGVuIGJ5IGZvcm0gZnVuY3Rpb25cbiAgICAgIHZhciBuYW1lUGF0aCA9IF90aGlzLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBfdGhpcy5nZXRWYWx1ZSgpOyAvLyBGb3JjZSBjaGFuZ2UgdG8gYXN5bmMgdG8gYXZvaWQgcnVsZSBPT0QgdW5kZXIgcmVuZGVyUHJvcHMgZmllbGRcblxuXG4gICAgICB2YXIgcm9vdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFfdGhpcy5tb3VudGVkKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzJHByb3BzNSA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgX3RoaXMkcHJvcHM1JHZhbGlkYXRlID0gX3RoaXMkcHJvcHM1LnZhbGlkYXRlRmlyc3QsXG4gICAgICAgICAgICB2YWxpZGF0ZUZpcnN0ID0gX3RoaXMkcHJvcHM1JHZhbGlkYXRlID09PSB2b2lkIDAgPyBmYWxzZSA6IF90aGlzJHByb3BzNSR2YWxpZGF0ZSxcbiAgICAgICAgICAgIG1lc3NhZ2VWYXJpYWJsZXMgPSBfdGhpcyRwcm9wczUubWVzc2FnZVZhcmlhYmxlcztcblxuICAgICAgICB2YXIgX3JlZjIgPSBvcHRpb25zIHx8IHt9LFxuICAgICAgICAgICAgdHJpZ2dlck5hbWUgPSBfcmVmMi50cmlnZ2VyTmFtZTtcblxuICAgICAgICB2YXIgZmlsdGVyZWRSdWxlcyA9IF90aGlzLmdldFJ1bGVzKCk7XG5cbiAgICAgICAgaWYgKHRyaWdnZXJOYW1lKSB7XG4gICAgICAgICAgZmlsdGVyZWRSdWxlcyA9IGZpbHRlcmVkUnVsZXMuZmlsdGVyKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRhdGVUcmlnZ2VyID0gcnVsZS52YWxpZGF0ZVRyaWdnZXI7XG5cbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVUcmlnZ2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdHJpZ2dlckxpc3QgPSB0b0FycmF5KHZhbGlkYXRlVHJpZ2dlcik7XG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlckxpc3QuaW5jbHVkZXModHJpZ2dlck5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0ZVJ1bGVzKG5hbWVQYXRoLCBjdXJyZW50VmFsdWUsIGZpbHRlcmVkUnVsZXMsIG9wdGlvbnMsIHZhbGlkYXRlRmlyc3QsIG1lc3NhZ2VWYXJpYWJsZXMpO1xuICAgICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBlcnJvcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXG4gICAgICAgICAgaWYgKF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9PT0gcm9vdFByb21pc2UpIHtcbiAgICAgICAgICAgIF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG5cbiAgICAgICAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9KTtcbiAgICAgIF90aGlzLnZhbGlkYXRlUHJvbWlzZSA9IHJvb3RQcm9taXNlO1xuICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgX3RoaXMuZXJyb3JzID0gW107IC8vIEZvcmNlIHRyaWdnZXIgcmUtcmVuZGVyIHNpbmNlIHdlIG5lZWQgc3luYyByZW5kZXJQcm9wcyB3aXRoIG5ldyBtZXRhXG5cbiAgICAgIF90aGlzLnJlUmVuZGVyKCk7XG5cbiAgICAgIHJldHVybiByb290UHJvbWlzZTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNGaWVsZFZhbGlkYXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gISFfdGhpcy52YWxpZGF0ZVByb21pc2U7XG4gICAgfTtcblxuICAgIF90aGlzLmlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLnRvdWNoZWQ7XG4gICAgfTtcblxuICAgIF90aGlzLmlzRmllbGREaXJ0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5kaXJ0eTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0RXJyb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmVycm9ycztcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNMaXN0RmllbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMuaXNMaXN0RmllbGQ7XG4gICAgfTtcblxuICAgIF90aGlzLmlzTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5wcm9wcy5pc0xpc3Q7XG4gICAgfTtcblxuICAgIF90aGlzLmlzUHJlc2VydmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMucHJvcHMucHJlc2VydmU7XG4gICAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ2hpbGQgQ29tcG9uZW50ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICAgIF90aGlzLmdldE1ldGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBNYWtlIGVycm9yICYgdmFsaWRhdGluZyBpbiBjYWNoZSB0byBzYXZlIHBlcmZcbiAgICAgIF90aGlzLnByZXZWYWxpZGF0aW5nID0gX3RoaXMuaXNGaWVsZFZhbGlkYXRpbmcoKTtcbiAgICAgIHZhciBtZXRhID0ge1xuICAgICAgICB0b3VjaGVkOiBfdGhpcy5pc0ZpZWxkVG91Y2hlZCgpLFxuICAgICAgICB2YWxpZGF0aW5nOiBfdGhpcy5wcmV2VmFsaWRhdGluZyxcbiAgICAgICAgZXJyb3JzOiBfdGhpcy5lcnJvcnMsXG4gICAgICAgIG5hbWU6IF90aGlzLmdldE5hbWVQYXRoKClcbiAgICAgIH07XG4gICAgICByZXR1cm4gbWV0YTtcbiAgICB9OyAvLyBPbmx5IHJldHVybiB2YWxpZGF0ZSBjaGlsZCBub2RlLiBJZiBpbnZhbGlkYXRlLCB3aWxsIGRvIG5vdGhpbmcgYWJvdXQgZmllbGQuXG5cblxuICAgIF90aGlzLmdldE9ubHlDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgLy8gU3VwcG9ydCByZW5kZXIgcHJvcHNcbiAgICAgIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG1ldGEgPSBfdGhpcy5nZXRNZXRhKCk7XG5cbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuZ2V0T25seUNoaWxkKGNoaWxkcmVuKF90aGlzLmdldENvbnRyb2xsZWQoKSwgbWV0YSwgX3RoaXMucHJvcHMuZmllbGRDb250ZXh0KSkpLCB7fSwge1xuICAgICAgICAgIGlzRnVuY3Rpb246IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIEZpbGVkIGVsZW1lbnQgb25seVxuXG5cbiAgICAgIHZhciBjaGlsZExpc3QgPSB0b0NoaWxkcmVuQXJyYXkoY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoY2hpbGRMaXN0Lmxlbmd0aCAhPT0gMSB8fCAhIC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZExpc3RbMF0pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2hpbGQ6IGNoaWxkTGlzdCxcbiAgICAgICAgICBpc0Z1bmN0aW9uOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaGlsZDogY2hpbGRMaXN0WzBdLFxuICAgICAgICBpc0Z1bmN0aW9uOiBmYWxzZVxuICAgICAgfTtcbiAgICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRmllbGQgQ29udHJvbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgX3RoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICAgIHZhciBnZXRGaWVsZHNWYWx1ZSA9IF90aGlzLnByb3BzLmZpZWxkQ29udGV4dC5nZXRGaWVsZHNWYWx1ZTtcblxuICAgICAgdmFyIG5hbWVQYXRoID0gX3RoaXMuZ2V0TmFtZVBhdGgoKTtcblxuICAgICAgcmV0dXJuIGdldFZhbHVlKHN0b3JlIHx8IGdldEZpZWxkc1ZhbHVlKHRydWUpLCBuYW1lUGF0aCk7XG4gICAgfTtcblxuICAgIF90aGlzLmdldENvbnRyb2xsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2hpbGRQcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICB2YXIgX3RoaXMkcHJvcHM2ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgdHJpZ2dlciA9IF90aGlzJHByb3BzNi50cmlnZ2VyLFxuICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlciA9IF90aGlzJHByb3BzNi52YWxpZGF0ZVRyaWdnZXIsXG4gICAgICAgICAgZ2V0VmFsdWVGcm9tRXZlbnQgPSBfdGhpcyRwcm9wczYuZ2V0VmFsdWVGcm9tRXZlbnQsXG4gICAgICAgICAgbm9ybWFsaXplID0gX3RoaXMkcHJvcHM2Lm5vcm1hbGl6ZSxcbiAgICAgICAgICB2YWx1ZVByb3BOYW1lID0gX3RoaXMkcHJvcHM2LnZhbHVlUHJvcE5hbWUsXG4gICAgICAgICAgZ2V0VmFsdWVQcm9wcyA9IF90aGlzJHByb3BzNi5nZXRWYWx1ZVByb3BzLFxuICAgICAgICAgIGZpZWxkQ29udGV4dCA9IF90aGlzJHByb3BzNi5maWVsZENvbnRleHQ7XG4gICAgICB2YXIgbWVyZ2VkVmFsaWRhdGVUcmlnZ2VyID0gdmFsaWRhdGVUcmlnZ2VyICE9PSB1bmRlZmluZWQgPyB2YWxpZGF0ZVRyaWdnZXIgOiBmaWVsZENvbnRleHQudmFsaWRhdGVUcmlnZ2VyO1xuXG4gICAgICB2YXIgbmFtZVBhdGggPSBfdGhpcy5nZXROYW1lUGF0aCgpO1xuXG4gICAgICB2YXIgZ2V0SW50ZXJuYWxIb29rcyA9IGZpZWxkQ29udGV4dC5nZXRJbnRlcm5hbEhvb2tzLFxuICAgICAgICAgIGdldEZpZWxkc1ZhbHVlID0gZmllbGRDb250ZXh0LmdldEZpZWxkc1ZhbHVlO1xuXG4gICAgICB2YXIgX2dldEludGVybmFsSG9va3MgPSBnZXRJbnRlcm5hbEhvb2tzKEhPT0tfTUFSSyksXG4gICAgICAgICAgZGlzcGF0Y2ggPSBfZ2V0SW50ZXJuYWxIb29rcy5kaXNwYXRjaDtcblxuICAgICAgdmFyIHZhbHVlID0gX3RoaXMuZ2V0VmFsdWUoKTtcblxuICAgICAgdmFyIG1lcmdlZEdldFZhbHVlUHJvcHMgPSBnZXRWYWx1ZVByb3BzIHx8IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdmFsdWVQcm9wTmFtZSwgdmFsKTtcbiAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cblxuICAgICAgdmFyIG9yaWdpblRyaWdnZXJGdW5jID0gY2hpbGRQcm9wc1t0cmlnZ2VyXTtcblxuICAgICAgdmFyIGNvbnRyb2wgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkUHJvcHMpLCBtZXJnZWRHZXRWYWx1ZVByb3BzKHZhbHVlKSk7IC8vIEFkZCB0cmlnZ2VyXG5cblxuICAgICAgY29udHJvbFt0cmlnZ2VyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTWFyayBhcyB0b3VjaGVkXG4gICAgICAgIF90aGlzLnRvdWNoZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHZhciBuZXdWYWx1ZTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFZhbHVlRnJvbUV2ZW50KSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBnZXRWYWx1ZUZyb21FdmVudC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1ZhbHVlID0gZGVmYXVsdEdldFZhbHVlRnJvbUV2ZW50LmFwcGx5KHZvaWQgMCwgW3ZhbHVlUHJvcE5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9ybWFsaXplKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBub3JtYWxpemUobmV3VmFsdWUsIHZhbHVlLCBnZXRGaWVsZHNWYWx1ZSh0cnVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ3VwZGF0ZVZhbHVlJyxcbiAgICAgICAgICBuYW1lUGF0aDogbmFtZVBhdGgsXG4gICAgICAgICAgdmFsdWU6IG5ld1ZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcmlnaW5UcmlnZ2VyRnVuYykge1xuICAgICAgICAgIG9yaWdpblRyaWdnZXJGdW5jLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH07IC8vIEFkZCB2YWxpZGF0ZVRyaWdnZXJcblxuXG4gICAgICB2YXIgdmFsaWRhdGVUcmlnZ2VyTGlzdCA9IHRvQXJyYXkobWVyZ2VkVmFsaWRhdGVUcmlnZ2VyIHx8IFtdKTtcbiAgICAgIHZhbGlkYXRlVHJpZ2dlckxpc3QuZm9yRWFjaChmdW5jdGlvbiAodHJpZ2dlck5hbWUpIHtcbiAgICAgICAgLy8gV3JhcCBhZGRpdGlvbmFsIGZ1bmN0aW9uIG9mIGNvbXBvbmVudCwgc28gdGhhdCB3ZSBjYW4gZ2V0IGxhdGVzdCB2YWx1ZSBmcm9tIHN0b3JlXG4gICAgICAgIHZhciBvcmlnaW5UcmlnZ2VyID0gY29udHJvbFt0cmlnZ2VyTmFtZV07XG5cbiAgICAgICAgY29udHJvbFt0cmlnZ2VyTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG9yaWdpblRyaWdnZXIpIHtcbiAgICAgICAgICAgIG9yaWdpblRyaWdnZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0gLy8gQWx3YXlzIHVzZSBsYXRlc3QgcnVsZXNcblxuXG4gICAgICAgICAgdmFyIHJ1bGVzID0gX3RoaXMucHJvcHMucnVsZXM7XG5cbiAgICAgICAgICBpZiAocnVsZXMgJiYgcnVsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBXZSBkaXNwYXRjaCB2YWxpZGF0ZSB0byByb290LFxuICAgICAgICAgICAgLy8gc2luY2UgaXQgd2lsbCB1cGRhdGUgcmVsYXRlZCBkYXRhIHdpdGggb3RoZXIgZmllbGQgd2l0aCBzYW1lIG5hbWVcbiAgICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3ZhbGlkYXRlRmllbGQnLFxuICAgICAgICAgICAgICBuYW1lUGF0aDogbmFtZVBhdGgsXG4gICAgICAgICAgICAgIHRyaWdnZXJOYW1lOiB0cmlnZ2VyTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29udHJvbDtcbiAgICB9OyAvLyBSZWdpc3RlciBvbiBpbml0XG5cblxuICAgIGlmIChwcm9wcy5maWVsZENvbnRleHQpIHtcbiAgICAgIHZhciBnZXRJbnRlcm5hbEhvb2tzID0gcHJvcHMuZmllbGRDb250ZXh0LmdldEludGVybmFsSG9va3M7XG5cbiAgICAgIHZhciBfZ2V0SW50ZXJuYWxIb29rczIgPSBnZXRJbnRlcm5hbEhvb2tzKEhPT0tfTUFSSyksXG4gICAgICAgICAgaW5pdEVudGl0eVZhbHVlID0gX2dldEludGVybmFsSG9va3MyLmluaXRFbnRpdHlWYWx1ZTtcblxuICAgICAgaW5pdEVudGl0eVZhbHVlKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmllbGQsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc2hvdWxkVXBkYXRlID0gX3RoaXMkcHJvcHM3LnNob3VsZFVwZGF0ZSxcbiAgICAgICAgICBmaWVsZENvbnRleHQgPSBfdGhpcyRwcm9wczcuZmllbGRDb250ZXh0O1xuICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTsgLy8gUmVnaXN0ZXIgb24gaW5pdFxuXG4gICAgICBpZiAoZmllbGRDb250ZXh0KSB7XG4gICAgICAgIHZhciBnZXRJbnRlcm5hbEhvb2tzID0gZmllbGRDb250ZXh0LmdldEludGVybmFsSG9va3M7XG5cbiAgICAgICAgdmFyIF9nZXRJbnRlcm5hbEhvb2tzMyA9IGdldEludGVybmFsSG9va3MoSE9PS19NQVJLKSxcbiAgICAgICAgICAgIHJlZ2lzdGVyRmllbGQgPSBfZ2V0SW50ZXJuYWxIb29rczMucmVnaXN0ZXJGaWVsZDtcblxuICAgICAgICB0aGlzLmNhbmNlbFJlZ2lzdGVyRnVuYyA9IHJlZ2lzdGVyRmllbGQodGhpcyk7XG4gICAgICB9IC8vIE9uZSBtb3JlIHJlbmRlciBmb3IgY29tcG9uZW50IGluIGNhc2UgZmllbGRzIG5vdCByZWFkeVxuXG5cbiAgICAgIGlmIChzaG91bGRVcGRhdGUgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5yZVJlbmRlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuY2FuY2VsUmVnaXN0ZXIoKTtcbiAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZVJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZVJlbmRlcigpIHtcbiAgICAgIGlmICghdGhpcy5tb3VudGVkKSByZXR1cm47XG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcmVzZXRDb3VudCA9IHRoaXMuc3RhdGUucmVzZXRDb3VudDtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICAgIHZhciBfdGhpcyRnZXRPbmx5Q2hpbGQgPSB0aGlzLmdldE9ubHlDaGlsZChjaGlsZHJlbiksXG4gICAgICAgICAgY2hpbGQgPSBfdGhpcyRnZXRPbmx5Q2hpbGQuY2hpbGQsXG4gICAgICAgICAgaXNGdW5jdGlvbiA9IF90aGlzJGdldE9ubHlDaGlsZC5pc0Z1bmN0aW9uOyAvLyBOb3QgbmVlZCB0byBgY2xvbmVFbGVtZW50YCBzaW5jZSB1c2VyIGNhbiBoYW5kbGUgdGhpcyBpbiByZW5kZXIgZnVuY3Rpb24gc2VsZlxuXG5cbiAgICAgIHZhciByZXR1cm5DaGlsZE5vZGU7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybkNoaWxkTm9kZSA9IGNoaWxkO1xuICAgICAgfSBlbHNlIGlmICggLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICByZXR1cm5DaGlsZE5vZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB0aGlzLmdldENvbnRyb2xsZWQoY2hpbGQucHJvcHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoIWNoaWxkLCAnYGNoaWxkcmVuYCBvZiBGaWVsZCBpcyBub3QgdmFsaWRhdGUgUmVhY3RFbGVtZW50LicpO1xuICAgICAgICByZXR1cm5DaGlsZE5vZGUgPSBjaGlsZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCB7XG4gICAgICAgIGtleTogcmVzZXRDb3VudFxuICAgICAgfSwgcmV0dXJuQ2hpbGROb2RlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmllbGQ7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbkZpZWxkLmNvbnRleHRUeXBlID0gRmllbGRDb250ZXh0O1xuRmllbGQuZGVmYXVsdFByb3BzID0ge1xuICB0cmlnZ2VyOiAnb25DaGFuZ2UnLFxuICB2YWx1ZVByb3BOYW1lOiAndmFsdWUnXG59O1xuXG5mdW5jdGlvbiBXcmFwcGVyRmllbGQoX3JlZjQpIHtcbiAgdmFyIG5hbWUgPSBfcmVmNC5uYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY0LCBbXCJuYW1lXCJdKTtcblxuICB2YXIgZmllbGRDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChGaWVsZENvbnRleHQpO1xuICB2YXIgbmFtZVBhdGggPSBuYW1lICE9PSB1bmRlZmluZWQgPyBnZXROYW1lUGF0aChuYW1lKSA6IHVuZGVmaW5lZDtcbiAgdmFyIGtleSA9ICdrZWVwJztcblxuICBpZiAoIXJlc3RQcm9wcy5pc0xpc3RGaWVsZCkge1xuICAgIGtleSA9IFwiX1wiLmNvbmNhdCgobmFtZVBhdGggfHwgW10pLmpvaW4oJ18nKSk7XG4gIH0gLy8gV2FybmluZyBpZiBpdCdzIGEgZGlyZWN0bHkgbGlzdCBmaWVsZC5cbiAgLy8gV2UgY2FuIHN0aWxsIHN1cHBvcnQgbXVsdGlwbGUgbGV2ZWwgZmllbGQgcHJlc2VydmUuXG5cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiByZXN0UHJvcHMucHJlc2VydmUgPT09IGZhbHNlICYmIHJlc3RQcm9wcy5pc0xpc3RGaWVsZCAmJiBuYW1lUGF0aC5sZW5ndGggPD0gMSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdgcHJlc2VydmVgIHNob3VsZCBub3QgYXBwbHkgb24gRm9ybS5MaXN0IGZpZWxkcy4nKTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZCwgX2V4dGVuZHMoe1xuICAgIGtleToga2V5LFxuICAgIG5hbWU6IG5hbWVQYXRoXG4gIH0sIHJlc3RQcm9wcywge1xuICAgIGZpZWxkQ29udGV4dDogZmllbGRDb250ZXh0XG4gIH0pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgV3JhcHBlckZpZWxkOyIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xudmFyIFNQTElUID0gJ19fQGZpZWxkX3NwbGl0X18nO1xuLyoqXG4gKiBDb252ZXJ0IG5hbWUgcGF0aCBpbnRvIHN0cmluZyB0byBmYXN0IHRoZSBmZXRjaCBzcGVlZCBvZiBNYXAuXG4gKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplKG5hbWVQYXRoKSB7XG4gIHJldHVybiBuYW1lUGF0aC5tYXAoZnVuY3Rpb24gKGNlbGwpIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoX3R5cGVvZihjZWxsKSwgXCI6XCIpLmNvbmNhdChjZWxsKTtcbiAgfSkgLy8gTWFnaWMgc3BsaXRcbiAgLmpvaW4oU1BMSVQpO1xufVxuLyoqXG4gKiBOYW1lTWFwIGxpa2UgYSBgTWFwYCBidXQgYWNjZXB0cyBgc3RyaW5nW11gIGFzIGtleS5cbiAqL1xuXG5cbnZhciBOYW1lTWFwID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTmFtZU1hcCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmFtZU1hcCk7XG5cbiAgICB0aGlzLmt2cyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhOYW1lTWFwLCBbe1xuICAgIGtleTogXCJzZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMua3ZzLnNldChub3JtYWxpemUoa2V5KSwgdmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMua3ZzLmdldChub3JtYWxpemUoa2V5KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoa2V5LCB1cGRhdGVyKSB7XG4gICAgICB2YXIgb3JpZ2luID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgIHZhciBuZXh0ID0gdXBkYXRlcihvcmlnaW4pO1xuXG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgdGhpcy5kZWxldGUoa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGtleSkge1xuICAgICAgdGhpcy5rdnMuZGVsZXRlKG5vcm1hbGl6ZShrZXkpKTtcbiAgICB9IC8vIFNpbmNlIHdlIG9ubHkgdXNlIHRoaXMgaW4gdGVzdCwgbGV0IHNpbXBseSByZWFsaXplIHRoaXNcblxuICB9LCB7XG4gICAga2V5OiBcIm1hcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5rdnMuZW50cmllcygpKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICBrZXkgPSBfcmVmMlswXSxcbiAgICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07XG5cbiAgICAgICAgdmFyIGNlbGxzID0ga2V5LnNwbGl0KFNQTElUKTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHtcbiAgICAgICAgICBrZXk6IGNlbGxzLm1hcChmdW5jdGlvbiAoY2VsbCkge1xuICAgICAgICAgICAgdmFyIF9jZWxsJG1hdGNoID0gY2VsbC5tYXRjaCgvXihbXjpdKik6KC4qKSQvKSxcbiAgICAgICAgICAgICAgICBfY2VsbCRtYXRjaDIgPSBfc2xpY2VkVG9BcnJheShfY2VsbCRtYXRjaCwgMyksXG4gICAgICAgICAgICAgICAgdHlwZSA9IF9jZWxsJG1hdGNoMlsxXSxcbiAgICAgICAgICAgICAgICB1bml0ID0gX2NlbGwkbWF0Y2gyWzJdO1xuXG4gICAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ251bWJlcicgPyBOdW1iZXIodW5pdCkgOiB1bml0O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgdmFyIGpzb24gPSB7fTtcbiAgICAgIHRoaXMubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIga2V5ID0gX3JlZjMua2V5LFxuICAgICAgICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZTtcbiAgICAgICAganNvbltrZXkuam9pbignLicpXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5hbWVNYXA7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IE5hbWVNYXA7IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuaW1wb3J0IHsgSE9PS19NQVJLIH0gZnJvbSAnLi9GaWVsZENvbnRleHQnO1xuaW1wb3J0IHsgYWxsUHJvbWlzZUZpbmlzaCB9IGZyb20gJy4vdXRpbHMvYXN5bmNVdGlsJztcbmltcG9ydCBOYW1lTWFwIGZyb20gJy4vdXRpbHMvTmFtZU1hcCc7XG5pbXBvcnQgeyBkZWZhdWx0VmFsaWRhdGVNZXNzYWdlcyB9IGZyb20gJy4vdXRpbHMvbWVzc2FnZXMnO1xuaW1wb3J0IHsgY2xvbmVCeU5hbWVQYXRoTGlzdCwgY29udGFpbnNOYW1lUGF0aCwgZ2V0TmFtZVBhdGgsIGdldFZhbHVlLCBtYXRjaE5hbWVQYXRoLCBzZXRWYWx1ZSwgc2V0VmFsdWVzIH0gZnJvbSAnLi91dGlscy92YWx1ZVV0aWwnO1xuZXhwb3J0IHZhciBGb3JtU3RvcmUgPSBmdW5jdGlvbiBGb3JtU3RvcmUoZm9yY2VSb290VXBkYXRlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1TdG9yZSk7XG5cbiAgdGhpcy5mb3JtSG9va2VkID0gZmFsc2U7XG4gIHRoaXMuc3Vic2NyaWJhYmxlID0gdHJ1ZTtcbiAgdGhpcy5zdG9yZSA9IHt9O1xuICB0aGlzLmZpZWxkRW50aXRpZXMgPSBbXTtcbiAgdGhpcy5pbml0aWFsVmFsdWVzID0ge307XG4gIHRoaXMuY2FsbGJhY2tzID0ge307XG4gIHRoaXMudmFsaWRhdGVNZXNzYWdlcyA9IG51bGw7XG4gIHRoaXMucHJlc2VydmUgPSBudWxsO1xuICB0aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPSBudWxsO1xuXG4gIHRoaXMuZ2V0Rm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RmllbGRWYWx1ZTogX3RoaXMuZ2V0RmllbGRWYWx1ZSxcbiAgICAgIGdldEZpZWxkc1ZhbHVlOiBfdGhpcy5nZXRGaWVsZHNWYWx1ZSxcbiAgICAgIGdldEZpZWxkRXJyb3I6IF90aGlzLmdldEZpZWxkRXJyb3IsXG4gICAgICBnZXRGaWVsZHNFcnJvcjogX3RoaXMuZ2V0RmllbGRzRXJyb3IsXG4gICAgICBpc0ZpZWxkc1RvdWNoZWQ6IF90aGlzLmlzRmllbGRzVG91Y2hlZCxcbiAgICAgIGlzRmllbGRUb3VjaGVkOiBfdGhpcy5pc0ZpZWxkVG91Y2hlZCxcbiAgICAgIGlzRmllbGRWYWxpZGF0aW5nOiBfdGhpcy5pc0ZpZWxkVmFsaWRhdGluZyxcbiAgICAgIGlzRmllbGRzVmFsaWRhdGluZzogX3RoaXMuaXNGaWVsZHNWYWxpZGF0aW5nLFxuICAgICAgcmVzZXRGaWVsZHM6IF90aGlzLnJlc2V0RmllbGRzLFxuICAgICAgc2V0RmllbGRzOiBfdGhpcy5zZXRGaWVsZHMsXG4gICAgICBzZXRGaWVsZHNWYWx1ZTogX3RoaXMuc2V0RmllbGRzVmFsdWUsXG4gICAgICB2YWxpZGF0ZUZpZWxkczogX3RoaXMudmFsaWRhdGVGaWVsZHMsXG4gICAgICBzdWJtaXQ6IF90aGlzLnN1Ym1pdCxcbiAgICAgIGdldEludGVybmFsSG9va3M6IF90aGlzLmdldEludGVybmFsSG9va3NcbiAgICB9O1xuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gSW50ZXJuYWwgSG9va3MgPT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB0aGlzLmdldEludGVybmFsSG9va3MgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSA9PT0gSE9PS19NQVJLKSB7XG4gICAgICBfdGhpcy5mb3JtSG9va2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpc3BhdGNoOiBfdGhpcy5kaXNwYXRjaCxcbiAgICAgICAgaW5pdEVudGl0eVZhbHVlOiBfdGhpcy5pbml0RW50aXR5VmFsdWUsXG4gICAgICAgIHJlZ2lzdGVyRmllbGQ6IF90aGlzLnJlZ2lzdGVyRmllbGQsXG4gICAgICAgIHVzZVN1YnNjcmliZTogX3RoaXMudXNlU3Vic2NyaWJlLFxuICAgICAgICBzZXRJbml0aWFsVmFsdWVzOiBfdGhpcy5zZXRJbml0aWFsVmFsdWVzLFxuICAgICAgICBzZXRDYWxsYmFja3M6IF90aGlzLnNldENhbGxiYWNrcyxcbiAgICAgICAgc2V0VmFsaWRhdGVNZXNzYWdlczogX3RoaXMuc2V0VmFsaWRhdGVNZXNzYWdlcyxcbiAgICAgICAgZ2V0RmllbGRzOiBfdGhpcy5nZXRGaWVsZHMsXG4gICAgICAgIHNldFByZXNlcnZlOiBfdGhpcy5zZXRQcmVzZXJ2ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB3YXJuaW5nKGZhbHNlLCAnYGdldEludGVybmFsSG9va3NgIGlzIGludGVybmFsIHVzYWdlLiBTaG91bGQgbm90IGNhbGwgZGlyZWN0bHkuJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdGhpcy51c2VTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJhYmxlKSB7XG4gICAgX3RoaXMuc3Vic2NyaWJhYmxlID0gc3Vic2NyaWJhYmxlO1xuICB9O1xuICAvKipcbiAgICogRmlyc3QgdGltZSBgc2V0SW5pdGlhbFZhbHVlc2Agc2hvdWxkIHVwZGF0ZSBzdG9yZSB3aXRoIGluaXRpYWwgdmFsdWVcbiAgICovXG5cblxuICB0aGlzLnNldEluaXRpYWxWYWx1ZXMgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlcywgaW5pdCkge1xuICAgIF90aGlzLmluaXRpYWxWYWx1ZXMgPSBpbml0aWFsVmFsdWVzIHx8IHt9O1xuXG4gICAgaWYgKGluaXQpIHtcbiAgICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWVzKHt9LCBpbml0aWFsVmFsdWVzLCBfdGhpcy5zdG9yZSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0SW5pdGlhbFZhbHVlID0gZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgcmV0dXJuIGdldFZhbHVlKF90aGlzLmluaXRpYWxWYWx1ZXMsIG5hbWVQYXRoKTtcbiAgfTtcblxuICB0aGlzLnNldENhbGxiYWNrcyA9IGZ1bmN0aW9uIChjYWxsYmFja3MpIHtcbiAgICBfdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIH07XG5cbiAgdGhpcy5zZXRWYWxpZGF0ZU1lc3NhZ2VzID0gZnVuY3Rpb24gKHZhbGlkYXRlTWVzc2FnZXMpIHtcbiAgICBfdGhpcy52YWxpZGF0ZU1lc3NhZ2VzID0gdmFsaWRhdGVNZXNzYWdlcztcbiAgfTtcblxuICB0aGlzLnNldFByZXNlcnZlID0gZnVuY3Rpb24gKHByZXNlcnZlKSB7XG4gICAgX3RoaXMucHJlc2VydmUgPSBwcmVzZXJ2ZTtcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gRGV2IFdhcm5pbmcgPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuXG4gIHRoaXMud2FybmluZ1VuaG9va2VkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFfdGhpcy50aW1lb3V0SWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF90aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy50aW1lb3V0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmICghX3RoaXMuZm9ybUhvb2tlZCkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnN0YW5jZSBjcmVhdGVkIGJ5IGB1c2VGb3JtYCBpcyBub3QgY29ubmVjdGVkIHRvIGFueSBGb3JtIGVsZW1lbnQuIEZvcmdldCB0byBwYXNzIGBmb3JtYCBwcm9wPycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRmllbGRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogR2V0IHJlZ2lzdGVyZWQgZmllbGQgZW50aXRpZXMuXG4gICAqIEBwYXJhbSBwdXJlIE9ubHkgcmV0dXJuIGZpZWxkIHdoaWNoIGhhcyBhIGBuYW1lYC4gRGVmYXVsdDogZmFsc2VcbiAgICovXG5cblxuICB0aGlzLmdldEZpZWxkRW50aXRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHB1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgaWYgKCFwdXJlKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZmllbGRFbnRpdGllcztcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXMuZmllbGRFbnRpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICByZXR1cm4gZmllbGQuZ2V0TmFtZVBhdGgoKS5sZW5ndGg7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZHNNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHB1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuICAgIHZhciBjYWNoZSA9IG5ldyBOYW1lTWFwKCk7XG5cbiAgICBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKHB1cmUpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgY2FjaGUuc2V0KG5hbWVQYXRoLCBmaWVsZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2FjaGU7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZEVudGl0aWVzRm9yTmFtZVBhdGhMaXN0ID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgaWYgKCFuYW1lTGlzdCkge1xuICAgICAgcmV0dXJuIF90aGlzLmdldEZpZWxkRW50aXRpZXModHJ1ZSk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlID0gX3RoaXMuZ2V0RmllbGRzTWFwKHRydWUpO1xuXG4gICAgcmV0dXJuIG5hbWVMaXN0Lm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KG5hbWVQYXRoKSB8fCB7XG4gICAgICAgIElOVkFMSURBVEVfTkFNRV9QQVRIOiBnZXROYW1lUGF0aChuYW1lKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkc1ZhbHVlID0gZnVuY3Rpb24gKG5hbWVMaXN0LCBmaWx0ZXJGdW5jKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICBpZiAobmFtZUxpc3QgPT09IHRydWUgJiYgIWZpbHRlckZ1bmMpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zdG9yZTtcbiAgICB9XG5cbiAgICB2YXIgZmllbGRFbnRpdGllcyA9IF90aGlzLmdldEZpZWxkRW50aXRpZXNGb3JOYW1lUGF0aExpc3QoQXJyYXkuaXNBcnJheShuYW1lTGlzdCkgPyBuYW1lTGlzdCA6IG51bGwpO1xuXG4gICAgdmFyIGZpbHRlcmVkTmFtZUxpc3QgPSBbXTtcbiAgICBmaWVsZEVudGl0aWVzLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgdmFyIF9lbnRpdHkkaXNMaXN0RmllbGQ7XG5cbiAgICAgIHZhciBuYW1lUGF0aCA9ICdJTlZBTElEQVRFX05BTUVfUEFUSCcgaW4gZW50aXR5ID8gZW50aXR5LklOVkFMSURBVEVfTkFNRV9QQVRIIDogZW50aXR5LmdldE5hbWVQYXRoKCk7IC8vIElnbm9yZSB3aGVuIGl0J3MgYSBsaXN0IGl0ZW0gYW5kIG5vdCBzcGVjaWZpYyB0aGUgbmFtZVBhdGgsXG4gICAgICAvLyBzaW5jZSBwYXJlbnQgZmllbGQgaXMgYWxyZWFkeSB0YWtlIGluIGNvdW50XG5cbiAgICAgIGlmICghbmFtZUxpc3QgJiYgKChfZW50aXR5JGlzTGlzdEZpZWxkID0gZW50aXR5LmlzTGlzdEZpZWxkKSA9PT0gbnVsbCB8fCBfZW50aXR5JGlzTGlzdEZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZW50aXR5JGlzTGlzdEZpZWxkLmNhbGwoZW50aXR5KSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbHRlckZ1bmMpIHtcbiAgICAgICAgZmlsdGVyZWROYW1lTGlzdC5wdXNoKG5hbWVQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtZXRhID0gJ2dldE1ldGEnIGluIGVudGl0eSA/IGVudGl0eS5nZXRNZXRhKCkgOiBudWxsO1xuXG4gICAgICAgIGlmIChmaWx0ZXJGdW5jKG1ldGEpKSB7XG4gICAgICAgICAgZmlsdGVyZWROYW1lTGlzdC5wdXNoKG5hbWVQYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZUJ5TmFtZVBhdGhMaXN0KF90aGlzLnN0b3JlLCBmaWx0ZXJlZE5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCkpO1xuICB9O1xuXG4gIHRoaXMuZ2V0RmllbGRWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgbmFtZVBhdGggPSBnZXROYW1lUGF0aChuYW1lKTtcbiAgICByZXR1cm4gZ2V0VmFsdWUoX3RoaXMuc3RvcmUsIG5hbWVQYXRoKTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkc0Vycm9yID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgZmllbGRFbnRpdGllcyA9IF90aGlzLmdldEZpZWxkRW50aXRpZXNGb3JOYW1lUGF0aExpc3QobmFtZUxpc3QpO1xuXG4gICAgcmV0dXJuIGZpZWxkRW50aXRpZXMubWFwKGZ1bmN0aW9uIChlbnRpdHksIGluZGV4KSB7XG4gICAgICBpZiAoZW50aXR5ICYmICEoJ0lOVkFMSURBVEVfTkFNRV9QQVRIJyBpbiBlbnRpdHkpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogZW50aXR5LmdldE5hbWVQYXRoKCksXG4gICAgICAgICAgZXJyb3JzOiBlbnRpdHkuZ2V0RXJyb3JzKClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZ2V0TmFtZVBhdGgobmFtZUxpc3RbaW5kZXhdKSxcbiAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkRXJyb3IgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG5cbiAgICB2YXIgZmllbGRFcnJvciA9IF90aGlzLmdldEZpZWxkc0Vycm9yKFtuYW1lUGF0aF0pWzBdO1xuXG4gICAgcmV0dXJuIGZpZWxkRXJyb3IuZXJyb3JzO1xuICB9O1xuXG4gIHRoaXMuaXNGaWVsZHNUb3VjaGVkID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmcwID0gYXJnc1swXSxcbiAgICAgICAgYXJnMSA9IGFyZ3NbMV07XG4gICAgdmFyIG5hbWVQYXRoTGlzdDtcbiAgICB2YXIgaXNBbGxGaWVsZHNUb3VjaGVkID0gZmFsc2U7XG5cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgIG5hbWVQYXRoTGlzdCA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnMCkpIHtcbiAgICAgICAgbmFtZVBhdGhMaXN0ID0gYXJnMC5tYXAoZ2V0TmFtZVBhdGgpO1xuICAgICAgICBpc0FsbEZpZWxkc1RvdWNoZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVQYXRoTGlzdCA9IG51bGw7XG4gICAgICAgIGlzQWxsRmllbGRzVG91Y2hlZCA9IGFyZzA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWVQYXRoTGlzdCA9IGFyZzAubWFwKGdldE5hbWVQYXRoKTtcbiAgICAgIGlzQWxsRmllbGRzVG91Y2hlZCA9IGFyZzE7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkRW50aXRpZXMgPSBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKHRydWUpO1xuXG4gICAgdmFyIGlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gaXNGaWVsZFRvdWNoZWQoZmllbGQpIHtcbiAgICAgIHJldHVybiBmaWVsZC5pc0ZpZWxkVG91Y2hlZCgpO1xuICAgIH07IC8vID09PT09IFdpbGwgZ2V0IGZ1bGx5IGNvbXBhcmUgd2hlbiBub3QgY29uZmlnIG5hbWVQYXRoTGlzdCA9PT09PVxuXG5cbiAgICBpZiAoIW5hbWVQYXRoTGlzdCkge1xuICAgICAgcmV0dXJuIGlzQWxsRmllbGRzVG91Y2hlZCA/IGZpZWxkRW50aXRpZXMuZXZlcnkoaXNGaWVsZFRvdWNoZWQpIDogZmllbGRFbnRpdGllcy5zb21lKGlzRmllbGRUb3VjaGVkKTtcbiAgICB9IC8vIEdlbmVyYXRlIGEgbmVzdCB0cmVlIGZvciB2YWxpZGF0ZVxuXG5cbiAgICB2YXIgbWFwID0gbmV3IE5hbWVNYXAoKTtcbiAgICBuYW1lUGF0aExpc3QuZm9yRWFjaChmdW5jdGlvbiAoc2hvcnROYW1lUGF0aCkge1xuICAgICAgbWFwLnNldChzaG9ydE5hbWVQYXRoLCBbXSk7XG4gICAgfSk7XG4gICAgZmllbGRFbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIGZpZWxkTmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpOyAvLyBGaW5kIG1hdGNoZWQgZW50aXR5IGFuZCBwdXQgaW50byBsaXN0XG5cbiAgICAgIG5hbWVQYXRoTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzaG9ydE5hbWVQYXRoKSB7XG4gICAgICAgIGlmIChzaG9ydE5hbWVQYXRoLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lVW5pdCwgaSkge1xuICAgICAgICAgIHJldHVybiBmaWVsZE5hbWVQYXRoW2ldID09PSBuYW1lVW5pdDtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBtYXAudXBkYXRlKHNob3J0TmFtZVBhdGgsIGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShsaXN0KSwgW2ZpZWxkXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pOyAvLyBDaGVjayBpZiBOYW1lTWFwIHZhbHVlIGlzIHRvdWNoZWRcblxuICAgIHZhciBpc05hbWVQYXRoTGlzdFRvdWNoZWQgPSBmdW5jdGlvbiBpc05hbWVQYXRoTGlzdFRvdWNoZWQoZW50aXRpZXMpIHtcbiAgICAgIHJldHVybiBlbnRpdGllcy5zb21lKGlzRmllbGRUb3VjaGVkKTtcbiAgICB9O1xuXG4gICAgdmFyIG5hbWVQYXRoTGlzdEVudGl0aWVzID0gbWFwLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIHZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaXNBbGxGaWVsZHNUb3VjaGVkID8gbmFtZVBhdGhMaXN0RW50aXRpZXMuZXZlcnkoaXNOYW1lUGF0aExpc3RUb3VjaGVkKSA6IG5hbWVQYXRoTGlzdEVudGl0aWVzLnNvbWUoaXNOYW1lUGF0aExpc3RUb3VjaGVkKTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfdGhpcy53YXJuaW5nVW5ob29rZWQoKTtcblxuICAgIHJldHVybiBfdGhpcy5pc0ZpZWxkc1RvdWNoZWQoW25hbWVdKTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRzVmFsaWRhdGluZyA9IGZ1bmN0aW9uIChuYW1lTGlzdCkge1xuICAgIF90aGlzLndhcm5pbmdVbmhvb2tlZCgpO1xuXG4gICAgdmFyIGZpZWxkRW50aXRpZXMgPSBfdGhpcy5nZXRGaWVsZEVudGl0aWVzKCk7XG5cbiAgICBpZiAoIW5hbWVMaXN0KSB7XG4gICAgICByZXR1cm4gZmllbGRFbnRpdGllcy5zb21lKGZ1bmN0aW9uICh0ZXN0RmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RGaWVsZC5pc0ZpZWxkVmFsaWRhdGluZygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG5hbWVQYXRoTGlzdCA9IG5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCk7XG4gICAgcmV0dXJuIGZpZWxkRW50aXRpZXMuc29tZShmdW5jdGlvbiAodGVzdEZpZWxkKSB7XG4gICAgICB2YXIgZmllbGROYW1lUGF0aCA9IHRlc3RGaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgcmV0dXJuIGNvbnRhaW5zTmFtZVBhdGgobmFtZVBhdGhMaXN0LCBmaWVsZE5hbWVQYXRoKSAmJiB0ZXN0RmllbGQuaXNGaWVsZFZhbGlkYXRpbmcoKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRWYWxpZGF0aW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBfdGhpcy53YXJuaW5nVW5ob29rZWQoKTtcblxuICAgIHJldHVybiBfdGhpcy5pc0ZpZWxkc1ZhbGlkYXRpbmcoW25hbWVdKTtcbiAgfTtcbiAgLyoqXG4gICAqIFJlc2V0IEZpZWxkIHdpdGggZmllbGQgYGluaXRpYWxWYWx1ZWAgcHJvcC5cbiAgICogQ2FuIHBhc3MgYGVudGl0aWVzYCBvciBgbmFtZVBhdGhMaXN0YCBvciBqdXN0IG5vdGhpbmcuXG4gICAqL1xuXG5cbiAgdGhpcy5yZXNldFdpdGhGaWVsZEluaXRpYWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgLy8gQ3JlYXRlIGNhY2hlXG4gICAgdmFyIGNhY2hlID0gbmV3IE5hbWVNYXAoKTtcblxuICAgIHZhciBmaWVsZEVudGl0aWVzID0gX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKTtcblxuICAgIGZpZWxkRW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBmaWVsZC5wcm9wcy5pbml0aWFsVmFsdWU7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpOyAvLyBSZWNvcmQgb25seSBpZiBoYXMgYGluaXRpYWxWYWx1ZWBcblxuICAgICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gY2FjaGUuZ2V0KG5hbWVQYXRoKSB8fCBuZXcgU2V0KCk7XG4gICAgICAgIHJlY29yZHMuYWRkKHtcbiAgICAgICAgICBlbnRpdHk6IGZpZWxkLFxuICAgICAgICAgIHZhbHVlOiBpbml0aWFsVmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNhY2hlLnNldChuYW1lUGF0aCwgcmVjb3Jkcyk7XG4gICAgICB9XG4gICAgfSk7IC8vIFJlc2V0XG5cbiAgICB2YXIgcmVzZXRXaXRoRmllbGRzID0gZnVuY3Rpb24gcmVzZXRXaXRoRmllbGRzKGVudGl0aWVzKSB7XG4gICAgICBlbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gZmllbGQucHJvcHMuaW5pdGlhbFZhbHVlO1xuXG4gICAgICAgIGlmIChpbml0aWFsVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBuYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgICB2YXIgZm9ybUluaXRpYWxWYWx1ZSA9IF90aGlzLmdldEluaXRpYWxWYWx1ZShuYW1lUGF0aCk7XG5cbiAgICAgICAgICBpZiAoZm9ybUluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBXYXJuaW5nIGlmIGNvbmZsaWN0IHdpdGggZm9ybSBpbml0aWFsVmFsdWVzIGFuZCBkbyBub3QgbW9kaWZ5IHZhbHVlXG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIkZvcm0gYWxyZWFkeSBzZXQgJ2luaXRpYWxWYWx1ZXMnIHdpdGggcGF0aCAnXCIuY29uY2F0KG5hbWVQYXRoLmpvaW4oJy4nKSwgXCInLiBGaWVsZCBjYW4gbm90IG92ZXJ3cml0ZSBpdC5cIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkcyA9IGNhY2hlLmdldChuYW1lUGF0aCk7XG5cbiAgICAgICAgICAgIGlmIChyZWNvcmRzICYmIHJlY29yZHMuc2l6ZSA+IDEpIHtcbiAgICAgICAgICAgICAgLy8gV2FybmluZyBpZiBtdWx0aXBsZSBmaWVsZCBzZXQgYGluaXRpYWxWYWx1ZWBhbmQgZG8gbm90IG1vZGlmeSB2YWx1ZVxuICAgICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIk11bHRpcGxlIEZpZWxkIHdpdGggcGF0aCAnXCIuY29uY2F0KG5hbWVQYXRoLmpvaW4oJy4nKSwgXCInIHNldCAnaW5pdGlhbFZhbHVlJy4gQ2FuIG5vdCBkZWNpZGUgd2hpY2ggb25lIHRvIHBpY2suXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVjb3Jkcykge1xuICAgICAgICAgICAgICB2YXIgb3JpZ2luVmFsdWUgPSBfdGhpcy5nZXRGaWVsZFZhbHVlKG5hbWVQYXRoKTsgLy8gU2V0IGBpbml0aWFsVmFsdWVgXG5cblxuICAgICAgICAgICAgICBpZiAoIWluZm8uc2tpcEV4aXN0IHx8IG9yaWdpblZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlKF90aGlzLnN0b3JlLCBuYW1lUGF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlY29yZHMpWzBdLnZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciByZXF1aXJlZEZpZWxkRW50aXRpZXM7XG5cbiAgICBpZiAoaW5mby5lbnRpdGllcykge1xuICAgICAgcmVxdWlyZWRGaWVsZEVudGl0aWVzID0gaW5mby5lbnRpdGllcztcbiAgICB9IGVsc2UgaWYgKGluZm8ubmFtZVBhdGhMaXN0KSB7XG4gICAgICByZXF1aXJlZEZpZWxkRW50aXRpZXMgPSBbXTtcbiAgICAgIGluZm8ubmFtZVBhdGhMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgICAgIHZhciByZWNvcmRzID0gY2FjaGUuZ2V0KG5hbWVQYXRoKTtcblxuICAgICAgICBpZiAocmVjb3Jkcykge1xuICAgICAgICAgIHZhciBfcmVxdWlyZWRGaWVsZEVudGl0aWU7XG5cbiAgICAgICAgICAoX3JlcXVpcmVkRmllbGRFbnRpdGllID0gcmVxdWlyZWRGaWVsZEVudGl0aWVzKS5wdXNoLmFwcGx5KF9yZXF1aXJlZEZpZWxkRW50aXRpZSwgX3RvQ29uc3VtYWJsZUFycmF5KF90b0NvbnN1bWFibGVBcnJheShyZWNvcmRzKS5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByLmVudGl0eTtcbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWlyZWRGaWVsZEVudGl0aWVzID0gZmllbGRFbnRpdGllcztcbiAgICB9XG5cbiAgICByZXNldFdpdGhGaWVsZHMocmVxdWlyZWRGaWVsZEVudGl0aWVzKTtcbiAgfTtcblxuICB0aGlzLnJlc2V0RmllbGRzID0gZnVuY3Rpb24gKG5hbWVMaXN0KSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG5cbiAgICBpZiAoIW5hbWVMaXN0KSB7XG4gICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlcyh7fSwgX3RoaXMuaW5pdGlhbFZhbHVlcyk7XG5cbiAgICAgIF90aGlzLnJlc2V0V2l0aEZpZWxkSW5pdGlhbFZhbHVlKCk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhwcmV2U3RvcmUsIG51bGwsIHtcbiAgICAgICAgdHlwZTogJ3Jlc2V0J1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFJlc2V0IGJ5IGBuYW1lTGlzdGBcblxuXG4gICAgdmFyIG5hbWVQYXRoTGlzdCA9IG5hbWVMaXN0Lm1hcChnZXROYW1lUGF0aCk7XG4gICAgbmFtZVBhdGhMaXN0LmZvckVhY2goZnVuY3Rpb24gKG5hbWVQYXRoKSB7XG4gICAgICB2YXIgaW5pdGlhbFZhbHVlID0gX3RoaXMuZ2V0SW5pdGlhbFZhbHVlKG5hbWVQYXRoKTtcblxuICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGluaXRpYWxWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICBfdGhpcy5yZXNldFdpdGhGaWVsZEluaXRpYWxWYWx1ZSh7XG4gICAgICBuYW1lUGF0aExpc3Q6IG5hbWVQYXRoTGlzdFxuICAgIH0pO1xuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgbmFtZVBhdGhMaXN0LCB7XG4gICAgICB0eXBlOiAncmVzZXQnXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXRGaWVsZHMgPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkRGF0YSkge1xuICAgICAgdmFyIG5hbWUgPSBmaWVsZERhdGEubmFtZSxcbiAgICAgICAgICBlcnJvcnMgPSBmaWVsZERhdGEuZXJyb3JzLFxuICAgICAgICAgIGRhdGEgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZmllbGREYXRhLCBbXCJuYW1lXCIsIFwiZXJyb3JzXCJdKTtcblxuICAgICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7IC8vIFZhbHVlXG5cbiAgICAgIGlmICgndmFsdWUnIGluIGRhdGEpIHtcbiAgICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGRhdGEudmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5ub3RpZnlPYnNlcnZlcnMocHJldlN0b3JlLCBbbmFtZVBhdGhdLCB7XG4gICAgICAgIHR5cGU6ICdzZXRGaWVsZCcsXG4gICAgICAgIGRhdGE6IGZpZWxkRGF0YVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVudGl0aWVzID0gX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKTtcblxuICAgIHZhciBmaWVsZHMgPSBlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBmaWVsZC5nZXROYW1lUGF0aCgpO1xuICAgICAgdmFyIG1ldGEgPSBmaWVsZC5nZXRNZXRhKCk7XG5cbiAgICAgIHZhciBmaWVsZERhdGEgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1ldGEpLCB7fSwge1xuICAgICAgICBuYW1lOiBuYW1lUGF0aCxcbiAgICAgICAgdmFsdWU6IF90aGlzLmdldEZpZWxkVmFsdWUobmFtZVBhdGgpXG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpZWxkRGF0YSwgJ29yaWdpblJDRmllbGQnLCB7XG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZERhdGE7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpZWxkcztcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IE9ic2VydmVyID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBUaGlzIG9ubHkgdHJpZ2dlciB3aGVuIGEgZmllbGQgaXMgb24gY29uc3RydWN0b3IgdG8gYXZvaWQgd2UgZ2V0IGluaXRpYWxWYWx1ZSB0b28gbGF0ZVxuICAgKi9cblxuXG4gIHRoaXMuaW5pdEVudGl0eVZhbHVlID0gZnVuY3Rpb24gKGVudGl0eSkge1xuICAgIHZhciBpbml0aWFsVmFsdWUgPSBlbnRpdHkucHJvcHMuaW5pdGlhbFZhbHVlO1xuXG4gICAgaWYgKGluaXRpYWxWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbmFtZVBhdGggPSBlbnRpdHkuZ2V0TmFtZVBhdGgoKTtcbiAgICAgIHZhciBwcmV2VmFsdWUgPSBnZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgpO1xuXG4gICAgICBpZiAocHJldlZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX3RoaXMuc3RvcmUgPSBzZXRWYWx1ZShfdGhpcy5zdG9yZSwgbmFtZVBhdGgsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVnaXN0ZXJGaWVsZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICBfdGhpcy5maWVsZEVudGl0aWVzLnB1c2goZW50aXR5KTsgLy8gU2V0IGluaXRpYWwgdmFsdWVzXG5cblxuICAgIGlmIChlbnRpdHkucHJvcHMuaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBwcmV2U3RvcmUgPSBfdGhpcy5zdG9yZTtcblxuICAgICAgX3RoaXMucmVzZXRXaXRoRmllbGRJbml0aWFsVmFsdWUoe1xuICAgICAgICBlbnRpdGllczogW2VudGl0eV0sXG4gICAgICAgIHNraXBFeGlzdDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhwcmV2U3RvcmUsIFtlbnRpdHkuZ2V0TmFtZVBhdGgoKV0sIHtcbiAgICAgICAgdHlwZTogJ3ZhbHVlVXBkYXRlJyxcbiAgICAgICAgc291cmNlOiAnaW50ZXJuYWwnXG4gICAgICB9KTtcbiAgICB9IC8vIHVuLXJlZ2lzdGVyIGZpZWxkIGNhbGxiYWNrXG5cblxuICAgIHJldHVybiBmdW5jdGlvbiAoaXNMaXN0RmllbGQsIHByZXNlcnZlKSB7XG4gICAgICB2YXIgc3ViTmFtZVBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgX3RoaXMuZmllbGRFbnRpdGllcyA9IF90aGlzLmZpZWxkRW50aXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBlbnRpdHk7XG4gICAgICB9KTsgLy8gQ2xlYW4gdXAgc3RvcmUgdmFsdWUgaWYgbm90IHByZXNlcnZlXG5cbiAgICAgIHZhciBtZXJnZWRQcmVzZXJ2ZSA9IHByZXNlcnZlICE9PSB1bmRlZmluZWQgPyBwcmVzZXJ2ZSA6IF90aGlzLnByZXNlcnZlO1xuXG4gICAgICBpZiAobWVyZ2VkUHJlc2VydmUgPT09IGZhbHNlICYmICghaXNMaXN0RmllbGQgfHwgc3ViTmFtZVBhdGgubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgdmFyIG5hbWVQYXRoID0gZW50aXR5LmdldE5hbWVQYXRoKCk7XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBpc0xpc3RGaWVsZCA/IHVuZGVmaW5lZCA6IGdldFZhbHVlKF90aGlzLmluaXRpYWxWYWx1ZXMsIG5hbWVQYXRoKTtcblxuICAgICAgICBpZiAobmFtZVBhdGgubGVuZ3RoICYmIF90aGlzLmdldEZpZWxkVmFsdWUobmFtZVBhdGgpICE9PSBkZWZhdWx0VmFsdWUgJiYgX3RoaXMuZmllbGRFbnRpdGllcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICByZXR1cm4gKC8vIE9ubHkgcmVzZXQgd2hlbiBubyBuYW1lUGF0aCBleGlzdFxuICAgICAgICAgICAgIW1hdGNoTmFtZVBhdGgoZmllbGQuZ2V0TmFtZVBhdGgoKSwgbmFtZVBhdGgpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBfdGhpcy5zdG9yZSA9IHNldFZhbHVlKF90aGlzLnN0b3JlLCBuYW1lUGF0aCwgZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICd1cGRhdGVWYWx1ZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbmFtZVBhdGggPSBhY3Rpb24ubmFtZVBhdGgsXG4gICAgICAgICAgICAgIHZhbHVlID0gYWN0aW9uLnZhbHVlO1xuXG4gICAgICAgICAgX3RoaXMudXBkYXRlVmFsdWUobmFtZVBhdGgsIHZhbHVlKTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3ZhbGlkYXRlRmllbGQnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9uYW1lUGF0aCA9IGFjdGlvbi5uYW1lUGF0aCxcbiAgICAgICAgICAgICAgdHJpZ2dlck5hbWUgPSBhY3Rpb24udHJpZ2dlck5hbWU7XG5cbiAgICAgICAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcyhbX25hbWVQYXRoXSwge1xuICAgICAgICAgICAgdHJpZ2dlck5hbWU6IHRyaWdnZXJOYW1lXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBkZWZhdWx0OiAvLyBDdXJyZW50bHkgd2UgZG9uJ3QgaGF2ZSBvdGhlciBhY3Rpb24uIERvIG5vdGhpbmcuXG5cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5ub3RpZnlPYnNlcnZlcnMgPSBmdW5jdGlvbiAocHJldlN0b3JlLCBuYW1lUGF0aExpc3QsIGluZm8pIHtcbiAgICBpZiAoX3RoaXMuc3Vic2NyaWJhYmxlKSB7XG4gICAgICB2YXIgbWVyZ2VkSW5mbyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5mbyksIHt9LCB7XG4gICAgICAgIHN0b3JlOiBfdGhpcy5nZXRGaWVsZHNWYWx1ZSh0cnVlKVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLmdldEZpZWxkRW50aXRpZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgb25TdG9yZUNoYW5nZSA9IF9yZWYyLm9uU3RvcmVDaGFuZ2U7XG4gICAgICAgIG9uU3RvcmVDaGFuZ2UocHJldlN0b3JlLCBuYW1lUGF0aExpc3QsIG1lcmdlZEluZm8pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmZvcmNlUm9vdFVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnVwZGF0ZVZhbHVlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG5hbWVQYXRoID0gZ2V0TmFtZVBhdGgobmFtZSk7XG4gICAgdmFyIHByZXZTdG9yZSA9IF90aGlzLnN0b3JlO1xuICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWUoX3RoaXMuc3RvcmUsIG5hbWVQYXRoLCB2YWx1ZSk7XG5cbiAgICBfdGhpcy5ub3RpZnlPYnNlcnZlcnMocHJldlN0b3JlLCBbbmFtZVBhdGhdLCB7XG4gICAgICB0eXBlOiAndmFsdWVVcGRhdGUnLFxuICAgICAgc291cmNlOiAnaW50ZXJuYWwnXG4gICAgfSk7IC8vIE5vdGlmeSBkZXBlbmRlbmNpZXMgY2hpbGRyZW4gd2l0aCBwYXJlbnQgdXBkYXRlXG4gICAgLy8gV2UgbmVlZCBkZWxheSB0byB0cmlnZ2VyIHZhbGlkYXRlIGluIGNhc2UgRmllbGQgaXMgdW5kZXIgcmVuZGVyIHByb3BzXG5cblxuICAgIHZhciBjaGlsZHJlbkZpZWxkcyA9IF90aGlzLmdldERlcGVuZGVuY3lDaGlsZHJlbkZpZWxkcyhuYW1lUGF0aCk7XG5cbiAgICBpZiAoY2hpbGRyZW5GaWVsZHMubGVuZ3RoKSB7XG4gICAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcyhjaGlsZHJlbkZpZWxkcyk7XG4gICAgfVxuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgY2hpbGRyZW5GaWVsZHMsIHtcbiAgICAgIHR5cGU6ICdkZXBlbmRlbmNpZXNVcGRhdGUnLFxuICAgICAgcmVsYXRlZEZpZWxkczogW25hbWVQYXRoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuRmllbGRzKSlcbiAgICB9KTsgLy8gdHJpZ2dlciBjYWxsYmFjayBmdW5jdGlvblxuXG5cbiAgICB2YXIgb25WYWx1ZXNDaGFuZ2UgPSBfdGhpcy5jYWxsYmFja3Mub25WYWx1ZXNDaGFuZ2U7XG5cbiAgICBpZiAob25WYWx1ZXNDaGFuZ2UpIHtcbiAgICAgIHZhciBjaGFuZ2VkVmFsdWVzID0gY2xvbmVCeU5hbWVQYXRoTGlzdChfdGhpcy5zdG9yZSwgW25hbWVQYXRoXSk7XG4gICAgICBvblZhbHVlc0NoYW5nZShjaGFuZ2VkVmFsdWVzLCBfdGhpcy5nZXRGaWVsZHNWYWx1ZSgpKTtcbiAgICB9XG5cbiAgICBfdGhpcy50cmlnZ2VyT25GaWVsZHNDaGFuZ2UoW25hbWVQYXRoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuRmllbGRzKSkpO1xuICB9OyAvLyBMZXQgYWxsIGNoaWxkIEZpZWxkIGdldCB1cGRhdGUuXG5cblxuICB0aGlzLnNldEZpZWxkc1ZhbHVlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJldlN0b3JlID0gX3RoaXMuc3RvcmU7XG5cbiAgICBpZiAoc3RvcmUpIHtcbiAgICAgIF90aGlzLnN0b3JlID0gc2V0VmFsdWVzKF90aGlzLnN0b3JlLCBzdG9yZSk7XG4gICAgfVxuXG4gICAgX3RoaXMubm90aWZ5T2JzZXJ2ZXJzKHByZXZTdG9yZSwgbnVsbCwge1xuICAgICAgdHlwZTogJ3ZhbHVlVXBkYXRlJyxcbiAgICAgIHNvdXJjZTogJ2V4dGVybmFsJ1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RGVwZW5kZW5jeUNoaWxkcmVuRmllbGRzID0gZnVuY3Rpb24gKHJvb3ROYW1lUGF0aCkge1xuICAgIHZhciBjaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICB2YXIgY2hpbGRyZW5GaWVsZHMgPSBbXTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzMmZpZWxkcyA9IG5ldyBOYW1lTWFwKCk7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgbWFwc1xuICAgICAqIENhbiB1c2UgY2FjaGUgdG8gc2F2ZSBwZXJmIGlmIHVzZXIgcmVwb3J0IHBlcmZvcm1hbmNlIGlzc3VlIHdpdGggdGhpc1xuICAgICAqL1xuXG4gICAgX3RoaXMuZ2V0RmllbGRFbnRpdGllcygpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgZGVwZW5kZW5jaWVzID0gZmllbGQucHJvcHMuZGVwZW5kZW5jaWVzO1xuICAgICAgKGRlcGVuZGVuY2llcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoZGVwZW5kZW5jeSkge1xuICAgICAgICB2YXIgZGVwZW5kZW5jeU5hbWVQYXRoID0gZ2V0TmFtZVBhdGgoZGVwZW5kZW5jeSk7XG4gICAgICAgIGRlcGVuZGVuY2llczJmaWVsZHMudXBkYXRlKGRlcGVuZGVuY3lOYW1lUGF0aCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBmaWVsZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5ldyBTZXQoKTtcbiAgICAgICAgICBmaWVsZHMuYWRkKGZpZWxkKTtcbiAgICAgICAgICByZXR1cm4gZmllbGRzO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIGZpbGxDaGlsZHJlbiA9IGZ1bmN0aW9uIGZpbGxDaGlsZHJlbihuYW1lUGF0aCkge1xuICAgICAgdmFyIGZpZWxkcyA9IGRlcGVuZGVuY2llczJmaWVsZHMuZ2V0KG5hbWVQYXRoKSB8fCBuZXcgU2V0KCk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgaWYgKCFjaGlsZHJlbi5oYXMoZmllbGQpKSB7XG4gICAgICAgICAgY2hpbGRyZW4uYWRkKGZpZWxkKTtcbiAgICAgICAgICB2YXIgZmllbGROYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgICBpZiAoZmllbGQuaXNGaWVsZERpcnR5KCkgJiYgZmllbGROYW1lUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuRmllbGRzLnB1c2goZmllbGROYW1lUGF0aCk7XG4gICAgICAgICAgICBmaWxsQ2hpbGRyZW4oZmllbGROYW1lUGF0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgZmlsbENoaWxkcmVuKHJvb3ROYW1lUGF0aCk7XG4gICAgcmV0dXJuIGNoaWxkcmVuRmllbGRzO1xuICB9O1xuXG4gIHRoaXMudHJpZ2dlck9uRmllbGRzQ2hhbmdlID0gZnVuY3Rpb24gKG5hbWVQYXRoTGlzdCwgZmlsZWRFcnJvcnMpIHtcbiAgICB2YXIgb25GaWVsZHNDaGFuZ2UgPSBfdGhpcy5jYWxsYmFja3Mub25GaWVsZHNDaGFuZ2U7XG5cbiAgICBpZiAob25GaWVsZHNDaGFuZ2UpIHtcbiAgICAgIHZhciBmaWVsZHMgPSBfdGhpcy5nZXRGaWVsZHMoKTtcbiAgICAgIC8qKlxuICAgICAgICogRmlsbCBlcnJvcnMgc2luY2UgYGZpZWxkc2AgbWF5IGJlIHJlcGxhY2VkIGJ5IGNvbnRyb2xsZWQgZmllbGRzXG4gICAgICAgKi9cblxuXG4gICAgICBpZiAoZmlsZWRFcnJvcnMpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gbmV3IE5hbWVNYXAoKTtcbiAgICAgICAgZmlsZWRFcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYzLm5hbWUsXG4gICAgICAgICAgICAgIGVycm9ycyA9IF9yZWYzLmVycm9ycztcbiAgICAgICAgICBjYWNoZS5zZXQobmFtZSwgZXJyb3JzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgIGZpZWxkLmVycm9ycyA9IGNhY2hlLmdldChmaWVsZC5uYW1lKSB8fCBmaWVsZC5lcnJvcnM7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlZEZpZWxkcyA9IGZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSBfcmVmNC5uYW1lO1xuICAgICAgICByZXR1cm4gY29udGFpbnNOYW1lUGF0aChuYW1lUGF0aExpc3QsIGZpZWxkTmFtZSk7XG4gICAgICB9KTtcbiAgICAgIG9uRmllbGRzQ2hhbmdlKGNoYW5nZWRGaWVsZHMsIGZpZWxkcyk7XG4gICAgfVxuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gVmFsaWRhdGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB0aGlzLnZhbGlkYXRlRmllbGRzID0gZnVuY3Rpb24gKG5hbWVMaXN0LCBvcHRpb25zKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICB2YXIgcHJvdmlkZU5hbWVMaXN0ID0gISFuYW1lTGlzdDtcbiAgICB2YXIgbmFtZVBhdGhMaXN0ID0gcHJvdmlkZU5hbWVMaXN0ID8gbmFtZUxpc3QubWFwKGdldE5hbWVQYXRoKSA6IFtdOyAvLyBDb2xsZWN0IHJlc3VsdCBpbiBwcm9taXNlIGxpc3RcblxuICAgIHZhciBwcm9taXNlTGlzdCA9IFtdO1xuXG4gICAgX3RoaXMuZ2V0RmllbGRFbnRpdGllcyh0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgLy8gQWRkIGZpZWxkIGlmIG5vdCBwcm92aWRlIGBuYW1lTGlzdGBcbiAgICAgIGlmICghcHJvdmlkZU5hbWVMaXN0KSB7XG4gICAgICAgIG5hbWVQYXRoTGlzdC5wdXNoKGZpZWxkLmdldE5hbWVQYXRoKCkpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZWN1cnNpdmUgdmFsaWRhdGUgaWYgY29uZmlndXJlZC5cbiAgICAgICAqIFRPRE86IHBlcmYgaW1wcm92ZW1lbnQgQHpvbWJpZUpcbiAgICAgICAqL1xuXG5cbiAgICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlY3Vyc2l2ZSkgJiYgcHJvdmlkZU5hbWVMaXN0KSB7XG4gICAgICAgIHZhciBuYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7XG5cbiAgICAgICAgaWYgKCAvLyBuYW1lTGlzdFtpXSA9PT0gdW5kZWZpbmVkIOivtOaYjuaYr+S7pSBuYW1lTGlzdCDlvIDlpLTnmoRcbiAgICAgICAgLy8gWyduYW1lJ10gLT4gWyduYW1lJywnbGlzdCddXG4gICAgICAgIG5hbWVQYXRoLmV2ZXJ5KGZ1bmN0aW9uIChuYW1lVW5pdCwgaSkge1xuICAgICAgICAgIHJldHVybiBuYW1lTGlzdFtpXSA9PT0gbmFtZVVuaXQgfHwgbmFtZUxpc3RbaV0gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBuYW1lUGF0aExpc3QucHVzaChuYW1lUGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gU2tpcCBpZiB3aXRob3V0IHJ1bGVcblxuXG4gICAgICBpZiAoIWZpZWxkLnByb3BzLnJ1bGVzIHx8ICFmaWVsZC5wcm9wcy5ydWxlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmllbGROYW1lUGF0aCA9IGZpZWxkLmdldE5hbWVQYXRoKCk7IC8vIEFkZCBmaWVsZCB2YWxpZGF0ZSBydWxlIGluIHRvIHByb21pc2UgbGlzdFxuXG4gICAgICBpZiAoIXByb3ZpZGVOYW1lTGlzdCB8fCBjb250YWluc05hbWVQYXRoKG5hbWVQYXRoTGlzdCwgZmllbGROYW1lUGF0aCkpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBmaWVsZC52YWxpZGF0ZVJ1bGVzKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIHZhbGlkYXRlTWVzc2FnZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdFZhbGlkYXRlTWVzc2FnZXMpLCBfdGhpcy52YWxpZGF0ZU1lc3NhZ2VzKVxuICAgICAgICB9LCBvcHRpb25zKSk7IC8vIFdyYXAgcHJvbWlzZSB3aXRoIGZpZWxkXG5cbiAgICAgICAgcHJvbWlzZUxpc3QucHVzaChwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBmaWVsZE5hbWVQYXRoLFxuICAgICAgICAgICAgZXJyb3JzOiBbXVxuICAgICAgICAgIH07XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgbmFtZTogZmllbGROYW1lUGF0aCxcbiAgICAgICAgICAgIGVycm9yczogZXJyb3JzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBzdW1tYXJ5UHJvbWlzZSA9IGFsbFByb21pc2VGaW5pc2gocHJvbWlzZUxpc3QpO1xuICAgIF90aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPSBzdW1tYXJ5UHJvbWlzZTsgLy8gTm90aWZ5IGZpZWxkcyB3aXRoIHJ1bGUgdGhhdCB2YWxpZGF0ZSBoYXMgZmluaXNoZWQgYW5kIG5lZWQgdXBkYXRlXG5cbiAgICBzdW1tYXJ5UHJvbWlzZS5jYXRjaChmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgdmFyIHJlc3VsdE5hbWVQYXRoTGlzdCA9IHJlc3VsdHMubWFwKGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgbmFtZSA9IF9yZWY1Lm5hbWU7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLm5vdGlmeU9ic2VydmVycyhfdGhpcy5zdG9yZSwgcmVzdWx0TmFtZVBhdGhMaXN0LCB7XG4gICAgICAgIHR5cGU6ICd2YWxpZGF0ZUZpbmlzaCdcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy50cmlnZ2VyT25GaWVsZHNDaGFuZ2UocmVzdWx0TmFtZVBhdGhMaXN0LCByZXN1bHRzKTtcbiAgICB9KTtcbiAgICB2YXIgcmV0dXJuUHJvbWlzZSA9IHN1bW1hcnlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmxhc3RWYWxpZGF0ZVByb21pc2UgPT09IHN1bW1hcnlQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3RoaXMuZ2V0RmllbGRzVmFsdWUobmFtZVBhdGhMaXN0KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChbXSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIHZhciBlcnJvckxpc3QgPSByZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGg7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh7XG4gICAgICAgIHZhbHVlczogX3RoaXMuZ2V0RmllbGRzVmFsdWUobmFtZVBhdGhMaXN0KSxcbiAgICAgICAgZXJyb3JGaWVsZHM6IGVycm9yTGlzdCxcbiAgICAgICAgb3V0T2ZEYXRlOiBfdGhpcy5sYXN0VmFsaWRhdGVQcm9taXNlICE9PSBzdW1tYXJ5UHJvbWlzZVxuICAgICAgfSk7XG4gICAgfSk7IC8vIERvIG5vdCB0aHJvdyBpbiBjb25zb2xlXG5cbiAgICByZXR1cm5Qcm9taXNlLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgfTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTdWJtaXQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdGhpcy5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMud2FybmluZ1VuaG9va2VkKCk7XG5cbiAgICBfdGhpcy52YWxpZGF0ZUZpZWxkcygpLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgdmFyIG9uRmluaXNoID0gX3RoaXMuY2FsbGJhY2tzLm9uRmluaXNoO1xuXG4gICAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvbkZpbmlzaCh2YWx1ZXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBTaG91bGQgcHJpbnQgZXJyb3IgaWYgdXNlciBgb25GaW5pc2hgIGNhbGxiYWNrIGZhaWxlZFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgb25GaW5pc2hGYWlsZWQgPSBfdGhpcy5jYWxsYmFja3Mub25GaW5pc2hGYWlsZWQ7XG5cbiAgICAgIGlmIChvbkZpbmlzaEZhaWxlZCkge1xuICAgICAgICBvbkZpbmlzaEZhaWxlZChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmZvcmNlUm9vdFVwZGF0ZSA9IGZvcmNlUm9vdFVwZGF0ZTtcbn07XG5cbmZ1bmN0aW9uIHVzZUZvcm0oZm9ybSkge1xuICB2YXIgZm9ybVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGZvcmNlVXBkYXRlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICBpZiAoIWZvcm1SZWYuY3VycmVudCkge1xuICAgIGlmIChmb3JtKSB7XG4gICAgICBmb3JtUmVmLmN1cnJlbnQgPSBmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgRm9ybVN0b3JlIGlmIG5vdCBwcm92aWRlZFxuICAgICAgdmFyIGZvcmNlUmVSZW5kZXIgPSBmdW5jdGlvbiBmb3JjZVJlUmVuZGVyKCkge1xuICAgICAgICBmb3JjZVVwZGF0ZSh7fSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZm9ybVN0b3JlID0gbmV3IEZvcm1TdG9yZShmb3JjZVJlUmVuZGVyKTtcbiAgICAgIGZvcm1SZWYuY3VycmVudCA9IGZvcm1TdG9yZS5nZXRGb3JtKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtmb3JtUmVmLmN1cnJlbnRdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VGb3JtOyIsImV4cG9ydCBmdW5jdGlvbiBhbGxQcm9taXNlRmluaXNoKHByb21pc2VMaXN0KSB7XG4gIHZhciBoYXNFcnJvciA9IGZhbHNlO1xuICB2YXIgY291bnQgPSBwcm9taXNlTGlzdC5sZW5ndGg7XG4gIHZhciByZXN1bHRzID0gW107XG5cbiAgaWYgKCFwcm9taXNlTGlzdC5sZW5ndGgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcHJvbWlzZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAocHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBjb3VudCAtPSAxO1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHJlc3VsdDtcblxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHJlc3VsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBGb3JtQ29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgdHJpZ2dlckZvcm1DaGFuZ2U6IGZ1bmN0aW9uIHRyaWdnZXJGb3JtQ2hhbmdlKCkge30sXG4gIHRyaWdnZXJGb3JtRmluaXNoOiBmdW5jdGlvbiB0cmlnZ2VyRm9ybUZpbmlzaCgpIHt9LFxuICByZWdpc3RlckZvcm06IGZ1bmN0aW9uIHJlZ2lzdGVyRm9ybSgpIHt9LFxuICB1bnJlZ2lzdGVyRm9ybTogZnVuY3Rpb24gdW5yZWdpc3RlckZvcm0oKSB7fVxufSk7XG5cbnZhciBGb3JtUHJvdmlkZXIgPSBmdW5jdGlvbiBGb3JtUHJvdmlkZXIoX3JlZikge1xuICB2YXIgdmFsaWRhdGVNZXNzYWdlcyA9IF9yZWYudmFsaWRhdGVNZXNzYWdlcyxcbiAgICAgIG9uRm9ybUNoYW5nZSA9IF9yZWYub25Gb3JtQ2hhbmdlLFxuICAgICAgb25Gb3JtRmluaXNoID0gX3JlZi5vbkZvcm1GaW5pc2gsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBmb3JtQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuICB2YXIgZm9ybXNSZWYgPSBSZWFjdC51c2VSZWYoe30pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmb3JtQ29udGV4dCksIHt9LCB7XG4gICAgICB2YWxpZGF0ZU1lc3NhZ2VzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGZvcm1Db250ZXh0LnZhbGlkYXRlTWVzc2FnZXMpLCB2YWxpZGF0ZU1lc3NhZ2VzKSxcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgLy8gPSAgICAgICAgICAgICAgICAgIEdsb2JhbCBGb3JtIENvbnRyb2wgICAgICAgICAgICAgICAgICA9XG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIHRyaWdnZXJGb3JtQ2hhbmdlOiBmdW5jdGlvbiB0cmlnZ2VyRm9ybUNoYW5nZShuYW1lLCBjaGFuZ2VkRmllbGRzKSB7XG4gICAgICAgIGlmIChvbkZvcm1DaGFuZ2UpIHtcbiAgICAgICAgICBvbkZvcm1DaGFuZ2UobmFtZSwge1xuICAgICAgICAgICAgY2hhbmdlZEZpZWxkczogY2hhbmdlZEZpZWxkcyxcbiAgICAgICAgICAgIGZvcm1zOiBmb3Jtc1JlZi5jdXJyZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtQ29udGV4dC50cmlnZ2VyRm9ybUNoYW5nZShuYW1lLCBjaGFuZ2VkRmllbGRzKTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyRm9ybUZpbmlzaDogZnVuY3Rpb24gdHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKSB7XG4gICAgICAgIGlmIChvbkZvcm1GaW5pc2gpIHtcbiAgICAgICAgICBvbkZvcm1GaW5pc2gobmFtZSwge1xuICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgICAgICBmb3JtczogZm9ybXNSZWYuY3VycmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybUNvbnRleHQudHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKTtcbiAgICAgIH0sXG4gICAgICByZWdpc3RlckZvcm06IGZ1bmN0aW9uIHJlZ2lzdGVyRm9ybShuYW1lLCBmb3JtKSB7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgZm9ybXNSZWYuY3VycmVudCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybXNSZWYuY3VycmVudCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIGZvcm0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1Db250ZXh0LnJlZ2lzdGVyRm9ybShuYW1lLCBmb3JtKTtcbiAgICAgIH0sXG4gICAgICB1bnJlZ2lzdGVyRm9ybTogZnVuY3Rpb24gdW5yZWdpc3RlckZvcm0obmFtZSkge1xuICAgICAgICB2YXIgbmV3Rm9ybXMgPSBfb2JqZWN0U3ByZWFkKHt9LCBmb3Jtc1JlZi5jdXJyZW50KTtcblxuICAgICAgICBkZWxldGUgbmV3Rm9ybXNbbmFtZV07XG4gICAgICAgIGZvcm1zUmVmLmN1cnJlbnQgPSBuZXdGb3JtcztcbiAgICAgICAgZm9ybUNvbnRleHQudW5yZWdpc3RlckZvcm0obmFtZSk7XG4gICAgICB9XG4gICAgfSlcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuZXhwb3J0IHsgRm9ybVByb3ZpZGVyIH07XG5leHBvcnQgZGVmYXVsdCBGb3JtQ29udGV4dDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlRm9ybSBmcm9tICcuL3VzZUZvcm0nO1xuaW1wb3J0IEZpZWxkQ29udGV4dCwgeyBIT09LX01BUksgfSBmcm9tICcuL0ZpZWxkQ29udGV4dCc7XG5pbXBvcnQgRm9ybUNvbnRleHQgZnJvbSAnLi9Gb3JtQ29udGV4dCc7XG5pbXBvcnQgeyBpc1NpbWlsYXIgfSBmcm9tICcuL3V0aWxzL3ZhbHVlVXRpbCc7XG5cbnZhciBGb3JtID0gZnVuY3Rpb24gRm9ybShfcmVmLCByZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBpbml0aWFsVmFsdWVzID0gX3JlZi5pbml0aWFsVmFsdWVzLFxuICAgICAgZmllbGRzID0gX3JlZi5maWVsZHMsXG4gICAgICBmb3JtID0gX3JlZi5mb3JtLFxuICAgICAgcHJlc2VydmUgPSBfcmVmLnByZXNlcnZlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiRjb21wb25lbnQgPSBfcmVmLmNvbXBvbmVudCxcbiAgICAgIENvbXBvbmVudCA9IF9yZWYkY29tcG9uZW50ID09PSB2b2lkIDAgPyAnZm9ybScgOiBfcmVmJGNvbXBvbmVudCxcbiAgICAgIHZhbGlkYXRlTWVzc2FnZXMgPSBfcmVmLnZhbGlkYXRlTWVzc2FnZXMsXG4gICAgICBfcmVmJHZhbGlkYXRlVHJpZ2dlciA9IF9yZWYudmFsaWRhdGVUcmlnZ2VyLFxuICAgICAgdmFsaWRhdGVUcmlnZ2VyID0gX3JlZiR2YWxpZGF0ZVRyaWdnZXIgPT09IHZvaWQgMCA/ICdvbkNoYW5nZScgOiBfcmVmJHZhbGlkYXRlVHJpZ2dlcixcbiAgICAgIG9uVmFsdWVzQ2hhbmdlID0gX3JlZi5vblZhbHVlc0NoYW5nZSxcbiAgICAgIF9vbkZpZWxkc0NoYW5nZSA9IF9yZWYub25GaWVsZHNDaGFuZ2UsXG4gICAgICBfb25GaW5pc2ggPSBfcmVmLm9uRmluaXNoLFxuICAgICAgb25GaW5pc2hGYWlsZWQgPSBfcmVmLm9uRmluaXNoRmFpbGVkLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcIm5hbWVcIiwgXCJpbml0aWFsVmFsdWVzXCIsIFwiZmllbGRzXCIsIFwiZm9ybVwiLCBcInByZXNlcnZlXCIsIFwiY2hpbGRyZW5cIiwgXCJjb21wb25lbnRcIiwgXCJ2YWxpZGF0ZU1lc3NhZ2VzXCIsIFwidmFsaWRhdGVUcmlnZ2VyXCIsIFwib25WYWx1ZXNDaGFuZ2VcIiwgXCJvbkZpZWxkc0NoYW5nZVwiLCBcIm9uRmluaXNoXCIsIFwib25GaW5pc2hGYWlsZWRcIl0pO1xuXG4gIHZhciBmb3JtQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRm9ybUNvbnRleHQpOyAvLyBXZSBjdXN0b21pemUgaGFuZGxlIGV2ZW50IHNpbmNlIENvbnRleHQgd2lsbCBtYWtlcyBhbGwgdGhlIGNvbnN1bWVyIHJlLXJlbmRlcjpcbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0cHJvdmlkZXJcblxuICB2YXIgX3VzZUZvcm0gPSB1c2VGb3JtKGZvcm0pLFxuICAgICAgX3VzZUZvcm0yID0gX3NsaWNlZFRvQXJyYXkoX3VzZUZvcm0sIDEpLFxuICAgICAgZm9ybUluc3RhbmNlID0gX3VzZUZvcm0yWzBdO1xuXG4gIHZhciBfZm9ybUluc3RhbmNlJGdldEludGUgPSBmb3JtSW5zdGFuY2UuZ2V0SW50ZXJuYWxIb29rcyhIT09LX01BUkspLFxuICAgICAgdXNlU3Vic2NyaWJlID0gX2Zvcm1JbnN0YW5jZSRnZXRJbnRlLnVzZVN1YnNjcmliZSxcbiAgICAgIHNldEluaXRpYWxWYWx1ZXMgPSBfZm9ybUluc3RhbmNlJGdldEludGUuc2V0SW5pdGlhbFZhbHVlcyxcbiAgICAgIHNldENhbGxiYWNrcyA9IF9mb3JtSW5zdGFuY2UkZ2V0SW50ZS5zZXRDYWxsYmFja3MsXG4gICAgICBzZXRWYWxpZGF0ZU1lc3NhZ2VzID0gX2Zvcm1JbnN0YW5jZSRnZXRJbnRlLnNldFZhbGlkYXRlTWVzc2FnZXMsXG4gICAgICBzZXRQcmVzZXJ2ZSA9IF9mb3JtSW5zdGFuY2UkZ2V0SW50ZS5zZXRQcmVzZXJ2ZTsgLy8gUGFzcyByZWYgd2l0aCBmb3JtIGluc3RhbmNlXG5cblxuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmb3JtSW5zdGFuY2U7XG4gIH0pOyAvLyBSZWdpc3RlciBmb3JtIGludG8gQ29udGV4dFxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZm9ybUNvbnRleHQucmVnaXN0ZXJGb3JtKG5hbWUsIGZvcm1JbnN0YW5jZSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvcm1Db250ZXh0LnVucmVnaXN0ZXJGb3JtKG5hbWUpO1xuICAgIH07XG4gIH0sIFtmb3JtQ29udGV4dCwgZm9ybUluc3RhbmNlLCBuYW1lXSk7IC8vIFBhc3MgcHJvcHMgdG8gc3RvcmVcblxuICBzZXRWYWxpZGF0ZU1lc3NhZ2VzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybUNvbnRleHQudmFsaWRhdGVNZXNzYWdlcyksIHZhbGlkYXRlTWVzc2FnZXMpKTtcbiAgc2V0Q2FsbGJhY2tzKHtcbiAgICBvblZhbHVlc0NoYW5nZTogb25WYWx1ZXNDaGFuZ2UsXG4gICAgb25GaWVsZHNDaGFuZ2U6IGZ1bmN0aW9uIG9uRmllbGRzQ2hhbmdlKGNoYW5nZWRGaWVsZHMpIHtcbiAgICAgIGZvcm1Db250ZXh0LnRyaWdnZXJGb3JtQ2hhbmdlKG5hbWUsIGNoYW5nZWRGaWVsZHMpO1xuXG4gICAgICBpZiAoX29uRmllbGRzQ2hhbmdlKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICByZXN0W19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vbkZpZWxkc0NoYW5nZS5hcHBseSh2b2lkIDAsIFtjaGFuZ2VkRmllbGRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25GaW5pc2g6IGZ1bmN0aW9uIG9uRmluaXNoKHZhbHVlcykge1xuICAgICAgZm9ybUNvbnRleHQudHJpZ2dlckZvcm1GaW5pc2gobmFtZSwgdmFsdWVzKTtcblxuICAgICAgaWYgKF9vbkZpbmlzaCkge1xuICAgICAgICBfb25GaW5pc2godmFsdWVzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRmluaXNoRmFpbGVkOiBvbkZpbmlzaEZhaWxlZFxuICB9KTtcbiAgc2V0UHJlc2VydmUocHJlc2VydmUpOyAvLyBTZXQgaW5pdGlhbCB2YWx1ZSwgaW5pdCBzdG9yZSB2YWx1ZSB3aGVuIGZpcnN0IG1vdW50XG5cbiAgdmFyIG1vdW50UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBzZXRJbml0aWFsVmFsdWVzKGluaXRpYWxWYWx1ZXMsICFtb3VudFJlZi5jdXJyZW50KTtcblxuICBpZiAoIW1vdW50UmVmLmN1cnJlbnQpIHtcbiAgICBtb3VudFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSAvLyBQcmVwYXJlIGNoaWxkcmVuIGJ5IGBjaGlsZHJlbmAgdHlwZVxuXG5cbiAgdmFyIGNoaWxkcmVuTm9kZSA9IGNoaWxkcmVuO1xuICB2YXIgY2hpbGRyZW5SZW5kZXJQcm9wcyA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJztcblxuICBpZiAoY2hpbGRyZW5SZW5kZXJQcm9wcykge1xuICAgIHZhciB2YWx1ZXMgPSBmb3JtSW5zdGFuY2UuZ2V0RmllbGRzVmFsdWUodHJ1ZSk7XG4gICAgY2hpbGRyZW5Ob2RlID0gY2hpbGRyZW4odmFsdWVzLCBmb3JtSW5zdGFuY2UpO1xuICB9IC8vIE5vdCB1c2Ugc3Vic2NyaWJlIHdoZW4gdXNpbmcgcmVuZGVyIHByb3BzXG5cblxuICB1c2VTdWJzY3JpYmUoIWNoaWxkcmVuUmVuZGVyUHJvcHMpOyAvLyBMaXN0ZW4gaWYgZmllbGRzIHByb3ZpZGVkLiBXZSB1c2UgcmVmIHRvIHNhdmUgcHJldiBkYXRhIGhlcmUgdG8gYXZvaWQgYWRkaXRpb25hbCByZW5kZXJcblxuICB2YXIgcHJldkZpZWxkc1JlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNTaW1pbGFyKHByZXZGaWVsZHNSZWYuY3VycmVudCB8fCBbXSwgZmllbGRzIHx8IFtdKSkge1xuICAgICAgZm9ybUluc3RhbmNlLnNldEZpZWxkcyhmaWVsZHMgfHwgW10pO1xuICAgIH1cblxuICAgIHByZXZGaWVsZHNSZWYuY3VycmVudCA9IGZpZWxkcztcbiAgfSwgW2ZpZWxkcywgZm9ybUluc3RhbmNlXSk7XG4gIHZhciBmb3JtQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZm9ybUluc3RhbmNlKSwge30sIHtcbiAgICAgIHZhbGlkYXRlVHJpZ2dlcjogdmFsaWRhdGVUcmlnZ2VyXG4gICAgfSk7XG4gIH0sIFtmb3JtSW5zdGFuY2UsIHZhbGlkYXRlVHJpZ2dlcl0pO1xuICB2YXIgd3JhcHBlck5vZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGaWVsZENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogZm9ybUNvbnRleHRWYWx1ZVxuICB9LCBjaGlsZHJlbk5vZGUpO1xuXG4gIGlmIChDb21wb25lbnQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHdyYXBwZXJOb2RlO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywge1xuICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZm9ybUluc3RhbmNlLnN1Ym1pdCgpO1xuICAgIH0sXG4gICAgb25SZXNldDogZnVuY3Rpb24gb25SZXNldChldmVudCkge1xuICAgICAgdmFyIF9yZXN0UHJvcHMkb25SZXNldDtcblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZvcm1JbnN0YW5jZS5yZXNldEZpZWxkcygpO1xuICAgICAgKF9yZXN0UHJvcHMkb25SZXNldCA9IHJlc3RQcm9wcy5vblJlc2V0KSA9PT0gbnVsbCB8fCBfcmVzdFByb3BzJG9uUmVzZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXN0UHJvcHMkb25SZXNldC5jYWxsKHJlc3RQcm9wcywgZXZlbnQpO1xuICAgIH1cbiAgfSksIHdyYXBwZXJOb2RlKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9MaXN0JztcbmltcG9ydCB1c2VGb3JtIGZyb20gJy4vdXNlRm9ybSc7XG5pbXBvcnQgRmllbGRGb3JtIGZyb20gJy4vRm9ybSc7XG5pbXBvcnQgeyBGb3JtUHJvdmlkZXIgfSBmcm9tICcuL0Zvcm1Db250ZXh0JztcbnZhciBJbnRlcm5hbEZvcm0gPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihGaWVsZEZvcm0pO1xudmFyIFJlZkZvcm0gPSBJbnRlcm5hbEZvcm07XG5SZWZGb3JtLkZvcm1Qcm92aWRlciA9IEZvcm1Qcm92aWRlcjtcblJlZkZvcm0uRmllbGQgPSBGaWVsZDtcblJlZkZvcm0uTGlzdCA9IExpc3Q7XG5SZWZGb3JtLnVzZUZvcm0gPSB1c2VGb3JtO1xuZXhwb3J0IHsgRmllbGQsIExpc3QsIHVzZUZvcm0sIEZvcm1Qcm92aWRlciB9O1xuZXhwb3J0IGRlZmF1bHQgUmVmRm9ybTsiLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbmltcG9ydCBGaWVsZENvbnRleHQgZnJvbSAnLi9GaWVsZENvbnRleHQnO1xuaW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQnO1xuaW1wb3J0IHsgbW92ZSBhcyBfbW92ZSwgZ2V0TmFtZVBhdGggfSBmcm9tICcuL3V0aWxzL3ZhbHVlVXRpbCc7XG5cbnZhciBMaXN0ID0gZnVuY3Rpb24gTGlzdChfcmVmKSB7XG4gIHZhciBuYW1lID0gX3JlZi5uYW1lLFxuICAgICAgaW5pdGlhbFZhbHVlID0gX3JlZi5pbml0aWFsVmFsdWUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBydWxlcyA9IF9yZWYucnVsZXMsXG4gICAgICB2YWxpZGF0ZVRyaWdnZXIgPSBfcmVmLnZhbGlkYXRlVHJpZ2dlcjtcbiAgdmFyIGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEZpZWxkQ29udGV4dCk7XG4gIHZhciBrZXlSZWYgPSBSZWFjdC51c2VSZWYoe1xuICAgIGtleXM6IFtdLFxuICAgIGlkOiAwXG4gIH0pO1xuICB2YXIga2V5TWFuYWdlciA9IGtleVJlZi5jdXJyZW50OyAvLyBVc2VyIHNob3VsZCBub3QgcGFzcyBgY2hpbGRyZW5gIGFzIG90aGVyIHR5cGUuXG5cbiAgaWYgKHR5cGVvZiBjaGlsZHJlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdGb3JtLkxpc3Qgb25seSBhY2NlcHRzIGZ1bmN0aW9uIGFzIGNoaWxkcmVuLicpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHBhcmVudFByZWZpeE5hbWUgPSBnZXROYW1lUGF0aChjb250ZXh0LnByZWZpeE5hbWUpIHx8IFtdO1xuICB2YXIgcHJlZml4TmFtZSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGFyZW50UHJlZml4TmFtZSksIF90b0NvbnN1bWFibGVBcnJheShnZXROYW1lUGF0aChuYW1lKSkpO1xuXG4gIHZhciBzaG91bGRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRVcGRhdGUocHJldlZhbHVlLCBuZXh0VmFsdWUsIF9yZWYyKSB7XG4gICAgdmFyIHNvdXJjZSA9IF9yZWYyLnNvdXJjZTtcblxuICAgIGlmIChzb3VyY2UgPT09ICdpbnRlcm5hbCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldlZhbHVlICE9PSBuZXh0VmFsdWU7XG4gIH07XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbnRleHQpLCB7fSwge1xuICAgICAgcHJlZml4TmFtZTogcHJlZml4TmFtZVxuICAgIH0pXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZpZWxkLCB7XG4gICAgbmFtZTogW10sXG4gICAgc2hvdWxkVXBkYXRlOiBzaG91bGRVcGRhdGUsXG4gICAgcnVsZXM6IHJ1bGVzLFxuICAgIHZhbGlkYXRlVHJpZ2dlcjogdmFsaWRhdGVUcmlnZ2VyLFxuICAgIGluaXRpYWxWYWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgIGlzTGlzdDogdHJ1ZVxuICB9LCBmdW5jdGlvbiAoX3JlZjMsIG1ldGEpIHtcbiAgICB2YXIgX3JlZjMkdmFsdWUgPSBfcmVmMy52YWx1ZSxcbiAgICAgICAgdmFsdWUgPSBfcmVmMyR2YWx1ZSA9PT0gdm9pZCAwID8gW10gOiBfcmVmMyR2YWx1ZSxcbiAgICAgICAgb25DaGFuZ2UgPSBfcmVmMy5vbkNoYW5nZTtcbiAgICB2YXIgZ2V0RmllbGRWYWx1ZSA9IGNvbnRleHQuZ2V0RmllbGRWYWx1ZTtcblxuICAgIHZhciBnZXROZXdWYWx1ZSA9IGZ1bmN0aW9uIGdldE5ld1ZhbHVlKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IGdldEZpZWxkVmFsdWUocHJlZml4TmFtZSB8fCBbXSk7XG4gICAgICByZXR1cm4gdmFsdWVzIHx8IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWx3YXlzIGdldCBsYXRlc3QgdmFsdWUgaW4gY2FzZSB1c2VyIHVwZGF0ZSBmaWVsZHMgYnkgYGZvcm1gIGFwaS5cbiAgICAgKi9cblxuXG4gICAgdmFyIG9wZXJhdGlvbnMgPSB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChkZWZhdWx0VmFsdWUsIGluZGV4KSB7XG4gICAgICAgIC8vIE1hcHBpbmcga2V5c1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBnZXROZXdWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDw9IG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIGtleU1hbmFnZXIua2V5cyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoa2V5TWFuYWdlci5rZXlzLnNsaWNlKDAsIGluZGV4KSksIFtrZXlNYW5hZ2VyLmlkXSwgX3RvQ29uc3VtYWJsZUFycmF5KGtleU1hbmFnZXIua2V5cy5zbGljZShpbmRleCkpKTtcbiAgICAgICAgICBvbkNoYW5nZShbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KG5ld1ZhbHVlLnNsaWNlKDAsIGluZGV4KSksIFtkZWZhdWx0VmFsdWVdLCBfdG9Db25zdW1hYmxlQXJyYXkobmV3VmFsdWUuc2xpY2UoaW5kZXgpKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChpbmRleCA8IDAgfHwgaW5kZXggPiBuZXdWYWx1ZS5sZW5ndGgpKSB7XG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgdGhlIGFkZCBmdW5jdGlvbiBzaG91bGQgYmUgYSB2YWxpZCBwb3NpdGl2ZSBudW1iZXIuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAga2V5TWFuYWdlci5rZXlzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShrZXlNYW5hZ2VyLmtleXMpLCBba2V5TWFuYWdlci5pZF0pO1xuICAgICAgICAgIG9uQ2hhbmdlKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3VmFsdWUpLCBbZGVmYXVsdFZhbHVlXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5TWFuYWdlci5pZCArPSAxO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGluZGV4KSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGdldE5ld1ZhbHVlKCk7XG4gICAgICAgIHZhciBpbmRleFNldCA9IG5ldyBTZXQoQXJyYXkuaXNBcnJheShpbmRleCkgPyBpbmRleCA6IFtpbmRleF0pO1xuXG4gICAgICAgIGlmIChpbmRleFNldC5zaXplIDw9IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBrZXlNYW5hZ2VyLmtleXMgPSBrZXlNYW5hZ2VyLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBrZXlzSW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gIWluZGV4U2V0LmhhcyhrZXlzSW5kZXgpO1xuICAgICAgICB9KTsgLy8gVHJpZ2dlciBzdG9yZSBjaGFuZ2VcblxuICAgICAgICBvbkNoYW5nZShuZXdWYWx1ZS5maWx0ZXIoZnVuY3Rpb24gKF8sIHZhbHVlSW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gIWluZGV4U2V0Lmhhcyh2YWx1ZUluZGV4KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gZ2V0TmV3VmFsdWUoKTsgLy8gRG8gbm90IGhhbmRsZSBvdXQgb2YgcmFuZ2VcblxuICAgICAgICBpZiAoZnJvbSA8IDAgfHwgZnJvbSA+PSBuZXdWYWx1ZS5sZW5ndGggfHwgdG8gPCAwIHx8IHRvID49IG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleU1hbmFnZXIua2V5cyA9IF9tb3ZlKGtleU1hbmFnZXIua2V5cywgZnJvbSwgdG8pOyAvLyBUcmlnZ2VyIHN0b3JlIGNoYW5nZVxuXG4gICAgICAgIG9uQ2hhbmdlKF9tb3ZlKG5ld1ZhbHVlLCBmcm9tLCB0bykpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGxpc3RWYWx1ZSA9IHZhbHVlIHx8IFtdO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3RWYWx1ZSkpIHtcbiAgICAgIGxpc3RWYWx1ZSA9IFtdO1xuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIkN1cnJlbnQgdmFsdWUgb2YgJ1wiLmNvbmNhdChwcmVmaXhOYW1lLmpvaW4oJyA+ICcpLCBcIicgaXMgbm90IGFuIGFycmF5IHR5cGUuXCIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW4obGlzdFZhbHVlLm1hcChmdW5jdGlvbiAoX18sIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0ga2V5TWFuYWdlci5rZXlzW2luZGV4XTtcblxuICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleU1hbmFnZXIua2V5c1tpbmRleF0gPSBrZXlNYW5hZ2VyLmlkO1xuICAgICAgICBrZXkgPSBrZXlNYW5hZ2VyLmtleXNbaW5kZXhdO1xuICAgICAgICBrZXlNYW5hZ2VyLmlkICs9IDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGluZGV4LFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaXNMaXN0RmllbGQ6IHRydWVcbiAgICAgIH07XG4gICAgfSksIG9wZXJhdGlvbnMsIG1ldGEpO1xuICB9KSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0OyIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZU1lbW8gZnJvbSBcInJjLXV0aWwvZXMvaG9va3MvdXNlTWVtb1wiO1xuaW1wb3J0IHNoYWxsb3dFcXVhbCBmcm9tICdzaGFsbG93ZXF1YWwnO1xuZXhwb3J0IHZhciBNZW51Q29udGV4dCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuXG5mdW5jdGlvbiBtZXJnZVByb3BzKG9yaWdpbiwgdGFyZ2V0KSB7XG4gIHZhciBjbG9uZSA9IF9vYmplY3RTcHJlYWQoe30sIG9yaWdpbik7XG5cbiAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSB0YXJnZXRba2V5XTtcblxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbG9uZVtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmhlcml0YWJsZUNvbnRleHRQcm92aWRlcihfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBsb2NrZWQgPSBfcmVmLmxvY2tlZCxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjaGlsZHJlblwiLCBcImxvY2tlZFwiXSk7XG5cbiAgdmFyIGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KE1lbnVDb250ZXh0KTtcbiAgdmFyIGluaGVyaXRhYmxlQ29udGV4dCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBtZXJnZVByb3BzKGNvbnRleHQsIHJlc3RQcm9wcyk7XG4gIH0sIFtjb250ZXh0LCByZXN0UHJvcHNdLCBmdW5jdGlvbiAocHJldiwgbmV4dCkge1xuICAgIHJldHVybiAhbG9ja2VkICYmIChwcmV2WzBdICE9PSBuZXh0WzBdIHx8ICFzaGFsbG93RXF1YWwocHJldlsxXSwgbmV4dFsxXSkpO1xuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGluaGVyaXRhYmxlQ29udGV4dFxuICB9LCBjaGlsZHJlbik7XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTWVudUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01lbnVDb250ZXh0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUFjdGl2ZShldmVudEtleSwgZGlzYWJsZWQsIG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlKSB7XG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgYWN0aXZlS2V5ID0gX1JlYWN0JHVzZUNvbnRleHQuYWN0aXZlS2V5LFxuICAgICAgb25BY3RpdmUgPSBfUmVhY3QkdXNlQ29udGV4dC5vbkFjdGl2ZSxcbiAgICAgIG9uSW5hY3RpdmUgPSBfUmVhY3QkdXNlQ29udGV4dC5vbkluYWN0aXZlO1xuXG4gIHZhciByZXQgPSB7XG4gICAgYWN0aXZlOiBhY3RpdmVLZXkgPT09IGV2ZW50S2V5XG4gIH07IC8vIFNraXAgd2hlbiBkaXNhYmxlZFxuXG4gIGlmICghZGlzYWJsZWQpIHtcbiAgICByZXQub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKGRvbUV2ZW50KSB7XG4gICAgICBvbk1vdXNlRW50ZXIgPT09IG51bGwgfHwgb25Nb3VzZUVudGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk1vdXNlRW50ZXIoe1xuICAgICAgICBrZXk6IGV2ZW50S2V5LFxuICAgICAgICBkb21FdmVudDogZG9tRXZlbnRcbiAgICAgIH0pO1xuICAgICAgb25BY3RpdmUoZXZlbnRLZXkpO1xuICAgIH07XG5cbiAgICByZXQub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKGRvbUV2ZW50KSB7XG4gICAgICBvbk1vdXNlTGVhdmUgPT09IG51bGwgfHwgb25Nb3VzZUxlYXZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk1vdXNlTGVhdmUoe1xuICAgICAgICBrZXk6IGV2ZW50S2V5LFxuICAgICAgICBkb21FdmVudDogZG9tRXZlbnRcbiAgICAgIH0pO1xuICAgICAgb25JbmFjdGl2ZShldmVudEtleSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCB3YXJuaW5nIGZyb20gXCJyYy11dGlsL2VzL3dhcm5pbmdcIjtcbi8qKlxuICogYG9uQ2xpY2tgIGV2ZW50IHJldHVybiBgaW5mby5pdGVtYCB3aGljaCBwb2ludCB0byByZWFjdCBub2RlIGRpcmVjdGx5LlxuICogV2Ugc2hvdWxkIHdhcm5pbmcgdGhpcyBzaW5jZSBpdCB3aWxsIG5vdCB3b3JrIG9uIEZDLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuSXRlbVByb3AoX3JlZikge1xuICB2YXIgaXRlbSA9IF9yZWYuaXRlbSxcbiAgICAgIHJlc3RJbmZvID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcIml0ZW1cIl0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXN0SW5mbywgJ2l0ZW0nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnYGluZm8uaXRlbWAgaXMgZGVwcmVjYXRlZCBzaW5jZSB3ZSB3aWxsIG1vdmUgdG8gZnVuY3Rpb24gY29tcG9uZW50IHRoYXQgbm90IHByb3ZpZGVzIFJlYWN0IE5vZGUgaW5zdGFuY2UgaW4gZnV0dXJlLicpO1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3RJbmZvO1xufSIsImltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJY29uKF9yZWYpIHtcbiAgdmFyIGljb24gPSBfcmVmLmljb24sXG4gICAgICBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBpY29uTm9kZTtcblxuICBpZiAodHlwZW9mIGljb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpY29uTm9kZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGljb24sIF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29tcGF0aWJsZSBmb3Igb3JpZ2luIGRlZmluaXRpb25cbiAgICBpY29uTm9kZSA9IGljb247XG4gIH1cblxuICByZXR1cm4gaWNvbk5vZGUgfHwgY2hpbGRyZW4gfHwgbnVsbDtcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNZW51Q29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTWVudUNvbnRleHQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRGlyZWN0aW9uU3R5bGUobGV2ZWwpIHtcbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChNZW51Q29udGV4dCksXG4gICAgICBtb2RlID0gX1JlYWN0JHVzZUNvbnRleHQubW9kZSxcbiAgICAgIHJ0bCA9IF9SZWFjdCR1c2VDb250ZXh0LnJ0bCxcbiAgICAgIGlubGluZUluZGVudCA9IF9SZWFjdCR1c2VDb250ZXh0LmlubGluZUluZGVudDtcblxuICBpZiAobW9kZSAhPT0gJ2lubGluZScpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBsZW4gPSBsZXZlbDtcbiAgcmV0dXJuIHJ0bCA/IHtcbiAgICBwYWRkaW5nUmlnaHQ6IGxlbiAqIGlubGluZUluZGVudFxuICB9IDoge1xuICAgIHBhZGRpbmdMZWZ0OiBsZW4gKiBpbmxpbmVJbmRlbnRcbiAgfTtcbn0iLCJpbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xudmFyIEVtcHR5TGlzdCA9IFtdO1xuZXhwb3J0IHZhciBQYXRoUmVnaXN0ZXJDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5leHBvcnQgZnVuY3Rpb24gdXNlTWVhc3VyZSgpIHtcbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoUGF0aFJlZ2lzdGVyQ29udGV4dCk7XG59IC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gUGF0aCBUcmFja2VyID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCB2YXIgUGF0aFRyYWNrZXJDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQoRW1wdHlMaXN0KTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VGdWxsUGF0aChldmVudEtleSkge1xuICB2YXIgcGFyZW50S2V5UGF0aCA9IFJlYWN0LnVzZUNvbnRleHQoUGF0aFRyYWNrZXJDb250ZXh0KTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBldmVudEtleSAhPT0gdW5kZWZpbmVkID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJlbnRLZXlQYXRoKSwgW2V2ZW50S2V5XSkgOiBwYXJlbnRLZXlQYXRoO1xuICB9LCBbcGFyZW50S2V5UGF0aCwgZXZlbnRLZXldKTtcbn1cbmV4cG9ydCB2YXIgUGF0aFVzZXJDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBJZENvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZW51SWQodXVpZCwgZXZlbnRLZXkpIHtcbiAgaWYgKHV1aWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIFwiXCIuY29uY2F0KHV1aWQsIFwiLVwiKS5jb25jYXQoZXZlbnRLZXkpO1xufVxuLyoqXG4gKiBHZXQgYGRhdGEtbWVudS1pZGBcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVudUlkKGV2ZW50S2V5KSB7XG4gIHZhciBpZCA9IFJlYWN0LnVzZUNvbnRleHQoSWRDb250ZXh0KTtcbiAgcmV0dXJuIGdldE1lbnVJZChpZCwgZXZlbnRLZXkpO1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBPdmVyZmxvdyBmcm9tICdyYy1vdmVyZmxvdyc7XG5pbXBvcnQgd2FybmluZyBmcm9tIFwicmMtdXRpbC9lcy93YXJuaW5nXCI7XG5pbXBvcnQgS2V5Q29kZSBmcm9tIFwicmMtdXRpbC9lcy9LZXlDb2RlXCI7XG5pbXBvcnQgb21pdCBmcm9tIFwicmMtdXRpbC9lcy9vbWl0XCI7XG5pbXBvcnQgeyBNZW51Q29udGV4dCB9IGZyb20gJy4vY29udGV4dC9NZW51Q29udGV4dCc7XG5pbXBvcnQgdXNlQWN0aXZlIGZyb20gJy4vaG9va3MvdXNlQWN0aXZlJztcbmltcG9ydCB7IHdhcm5JdGVtUHJvcCB9IGZyb20gJy4vdXRpbHMvd2FyblV0aWwnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9JY29uJztcbmltcG9ydCB1c2VEaXJlY3Rpb25TdHlsZSBmcm9tICcuL2hvb2tzL3VzZURpcmVjdGlvblN0eWxlJztcbmltcG9ydCB7IHVzZUZ1bGxQYXRoLCB1c2VNZWFzdXJlIH0gZnJvbSAnLi9jb250ZXh0L1BhdGhDb250ZXh0JztcbmltcG9ydCB7IHVzZU1lbnVJZCB9IGZyb20gJy4vY29udGV4dC9JZENvbnRleHQnOyAvLyBTaW5jZSBNZW51IGV2ZW50IHByb3ZpZGUgdGhlIGBpbmZvLml0ZW1gIHdoaWNoIHBvaW50IHRvIHRoZSBNZW51SXRlbSBub2RlIGluc3RhbmNlLlxuLy8gV2UgaGF2ZSB0byB1c2UgY2xhc3MgY29tcG9uZW50IGhlcmUuXG4vLyBUaGlzIHNob3VsZCBiZSByZW1vdmVkIGZyb20gZG9jICYgYXBpIGluIGZ1dHVyZS5cblxudmFyIExlZ2FjeU1lbnVJdGVtID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMZWdhY3lNZW51SXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihMZWdhY3lNZW51SXRlbSk7XG5cbiAgZnVuY3Rpb24gTGVnYWN5TWVudUl0ZW0oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExlZ2FjeU1lbnVJdGVtKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMZWdhY3lNZW51SXRlbSwgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdGl0bGUgPSBfdGhpcyRwcm9wcy50aXRsZSxcbiAgICAgICAgICBhdHRyaWJ1dGUgPSBfdGhpcyRwcm9wcy5hdHRyaWJ1dGUsXG4gICAgICAgICAgZWxlbWVudFJlZiA9IF90aGlzJHByb3BzLmVsZW1lbnRSZWYsXG4gICAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJHByb3BzLCBbXCJ0aXRsZVwiLCBcImF0dHJpYnV0ZVwiLCBcImVsZW1lbnRSZWZcIl0pO1xuXG4gICAgICB2YXIgcGFzc2VkUHJvcHMgPSBvbWl0KHJlc3RQcm9wcywgWydldmVudEtleSddKTtcbiAgICAgIHdhcm5pbmcoIWF0dHJpYnV0ZSwgJ2BhdHRyaWJ1dGVgIG9mIE1lbnUuSXRlbSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgcGFzcyBhdHRyaWJ1dGUgZGlyZWN0bHkuJyk7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoT3ZlcmZsb3cuSXRlbSwgX2V4dGVuZHMoe30sIGF0dHJpYnV0ZSwge1xuICAgICAgICB0aXRsZTogdHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJyA/IHRpdGxlIDogdW5kZWZpbmVkXG4gICAgICB9LCBwYXNzZWRQcm9wcywge1xuICAgICAgICByZWY6IGVsZW1lbnRSZWZcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGVnYWN5TWVudUl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG4vKipcbiAqIFJlYWwgTWVudSBJdGVtIGNvbXBvbmVudFxuICovXG5cblxudmFyIEludGVybmFsTWVudUl0ZW0gPSBmdW5jdGlvbiBJbnRlcm5hbE1lbnVJdGVtKHByb3BzKSB7XG4gIHZhciBfY2xhc3NOYW1lcztcblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGV2ZW50S2V5ID0gcHJvcHMuZXZlbnRLZXksXG4gICAgICB3YXJuS2V5ID0gcHJvcHMud2FybktleSxcbiAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBpdGVtSWNvbiA9IHByb3BzLml0ZW1JY29uLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIHJvbGUgPSBwcm9wcy5yb2xlLFxuICAgICAgb25Nb3VzZUVudGVyID0gcHJvcHMub25Nb3VzZUVudGVyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gcHJvcHMub25Nb3VzZUxlYXZlLFxuICAgICAgb25DbGljayA9IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbktleURvd24gPSBwcm9wcy5vbktleURvd24sXG4gICAgICBvbkZvY3VzID0gcHJvcHMub25Gb2N1cyxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJldmVudEtleVwiLCBcIndhcm5LZXlcIiwgXCJkaXNhYmxlZFwiLCBcIml0ZW1JY29uXCIsIFwiY2hpbGRyZW5cIiwgXCJyb2xlXCIsIFwib25Nb3VzZUVudGVyXCIsIFwib25Nb3VzZUxlYXZlXCIsIFwib25DbGlja1wiLCBcIm9uS2V5RG93blwiLCBcIm9uRm9jdXNcIl0pO1xuXG4gIHZhciBkb21EYXRhSWQgPSB1c2VNZW51SWQoZXZlbnRLZXkpO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgcHJlZml4Q2xzID0gX1JlYWN0JHVzZUNvbnRleHQucHJlZml4Q2xzLFxuICAgICAgb25JdGVtQ2xpY2sgPSBfUmVhY3QkdXNlQ29udGV4dC5vbkl0ZW1DbGljayxcbiAgICAgIGNvbnRleHREaXNhYmxlZCA9IF9SZWFjdCR1c2VDb250ZXh0LmRpc2FibGVkLFxuICAgICAgb3ZlcmZsb3dEaXNhYmxlZCA9IF9SZWFjdCR1c2VDb250ZXh0Lm92ZXJmbG93RGlzYWJsZWQsXG4gICAgICBjb250ZXh0SXRlbUljb24gPSBfUmVhY3QkdXNlQ29udGV4dC5pdGVtSWNvbixcbiAgICAgIHNlbGVjdGVkS2V5cyA9IF9SZWFjdCR1c2VDb250ZXh0LnNlbGVjdGVkS2V5cyxcbiAgICAgIG9uQWN0aXZlID0gX1JlYWN0JHVzZUNvbnRleHQub25BY3RpdmU7XG5cbiAgdmFyIGl0ZW1DbHMgPSBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWl0ZW1cIik7XG4gIHZhciBsZWdhY3lNZW51SXRlbVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICB2YXIgbWVyZ2VkRGlzYWJsZWQgPSBjb250ZXh0RGlzYWJsZWQgfHwgZGlzYWJsZWQ7XG4gIHZhciBjb25uZWN0ZWRLZXlzID0gdXNlRnVsbFBhdGgoZXZlbnRLZXkpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBXYXJuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybktleSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdNZW51SXRlbSBzaG91bGQgbm90IGxlYXZlIHVuZGVmaW5lZCBga2V5YC4nKTtcbiAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJbmZvID09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgZ2V0RXZlbnRJbmZvID0gZnVuY3Rpb24gZ2V0RXZlbnRJbmZvKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5OiBldmVudEtleSxcbiAgICAgIC8vIE5vdGU6IEZvciBsZWdhY3kgY29kZSBpcyByZXZlcnNlZCB3aGljaCBub3QgbGlrZSBvdGhlciBhbnRkIGNvbXBvbmVudFxuICAgICAga2V5UGF0aDogX3RvQ29uc3VtYWJsZUFycmF5KGNvbm5lY3RlZEtleXMpLnJldmVyc2UoKSxcbiAgICAgIGl0ZW06IGxlZ2FjeU1lbnVJdGVtUmVmLmN1cnJlbnQsXG4gICAgICBkb21FdmVudDogZVxuICAgIH07XG4gIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEljb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHZhciBtZXJnZWRJdGVtSWNvbiA9IGl0ZW1JY29uIHx8IGNvbnRleHRJdGVtSWNvbjsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBY3RpdmUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBfdXNlQWN0aXZlID0gdXNlQWN0aXZlKGV2ZW50S2V5LCBtZXJnZWREaXNhYmxlZCwgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUpLFxuICAgICAgYWN0aXZlID0gX3VzZUFjdGl2ZS5hY3RpdmUsXG4gICAgICBhY3RpdmVQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdXNlQWN0aXZlLCBbXCJhY3RpdmVcIl0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNlbGVjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZEtleXMuaW5jbHVkZXMoZXZlbnRLZXkpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gRGlyZWN0aW9uU3R5bGUgPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpcmVjdGlvblN0eWxlID0gdXNlRGlyZWN0aW9uU3R5bGUoY29ubmVjdGVkS2V5cy5sZW5ndGgpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEV2ZW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIG9uSW50ZXJuYWxDbGljayA9IGZ1bmN0aW9uIG9uSW50ZXJuYWxDbGljayhlKSB7XG4gICAgaWYgKG1lcmdlZERpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSBnZXRFdmVudEluZm8oZSk7XG4gICAgb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKHdhcm5JdGVtUHJvcChpbmZvKSk7XG4gICAgb25JdGVtQ2xpY2soaW5mbyk7XG4gIH07XG5cbiAgdmFyIG9uSW50ZXJuYWxLZXlEb3duID0gZnVuY3Rpb24gb25JbnRlcm5hbEtleURvd24oZSkge1xuICAgIG9uS2V5RG93biA9PT0gbnVsbCB8fCBvbktleURvd24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uS2V5RG93bihlKTtcblxuICAgIGlmIChlLndoaWNoID09PSBLZXlDb2RlLkVOVEVSKSB7XG4gICAgICB2YXIgaW5mbyA9IGdldEV2ZW50SW5mbyhlKTsgLy8gTGVnYWN5LiBLZXkgd2lsbCBhbHNvIHRyaWdnZXIgY2xpY2sgZXZlbnRcblxuICAgICAgb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKHdhcm5JdGVtUHJvcChpbmZvKSk7XG4gICAgICBvbkl0ZW1DbGljayhpbmZvKTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBVc2VkIGZvciBhY2Nlc3NpYmlsaXR5LiBIZWxwZXIgd2lsbCBmb2N1cyBlbGVtZW50IHdpdGhvdXQga2V5IGJvYXJkLlxuICAgKiBXZSBzaG91bGQgbWFudWFsbHkgdHJpZ2dlciBhbiBhY3RpdmVcbiAgICovXG5cblxuICB2YXIgb25JbnRlcm5hbEZvY3VzID0gZnVuY3Rpb24gb25JbnRlcm5hbEZvY3VzKGUpIHtcbiAgICBvbkFjdGl2ZShldmVudEtleSk7XG4gICAgb25Gb2N1cyA9PT0gbnVsbCB8fCBvbkZvY3VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkZvY3VzKGUpO1xuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFJlbmRlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgb3B0aW9uUm9sZVByb3BzID0ge307XG5cbiAgaWYgKHByb3BzLnJvbGUgPT09ICdvcHRpb24nKSB7XG4gICAgb3B0aW9uUm9sZVByb3BzWydhcmlhLXNlbGVjdGVkJ10gPSBzZWxlY3RlZDtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMZWdhY3lNZW51SXRlbSwgX2V4dGVuZHMoe1xuICAgIHJlZjogbGVnYWN5TWVudUl0ZW1SZWYsXG4gICAgZWxlbWVudFJlZjogZWxlbWVudFJlZixcbiAgICByb2xlOiByb2xlID09PSBudWxsID8gJ25vbmUnIDogcm9sZSB8fCAnbWVudWl0ZW0nLFxuICAgIHRhYkluZGV4OiBkaXNhYmxlZCA/IG51bGwgOiAtMSxcbiAgICBcImRhdGEtbWVudS1pZFwiOiBvdmVyZmxvd0Rpc2FibGVkICYmIGRvbURhdGFJZCA/IG51bGwgOiBkb21EYXRhSWRcbiAgfSwgcmVzdFByb3BzLCBhY3RpdmVQcm9wcywgb3B0aW9uUm9sZVByb3BzLCB7XG4gICAgY29tcG9uZW50OiBcImxpXCIsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkLFxuICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRpcmVjdGlvblN0eWxlKSwgc3R5bGUpLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhpdGVtQ2xzLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChpdGVtQ2xzLCBcIi1hY3RpdmVcIiksIGFjdGl2ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJcIi5jb25jYXQoaXRlbUNscywgXCItc2VsZWN0ZWRcIiksIHNlbGVjdGVkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChpdGVtQ2xzLCBcIi1kaXNhYmxlZFwiKSwgbWVyZ2VkRGlzYWJsZWQpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSksXG4gICAgb25DbGljazogb25JbnRlcm5hbENsaWNrLFxuICAgIG9uS2V5RG93bjogb25JbnRlcm5hbEtleURvd24sXG4gICAgb25Gb2N1czogb25JbnRlcm5hbEZvY3VzXG4gIH0pLCBjaGlsZHJlbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwge30sIHtcbiAgICAgIGlzU2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgfSksXG4gICAgaWNvbjogbWVyZ2VkSXRlbUljb25cbiAgfSkpO1xufTtcblxuZnVuY3Rpb24gTWVudUl0ZW0ocHJvcHMpIHtcbiAgdmFyIGV2ZW50S2V5ID0gcHJvcHMuZXZlbnRLZXk7IC8vID09PT09PT09PT09PT09PT09PT09IFJlY29yZCBLZXlQYXRoID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIG1lYXN1cmUgPSB1c2VNZWFzdXJlKCk7XG4gIHZhciBjb25uZWN0ZWRLZXlQYXRoID0gdXNlRnVsbFBhdGgoZXZlbnRLZXkpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChtZWFzdXJlKSB7XG4gICAgICBtZWFzdXJlLnJlZ2lzdGVyUGF0aChldmVudEtleSwgY29ubmVjdGVkS2V5UGF0aCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBtZWFzdXJlLnVucmVnaXN0ZXJQYXRoKGV2ZW50S2V5LCBjb25uZWN0ZWRLZXlQYXRoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbY29ubmVjdGVkS2V5UGF0aF0pO1xuXG4gIGlmIChtZWFzdXJlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PT09IFJlbmRlciA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJbnRlcm5hbE1lbnVJdGVtLCBwcm9wcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lbnVJdGVtOyIsImltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdG9BcnJheSBmcm9tIFwicmMtdXRpbC9lcy9DaGlsZHJlbi90b0FycmF5XCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGlsZHJlbihjaGlsZHJlbiwga2V5UGF0aCkge1xuICByZXR1cm4gdG9BcnJheShjaGlsZHJlbikubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICBpZiAoIC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgIHZhciBfY2hpbGQkcHJvcHMkZXZlbnRLZXksIF9jaGlsZCRwcm9wcztcblxuICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgIHZhciBldmVudEtleSA9IChfY2hpbGQkcHJvcHMkZXZlbnRLZXkgPSAoX2NoaWxkJHByb3BzID0gY2hpbGQucHJvcHMpID09PSBudWxsIHx8IF9jaGlsZCRwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoaWxkJHByb3BzLmV2ZW50S2V5KSAhPT0gbnVsbCAmJiBfY2hpbGQkcHJvcHMkZXZlbnRLZXkgIT09IHZvaWQgMCA/IF9jaGlsZCRwcm9wcyRldmVudEtleSA6IGtleTtcbiAgICAgIHZhciBlbXB0eUtleSA9IGV2ZW50S2V5ID09PSBudWxsIHx8IGV2ZW50S2V5ID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChlbXB0eUtleSkge1xuICAgICAgICBldmVudEtleSA9IFwidG1wX2tleS1cIi5jb25jYXQoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShrZXlQYXRoKSwgW2luZGV4XSkuam9pbignLScpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNsb25lUHJvcHMgPSB7XG4gICAgICAgIGtleTogZXZlbnRLZXksXG4gICAgICAgIGV2ZW50S2V5OiBldmVudEtleVxuICAgICAgfTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZW1wdHlLZXkpIHtcbiAgICAgICAgY2xvbmVQcm9wcy53YXJuS2V5ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIGNsb25lUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZDtcbiAgfSk7XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBDYWNoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGFsd2F5cyByZXR1cm4gc2FtZSByZWYgaW5zdGVhZC5cbiAqIFRoaXMgaXMgdXNlZCBmb3IgY29udGV4dCBvcHRpbWl6YXRpb24uXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTWVtb0NhbGxiYWNrKGZ1bmMpIHtcbiAgdmFyIGZ1blJlZiA9IFJlYWN0LnVzZVJlZihmdW5jKTtcbiAgZnVuUmVmLmN1cnJlbnQgPSBmdW5jO1xuICB2YXIgY2FsbGJhY2sgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9mdW5SZWYkY3VycmVudDtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gKF9mdW5SZWYkY3VycmVudCA9IGZ1blJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfZnVuUmVmJGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mdW5SZWYkY3VycmVudC5jYWxsLmFwcGx5KF9mdW5SZWYkY3VycmVudCwgW2Z1blJlZl0uY29uY2F0KGFyZ3MpKTtcbiAgfSwgW10pO1xuICByZXR1cm4gZnVuYyA/IGNhbGxiYWNrIDogdW5kZWZpbmVkO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgTWVudUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01lbnVDb250ZXh0JztcblxudmFyIEludGVybmFsU3ViTWVudUxpc3QgPSBmdW5jdGlvbiBJbnRlcm5hbFN1Yk1lbnVMaXN0KF9yZWYsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgcHJlZml4Q2xzID0gX1JlYWN0JHVzZUNvbnRleHQucHJlZml4Q2xzLFxuICAgICAgbW9kZSA9IF9SZWFjdCR1c2VDb250ZXh0Lm1vZGU7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhwcmVmaXhDbHMsIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItc3ViXCIpLCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLVwiKS5jb25jYXQobW9kZSA9PT0gJ2lubGluZScgPyAnaW5saW5lJyA6ICd2ZXJ0aWNhbCcpLCBjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcywge1xuICAgIFwiZGF0YS1tZW51LWxpc3RcIjogdHJ1ZSxcbiAgICByZWY6IHJlZlxuICB9KSwgY2hpbGRyZW4pO1xufTtcblxudmFyIFN1Yk1lbnVMaXN0ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoSW50ZXJuYWxTdWJNZW51TGlzdCk7XG5TdWJNZW51TGlzdC5kaXNwbGF5TmFtZSA9ICdTdWJNZW51TGlzdCc7XG5leHBvcnQgZGVmYXVsdCBTdWJNZW51TGlzdDsiLCJ2YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuICBhZGp1c3RYOiAxLFxuICBhZGp1c3RZOiAxXG59O1xuZXhwb3J0IHZhciBwbGFjZW1lbnRzID0ge1xuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtN11cbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgN11cbiAgfSxcbiAgbGVmdFRvcDoge1xuICAgIHBvaW50czogWyd0cicsICd0bCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbLTQsIDBdXG4gIH0sXG4gIHJpZ2h0VG9wOiB7XG4gICAgcG9pbnRzOiBbJ3RsJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFs0LCAwXVxuICB9XG59O1xuZXhwb3J0IHZhciBwbGFjZW1lbnRzUnRsID0ge1xuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtN11cbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgN11cbiAgfSxcbiAgcmlnaHRUb3A6IHtcbiAgICBwb2ludHM6IFsndHInLCAndGwnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWy00LCAwXVxuICB9LFxuICBsZWZ0VG9wOiB7XG4gICAgcG9pbnRzOiBbJ3RsJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFs0LCAwXVxuICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgcGxhY2VtZW50czsiLCJleHBvcnQgZnVuY3Rpb24gZ2V0TW90aW9uKG1vZGUsIG1vdGlvbiwgZGVmYXVsdE1vdGlvbnMpIHtcbiAgaWYgKG1vdGlvbikge1xuICAgIHJldHVybiBtb3Rpb247XG4gIH1cblxuICBpZiAoZGVmYXVsdE1vdGlvbnMpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1vdGlvbnNbbW9kZV0gfHwgZGVmYXVsdE1vdGlvbnMub3RoZXI7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVHJpZ2dlciBmcm9tICdyYy10cmlnZ2VyJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHJhZiBmcm9tIFwicmMtdXRpbC9lcy9yYWZcIjtcbmltcG9ydCB7IE1lbnVDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9NZW51Q29udGV4dCc7XG5pbXBvcnQgeyBwbGFjZW1lbnRzLCBwbGFjZW1lbnRzUnRsIH0gZnJvbSAnLi4vcGxhY2VtZW50cyc7XG5pbXBvcnQgeyBnZXRNb3Rpb24gfSBmcm9tICcuLi91dGlscy9tb3Rpb25VdGlsJztcbnZhciBwb3B1cFBsYWNlbWVudE1hcCA9IHtcbiAgaG9yaXpvbnRhbDogJ2JvdHRvbUxlZnQnLFxuICB2ZXJ0aWNhbDogJ3JpZ2h0VG9wJyxcbiAgJ3ZlcnRpY2FsLWxlZnQnOiAncmlnaHRUb3AnLFxuICAndmVydGljYWwtcmlnaHQnOiAnbGVmdFRvcCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQb3B1cFRyaWdnZXIoX3JlZikge1xuICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG4gICAgICB2aXNpYmxlID0gX3JlZi52aXNpYmxlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcG9wdXAgPSBfcmVmLnBvcHVwLFxuICAgICAgcG9wdXBDbGFzc05hbWUgPSBfcmVmLnBvcHVwQ2xhc3NOYW1lLFxuICAgICAgcG9wdXBPZmZzZXQgPSBfcmVmLnBvcHVwT2Zmc2V0LFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgbW9kZSA9IF9yZWYubW9kZSxcbiAgICAgIG9uVmlzaWJsZUNoYW5nZSA9IF9yZWYub25WaXNpYmxlQ2hhbmdlO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgZ2V0UG9wdXBDb250YWluZXIgPSBfUmVhY3QkdXNlQ29udGV4dC5nZXRQb3B1cENvbnRhaW5lcixcbiAgICAgIHJ0bCA9IF9SZWFjdCR1c2VDb250ZXh0LnJ0bCxcbiAgICAgIHN1Yk1lbnVPcGVuRGVsYXkgPSBfUmVhY3QkdXNlQ29udGV4dC5zdWJNZW51T3BlbkRlbGF5LFxuICAgICAgc3ViTWVudUNsb3NlRGVsYXkgPSBfUmVhY3QkdXNlQ29udGV4dC5zdWJNZW51Q2xvc2VEZWxheSxcbiAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzID0gX1JlYWN0JHVzZUNvbnRleHQuYnVpbHRpblBsYWNlbWVudHMsXG4gICAgICB0cmlnZ2VyU3ViTWVudUFjdGlvbiA9IF9SZWFjdCR1c2VDb250ZXh0LnRyaWdnZXJTdWJNZW51QWN0aW9uLFxuICAgICAgZm9yY2VTdWJNZW51UmVuZGVyID0gX1JlYWN0JHVzZUNvbnRleHQuZm9yY2VTdWJNZW51UmVuZGVyLFxuICAgICAgbW90aW9uID0gX1JlYWN0JHVzZUNvbnRleHQubW90aW9uLFxuICAgICAgZGVmYXVsdE1vdGlvbnMgPSBfUmVhY3QkdXNlQ29udGV4dC5kZWZhdWx0TW90aW9ucztcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBpbm5lclZpc2libGUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0SW5uZXJWaXNpYmxlID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgcGxhY2VtZW50ID0gcnRsID8gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGFjZW1lbnRzUnRsKSwgYnVpbHRpblBsYWNlbWVudHMpIDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGFjZW1lbnRzKSwgYnVpbHRpblBsYWNlbWVudHMpO1xuICB2YXIgcG9wdXBQbGFjZW1lbnQgPSBwb3B1cFBsYWNlbWVudE1hcFttb2RlXTtcbiAgdmFyIHRhcmdldE1vdGlvbiA9IGdldE1vdGlvbihtb2RlLCBtb3Rpb24sIGRlZmF1bHRNb3Rpb25zKTtcblxuICB2YXIgbWVyZ2VkTW90aW9uID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0YXJnZXRNb3Rpb24pLCB7fSwge1xuICAgIGxlYXZlZENsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1oaWRkZW5cIiksXG4gICAgcmVtb3ZlT25MZWF2ZTogZmFsc2UsXG4gICAgbW90aW9uQXBwZWFyOiB0cnVlXG4gIH0pOyAvLyBEZWxheSB0byBjaGFuZ2UgdmlzaWJsZVxuXG5cbiAgdmFyIHZpc2libGVSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2aXNpYmxlUmVmLmN1cnJlbnQgPSByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0SW5uZXJWaXNpYmxlKHZpc2libGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByYWYuY2FuY2VsKHZpc2libGVSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW3Zpc2libGVdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyaWdnZXIsIHtcbiAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICBwb3B1cENsYXNzTmFtZTogY2xhc3NOYW1lcyhcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLXBvcHVwXCIpLCBfZGVmaW5lUHJvcGVydHkoe30sIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItcnRsXCIpLCBydGwpLCBwb3B1cENsYXNzTmFtZSksXG4gICAgc3RyZXRjaDogbW9kZSA9PT0gJ2hvcml6b250YWwnID8gJ21pbldpZHRoJyA6IG51bGwsXG4gICAgZ2V0UG9wdXBDb250YWluZXI6IGdldFBvcHVwQ29udGFpbmVyLFxuICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBwbGFjZW1lbnQsXG4gICAgcG9wdXBQbGFjZW1lbnQ6IHBvcHVwUGxhY2VtZW50LFxuICAgIHBvcHVwVmlzaWJsZTogaW5uZXJWaXNpYmxlLFxuICAgIHBvcHVwOiBwb3B1cCxcbiAgICBwb3B1cEFsaWduOiBwb3B1cE9mZnNldCAmJiB7XG4gICAgICBvZmZzZXQ6IHBvcHVwT2Zmc2V0XG4gICAgfSxcbiAgICBhY3Rpb246IGRpc2FibGVkID8gW10gOiBbdHJpZ2dlclN1Yk1lbnVBY3Rpb25dLFxuICAgIG1vdXNlRW50ZXJEZWxheTogc3ViTWVudU9wZW5EZWxheSxcbiAgICBtb3VzZUxlYXZlRGVsYXk6IHN1Yk1lbnVDbG9zZURlbGF5LFxuICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBvblZpc2libGVDaGFuZ2UsXG4gICAgZm9yY2VSZW5kZXI6IGZvcmNlU3ViTWVudVJlbmRlcixcbiAgICBwb3B1cE1vdGlvbjogbWVyZ2VkTW90aW9uXG4gIH0sIGNoaWxkcmVuKTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDU1NNb3Rpb24gZnJvbSAncmMtbW90aW9uJztcbmltcG9ydCB7IGdldE1vdGlvbiB9IGZyb20gJy4uL3V0aWxzL21vdGlvblV0aWwnO1xuaW1wb3J0IE1lbnVDb250ZXh0UHJvdmlkZXIsIHsgTWVudUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01lbnVDb250ZXh0JztcbmltcG9ydCBTdWJNZW51TGlzdCBmcm9tICcuL1N1Yk1lbnVMaXN0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIElubGluZVN1Yk1lbnVMaXN0KF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgIG9wZW4gPSBfcmVmLm9wZW4sXG4gICAgICBrZXlQYXRoID0gX3JlZi5rZXlQYXRoLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgZml4ZWRNb2RlID0gJ2lubGluZSc7XG5cbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChNZW51Q29udGV4dCksXG4gICAgICBwcmVmaXhDbHMgPSBfUmVhY3QkdXNlQ29udGV4dC5wcmVmaXhDbHMsXG4gICAgICBmb3JjZVN1Yk1lbnVSZW5kZXIgPSBfUmVhY3QkdXNlQ29udGV4dC5mb3JjZVN1Yk1lbnVSZW5kZXIsXG4gICAgICBtb3Rpb24gPSBfUmVhY3QkdXNlQ29udGV4dC5tb3Rpb24sXG4gICAgICBkZWZhdWx0TW90aW9ucyA9IF9SZWFjdCR1c2VDb250ZXh0LmRlZmF1bHRNb3Rpb25zLFxuICAgICAgbW9kZSA9IF9SZWFjdCR1c2VDb250ZXh0Lm1vZGU7IC8vIEFsd2F5cyB1c2UgbGF0ZXN0IG1vZGUgY2hlY2tcblxuXG4gIHZhciBzYW1lTW9kZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHNhbWVNb2RlUmVmLmN1cnJlbnQgPSBtb2RlID09PSBmaXhlZE1vZGU7IC8vIFdlIHJlY29yZCBgZGVzdHJveWAgbWFyayBoZXJlIHNpbmNlIHdoZW4gbW9kZSBjaGFuZ2UgZnJvbSBgaW5saW5lYCB0byBvdGhlcnMuXG4gIC8vIFRoZSBpbmxpbmUgbGlzdCBzaG91bGQgcmVtb3ZlIHdoZW4gbW90aW9uIGVuZC5cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoIXNhbWVNb2RlUmVmLmN1cnJlbnQpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBkZXN0cm95ID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldERlc3Ryb3kgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBtZXJnZWRPcGVuID0gc2FtZU1vZGVSZWYuY3VycmVudCA/IG9wZW4gOiBmYWxzZTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVmZmVjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUmVzZXQgZGVzdHJveSBzdGF0ZSB3aGVuIG1vZGUgY2hhbmdlIGJhY2tcblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzYW1lTW9kZVJlZi5jdXJyZW50KSB7XG4gICAgICBzZXREZXN0cm95KGZhbHNlKTtcbiAgICB9XG4gIH0sIFttb2RlXSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBSZW5kZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIG1lcmdlZE1vdGlvbiA9IF9vYmplY3RTcHJlYWQoe30sIGdldE1vdGlvbihmaXhlZE1vZGUsIG1vdGlvbiwgZGVmYXVsdE1vdGlvbnMpKTsgLy8gTm8gbmVlZCBhcHBlYXIgc2luY2UgbmVzdCBpbmxpbmVDb2xsYXBzZSBjaGFuZ2VkXG5cblxuICBpZiAoa2V5UGF0aC5sZW5ndGggPiAxKSB7XG4gICAgbWVyZ2VkTW90aW9uLm1vdGlvbkFwcGVhciA9IGZhbHNlO1xuICB9IC8vIEhpZGUgaW5saW5lIGxpc3Qgd2hlbiBtb2RlIGNoYW5nZWQgYW5kIG1vdGlvbiBlbmRcblxuXG4gIHZhciBvcmlnaW5PblZpc2libGVDaGFuZ2VkID0gbWVyZ2VkTW90aW9uLm9uVmlzaWJsZUNoYW5nZWQ7XG5cbiAgbWVyZ2VkTW90aW9uLm9uVmlzaWJsZUNoYW5nZWQgPSBmdW5jdGlvbiAobmV3VmlzaWJsZSkge1xuICAgIGlmICghc2FtZU1vZGVSZWYuY3VycmVudCAmJiAhbmV3VmlzaWJsZSkge1xuICAgICAgc2V0RGVzdHJveSh0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ2luT25WaXNpYmxlQ2hhbmdlZCA9PT0gbnVsbCB8fCBvcmlnaW5PblZpc2libGVDaGFuZ2VkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW5PblZpc2libGVDaGFuZ2VkKG5ld1Zpc2libGUpO1xuICB9O1xuXG4gIGlmIChkZXN0cm95KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUNvbnRleHRQcm92aWRlciwge1xuICAgIG1vZGU6IGZpeGVkTW9kZSxcbiAgICBsb2NrZWQ6ICFzYW1lTW9kZVJlZi5jdXJyZW50XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU01vdGlvbiwgX2V4dGVuZHMoe1xuICAgIHZpc2libGU6IG1lcmdlZE9wZW5cbiAgfSwgbWVyZ2VkTW90aW9uLCB7XG4gICAgZm9yY2VSZW5kZXI6IGZvcmNlU3ViTWVudVJlbmRlcixcbiAgICByZW1vdmVPbkxlYXZlOiBmYWxzZSxcbiAgICBsZWF2ZWRDbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItaGlkZGVuXCIpXG4gIH0pLCBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgbW90aW9uQ2xhc3NOYW1lID0gX3JlZjIuY2xhc3NOYW1lLFxuICAgICAgICBtb3Rpb25TdHlsZSA9IF9yZWYyLnN0eWxlO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJNZW51TGlzdCwge1xuICAgICAgaWQ6IGlkLFxuICAgICAgY2xhc3NOYW1lOiBtb3Rpb25DbGFzc05hbWUsXG4gICAgICBzdHlsZTogbW90aW9uU3R5bGVcbiAgICB9LCBjaGlsZHJlbik7XG4gIH0pKTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgT3ZlcmZsb3cgZnJvbSAncmMtb3ZlcmZsb3cnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuaW1wb3J0IFN1Yk1lbnVMaXN0IGZyb20gJy4vU3ViTWVudUxpc3QnO1xuaW1wb3J0IHsgcGFyc2VDaGlsZHJlbiB9IGZyb20gJy4uL3V0aWxzL25vZGVVdGlsJztcbmltcG9ydCBNZW51Q29udGV4dFByb3ZpZGVyLCB7IE1lbnVDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9NZW51Q29udGV4dCc7XG5pbXBvcnQgdXNlTWVtb0NhbGxiYWNrIGZyb20gJy4uL2hvb2tzL3VzZU1lbW9DYWxsYmFjayc7XG5pbXBvcnQgUG9wdXBUcmlnZ2VyIGZyb20gJy4vUG9wdXBUcmlnZ2VyJztcbmltcG9ydCBJY29uIGZyb20gJy4uL0ljb24nO1xuaW1wb3J0IHVzZUFjdGl2ZSBmcm9tICcuLi9ob29rcy91c2VBY3RpdmUnO1xuaW1wb3J0IHsgd2Fybkl0ZW1Qcm9wIH0gZnJvbSAnLi4vdXRpbHMvd2FyblV0aWwnO1xuaW1wb3J0IHVzZURpcmVjdGlvblN0eWxlIGZyb20gJy4uL2hvb2tzL3VzZURpcmVjdGlvblN0eWxlJztcbmltcG9ydCBJbmxpbmVTdWJNZW51TGlzdCBmcm9tICcuL0lubGluZVN1Yk1lbnVMaXN0JztcbmltcG9ydCB7IFBhdGhUcmFja2VyQ29udGV4dCwgUGF0aFVzZXJDb250ZXh0LCB1c2VGdWxsUGF0aCwgdXNlTWVhc3VyZSB9IGZyb20gJy4uL2NvbnRleHQvUGF0aENvbnRleHQnO1xuaW1wb3J0IHsgdXNlTWVudUlkIH0gZnJvbSAnLi4vY29udGV4dC9JZENvbnRleHQnO1xuXG52YXIgSW50ZXJuYWxTdWJNZW51ID0gZnVuY3Rpb24gSW50ZXJuYWxTdWJNZW51KHByb3BzKSB7XG4gIHZhciBfY2xhc3NOYW1lcztcblxuICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHRpdGxlID0gcHJvcHMudGl0bGUsXG4gICAgICBldmVudEtleSA9IHByb3BzLmV2ZW50S2V5LFxuICAgICAgd2FybktleSA9IHByb3BzLndhcm5LZXksXG4gICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgaW50ZXJuYWxQb3B1cENsb3NlID0gcHJvcHMuaW50ZXJuYWxQb3B1cENsb3NlLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGl0ZW1JY29uID0gcHJvcHMuaXRlbUljb24sXG4gICAgICBleHBhbmRJY29uID0gcHJvcHMuZXhwYW5kSWNvbixcbiAgICAgIHBvcHVwQ2xhc3NOYW1lID0gcHJvcHMucG9wdXBDbGFzc05hbWUsXG4gICAgICBwb3B1cE9mZnNldCA9IHByb3BzLnBvcHVwT2Zmc2V0LFxuICAgICAgb25DbGljayA9IHByb3BzLm9uQ2xpY2ssXG4gICAgICBvbk1vdXNlRW50ZXIgPSBwcm9wcy5vbk1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmUgPSBwcm9wcy5vbk1vdXNlTGVhdmUsXG4gICAgICBvblRpdGxlQ2xpY2sgPSBwcm9wcy5vblRpdGxlQ2xpY2ssXG4gICAgICBvblRpdGxlTW91c2VFbnRlciA9IHByb3BzLm9uVGl0bGVNb3VzZUVudGVyLFxuICAgICAgb25UaXRsZU1vdXNlTGVhdmUgPSBwcm9wcy5vblRpdGxlTW91c2VMZWF2ZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJ0aXRsZVwiLCBcImV2ZW50S2V5XCIsIFwid2FybktleVwiLCBcImRpc2FibGVkXCIsIFwiaW50ZXJuYWxQb3B1cENsb3NlXCIsIFwiY2hpbGRyZW5cIiwgXCJpdGVtSWNvblwiLCBcImV4cGFuZEljb25cIiwgXCJwb3B1cENsYXNzTmFtZVwiLCBcInBvcHVwT2Zmc2V0XCIsIFwib25DbGlja1wiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiLCBcIm9uVGl0bGVDbGlja1wiLCBcIm9uVGl0bGVNb3VzZUVudGVyXCIsIFwib25UaXRsZU1vdXNlTGVhdmVcIl0pO1xuXG4gIHZhciBkb21EYXRhSWQgPSB1c2VNZW51SWQoZXZlbnRLZXkpO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgcHJlZml4Q2xzID0gX1JlYWN0JHVzZUNvbnRleHQucHJlZml4Q2xzLFxuICAgICAgbW9kZSA9IF9SZWFjdCR1c2VDb250ZXh0Lm1vZGUsXG4gICAgICBvcGVuS2V5cyA9IF9SZWFjdCR1c2VDb250ZXh0Lm9wZW5LZXlzLFxuICAgICAgY29udGV4dERpc2FibGVkID0gX1JlYWN0JHVzZUNvbnRleHQuZGlzYWJsZWQsXG4gICAgICBvdmVyZmxvd0Rpc2FibGVkID0gX1JlYWN0JHVzZUNvbnRleHQub3ZlcmZsb3dEaXNhYmxlZCxcbiAgICAgIGFjdGl2ZUtleSA9IF9SZWFjdCR1c2VDb250ZXh0LmFjdGl2ZUtleSxcbiAgICAgIHNlbGVjdGVkS2V5cyA9IF9SZWFjdCR1c2VDb250ZXh0LnNlbGVjdGVkS2V5cyxcbiAgICAgIGNvbnRleHRJdGVtSWNvbiA9IF9SZWFjdCR1c2VDb250ZXh0Lml0ZW1JY29uLFxuICAgICAgY29udGV4dEV4cGFuZEljb24gPSBfUmVhY3QkdXNlQ29udGV4dC5leHBhbmRJY29uLFxuICAgICAgb25JdGVtQ2xpY2sgPSBfUmVhY3QkdXNlQ29udGV4dC5vbkl0ZW1DbGljayxcbiAgICAgIG9uT3BlbkNoYW5nZSA9IF9SZWFjdCR1c2VDb250ZXh0Lm9uT3BlbkNoYW5nZSxcbiAgICAgIG9uQWN0aXZlID0gX1JlYWN0JHVzZUNvbnRleHQub25BY3RpdmU7XG5cbiAgdmFyIF9SZWFjdCR1c2VDb250ZXh0MiA9IFJlYWN0LnVzZUNvbnRleHQoUGF0aFVzZXJDb250ZXh0KSxcbiAgICAgIGlzU3ViUGF0aEtleSA9IF9SZWFjdCR1c2VDb250ZXh0Mi5pc1N1YlBhdGhLZXk7XG5cbiAgdmFyIGNvbm5lY3RlZFBhdGggPSB1c2VGdWxsUGF0aCgpO1xuICB2YXIgc3ViTWVudVByZWZpeENscyA9IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItc3VibWVudVwiKTtcbiAgdmFyIG1lcmdlZERpc2FibGVkID0gY29udGV4dERpc2FibGVkIHx8IGRpc2FibGVkO1xuICB2YXIgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICB2YXIgcG9wdXBSZWYgPSBSZWFjdC51c2VSZWYoKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gV2FybiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm5LZXkpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnU3ViTWVudSBzaG91bGQgbm90IGxlYXZlIHVuZGVmaW5lZCBga2V5YC4nKTtcbiAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBJY29uID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgbWVyZ2VkSXRlbUljb24gPSBpdGVtSWNvbiB8fCBjb250ZXh0SXRlbUljb247XG4gIHZhciBtZXJnZWRFeHBhbmRJY29uID0gZXhwYW5kSWNvbiB8fCBjb250ZXh0RXhwYW5kSWNvbjsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gT3BlbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBvcmlnaW5PcGVuID0gb3BlbktleXMuaW5jbHVkZXMoZXZlbnRLZXkpO1xuICB2YXIgb3BlbiA9ICFvdmVyZmxvd0Rpc2FibGVkICYmIG9yaWdpbk9wZW47IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU2VsZWN0ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgY2hpbGRyZW5TZWxlY3RlZCA9IGlzU3ViUGF0aEtleShzZWxlY3RlZEtleXMsIGV2ZW50S2V5KTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBBY3RpdmUgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBfdXNlQWN0aXZlID0gdXNlQWN0aXZlKGV2ZW50S2V5LCBtZXJnZWREaXNhYmxlZCwgb25UaXRsZU1vdXNlRW50ZXIsIG9uVGl0bGVNb3VzZUxlYXZlKSxcbiAgICAgIGFjdGl2ZSA9IF91c2VBY3RpdmUuYWN0aXZlLFxuICAgICAgYWN0aXZlUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3VzZUFjdGl2ZSwgW1wiYWN0aXZlXCJdKTsgLy8gRmFsbGJhY2sgb2YgYWN0aXZlIGNoZWNrIHRvIGF2b2lkIGhvdmVyIG9uIG1lbnUgdGl0bGUgb3IgZGlzYWJsZWQgaXRlbVxuXG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgY2hpbGRyZW5BY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Q2hpbGRyZW5BY3RpdmUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciB0cmlnZ2VyQ2hpbGRyZW5BY3RpdmUgPSBmdW5jdGlvbiB0cmlnZ2VyQ2hpbGRyZW5BY3RpdmUobmV3QWN0aXZlKSB7XG4gICAgaWYgKCFtZXJnZWREaXNhYmxlZCkge1xuICAgICAgc2V0Q2hpbGRyZW5BY3RpdmUobmV3QWN0aXZlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uSW50ZXJuYWxNb3VzZUVudGVyID0gZnVuY3Rpb24gb25JbnRlcm5hbE1vdXNlRW50ZXIoZG9tRXZlbnQpIHtcbiAgICB0cmlnZ2VyQ2hpbGRyZW5BY3RpdmUodHJ1ZSk7XG4gICAgb25Nb3VzZUVudGVyID09PSBudWxsIHx8IG9uTW91c2VFbnRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Nb3VzZUVudGVyKHtcbiAgICAgIGtleTogZXZlbnRLZXksXG4gICAgICBkb21FdmVudDogZG9tRXZlbnRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25JbnRlcm5hbE1vdXNlTGVhdmUgPSBmdW5jdGlvbiBvbkludGVybmFsTW91c2VMZWF2ZShkb21FdmVudCkge1xuICAgIHRyaWdnZXJDaGlsZHJlbkFjdGl2ZShmYWxzZSk7XG4gICAgb25Nb3VzZUxlYXZlID09PSBudWxsIHx8IG9uTW91c2VMZWF2ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Nb3VzZUxlYXZlKHtcbiAgICAgIGtleTogZXZlbnRLZXksXG4gICAgICBkb21FdmVudDogZG9tRXZlbnRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgbWVyZ2VkQWN0aXZlID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGFjdGl2ZSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZTtcbiAgICB9XG5cbiAgICBpZiAobW9kZSAhPT0gJ2lubGluZScpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbkFjdGl2ZSB8fCBpc1N1YlBhdGhLZXkoW2FjdGl2ZUtleV0sIGV2ZW50S2V5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sIFttb2RlLCBhY3RpdmUsIGFjdGl2ZUtleSwgY2hpbGRyZW5BY3RpdmUsIGV2ZW50S2V5LCBpc1N1YlBhdGhLZXldKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gRGlyZWN0aW9uU3R5bGUgPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlyZWN0aW9uU3R5bGUgPSB1c2VEaXJlY3Rpb25TdHlsZShjb25uZWN0ZWRQYXRoLmxlbmd0aCk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRXZlbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gPj4+PiBUaXRsZSBjbGlja1xuXG4gIHZhciBvbkludGVybmFsVGl0bGVDbGljayA9IGZ1bmN0aW9uIG9uSW50ZXJuYWxUaXRsZUNsaWNrKGUpIHtcbiAgICAvLyBTa2lwIGlmIGRpc2FibGVkXG4gICAgaWYgKG1lcmdlZERpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb25UaXRsZUNsaWNrID09PSBudWxsIHx8IG9uVGl0bGVDbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25UaXRsZUNsaWNrKHtcbiAgICAgIGtleTogZXZlbnRLZXksXG4gICAgICBkb21FdmVudDogZVxuICAgIH0pOyAvLyBUcmlnZ2VyIG9wZW4gYnkgY2xpY2sgd2hlbiBtb2RlIGlzIGBpbmxpbmVgXG5cbiAgICBpZiAobW9kZSA9PT0gJ2lubGluZScpIHtcbiAgICAgIG9uT3BlbkNoYW5nZShldmVudEtleSwgIW9yaWdpbk9wZW4pO1xuICAgIH1cbiAgfTsgLy8gPj4+PiBDb250ZXh0IGZvciBjaGlsZHJlbiBjbGlja1xuXG5cbiAgdmFyIG9uTWVyZ2VkSXRlbUNsaWNrID0gdXNlTWVtb0NhbGxiYWNrKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgb25DbGljayA9PT0gbnVsbCB8fCBvbkNsaWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkNsaWNrKHdhcm5JdGVtUHJvcChpbmZvKSk7XG4gICAgb25JdGVtQ2xpY2soaW5mbyk7XG4gIH0pOyAvLyA+Pj4+PiBWaXNpYmxlIGNoYW5nZVxuXG4gIHZhciBvblBvcHVwVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uIG9uUG9wdXBWaXNpYmxlQ2hhbmdlKG5ld1Zpc2libGUpIHtcbiAgICBpZiAobW9kZSAhPT0gJ2lubGluZScpIHtcbiAgICAgIG9uT3BlbkNoYW5nZShldmVudEtleSwgbmV3VmlzaWJsZSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVXNlZCBmb3IgYWNjZXNzaWJpbGl0eS4gSGVscGVyIHdpbGwgZm9jdXMgZWxlbWVudCB3aXRob3V0IGtleSBib2FyZC5cbiAgICogV2Ugc2hvdWxkIG1hbnVhbGx5IHRyaWdnZXIgYW4gYWN0aXZlXG4gICAqL1xuXG5cbiAgdmFyIG9uSW50ZXJuYWxGb2N1cyA9IGZ1bmN0aW9uIG9uSW50ZXJuYWxGb2N1cygpIHtcbiAgICBvbkFjdGl2ZShldmVudEtleSk7XG4gIH07IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUmVuZGVyID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHZhciBwb3B1cElkID0gZG9tRGF0YUlkICYmIFwiXCIuY29uY2F0KGRvbURhdGFJZCwgXCItcG9wdXBcIik7IC8vID4+Pj4+IFRpdGxlXG5cbiAgdmFyIHRpdGxlTm9kZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHtcbiAgICByb2xlOiBcIm1lbnVpdGVtXCIsXG4gICAgc3R5bGU6IGRpcmVjdGlvblN0eWxlLFxuICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoc3ViTWVudVByZWZpeENscywgXCItdGl0bGVcIiksXG4gICAgdGFiSW5kZXg6IG1lcmdlZERpc2FibGVkID8gbnVsbCA6IC0xLFxuICAgIHJlZjogZWxlbWVudFJlZixcbiAgICB0aXRsZTogdHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJyA/IHRpdGxlIDogbnVsbCxcbiAgICBcImRhdGEtbWVudS1pZFwiOiBvdmVyZmxvd0Rpc2FibGVkICYmIGRvbURhdGFJZCA/IG51bGwgOiBkb21EYXRhSWQsXG4gICAgXCJhcmlhLWV4cGFuZGVkXCI6IG9wZW4sXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IHRydWUsXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IHBvcHVwSWQsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IG1lcmdlZERpc2FibGVkLFxuICAgIG9uQ2xpY2s6IG9uSW50ZXJuYWxUaXRsZUNsaWNrLFxuICAgIG9uRm9jdXM6IG9uSW50ZXJuYWxGb2N1c1xuICB9LCBhY3RpdmVQcm9wcyksIHRpdGxlLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgaWNvbjogbW9kZSAhPT0gJ2hvcml6b250YWwnID8gbWVyZ2VkRXhwYW5kSWNvbiA6IG51bGwsXG4gICAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwge1xuICAgICAgaXNPcGVuOiBvcGVuLFxuICAgICAgLy8gW0xlZ2FjeV0gTm90IHN1cmUgd2h5IG5lZWQgdGhpcyBtYXJrXG4gICAgICBpc1N1Yk1lbnU6IHRydWVcbiAgICB9KVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlcIiwge1xuICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoc3ViTWVudVByZWZpeENscywgXCItYXJyb3dcIilcbiAgfSkpKTsgLy8gQ2FjaGUgbW9kZSBpZiBpdCBjaGFuZ2UgdG8gYGlubGluZWAgd2hpY2ggZG8gbm90IGhhdmUgcG9wdXAgbW90aW9uXG5cbiAgdmFyIHRyaWdnZXJNb2RlUmVmID0gUmVhY3QudXNlUmVmKG1vZGUpO1xuXG4gIGlmIChtb2RlICE9PSAnaW5saW5lJykge1xuICAgIHRyaWdnZXJNb2RlUmVmLmN1cnJlbnQgPSBjb25uZWN0ZWRQYXRoLmxlbmd0aCA+IDEgPyAndmVydGljYWwnIDogbW9kZTtcbiAgfVxuXG4gIGlmICghb3ZlcmZsb3dEaXNhYmxlZCkge1xuICAgIHZhciB0cmlnZ2VyTW9kZSA9IHRyaWdnZXJNb2RlUmVmLmN1cnJlbnQ7IC8vIFN0aWxsIHdyYXAgd2l0aCBUcmlnZ2VyIGhlcmUgc2luY2Ugd2UgbmVlZCBhdm9pZCByZWFjdCByZS1tb3VudCBkb20gbm9kZVxuICAgIC8vIFdoaWNoIG1ha2VzIG1vdGlvbiBmYWlsZWRcblxuICAgIHRpdGxlTm9kZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcHVwVHJpZ2dlciwge1xuICAgICAgbW9kZTogdHJpZ2dlck1vZGUsXG4gICAgICBwcmVmaXhDbHM6IHN1Yk1lbnVQcmVmaXhDbHMsXG4gICAgICB2aXNpYmxlOiAhaW50ZXJuYWxQb3B1cENsb3NlICYmIG9wZW4gJiYgbW9kZSAhPT0gJ2lubGluZScsXG4gICAgICBwb3B1cENsYXNzTmFtZTogcG9wdXBDbGFzc05hbWUsXG4gICAgICBwb3B1cE9mZnNldDogcG9wdXBPZmZzZXQsXG4gICAgICBwb3B1cDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUNvbnRleHRQcm92aWRlciAvLyBTcGVjaWFsIGhhbmRsZSBvZiBob3Jpem9udGFsIG1vZGVcbiAgICAgICwge1xuICAgICAgICBtb2RlOiB0cmlnZ2VyTW9kZSA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6IHRyaWdnZXJNb2RlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJNZW51TGlzdCwge1xuICAgICAgICBpZDogcG9wdXBJZCxcbiAgICAgICAgcmVmOiBwb3B1cFJlZlxuICAgICAgfSwgY2hpbGRyZW4pKSxcbiAgICAgIGRpc2FibGVkOiBtZXJnZWREaXNhYmxlZCxcbiAgICAgIG9uVmlzaWJsZUNoYW5nZTogb25Qb3B1cFZpc2libGVDaGFuZ2VcbiAgICB9LCB0aXRsZU5vZGUpO1xuICB9IC8vID4+Pj4+IFJlbmRlclxuXG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVDb250ZXh0UHJvdmlkZXIsIHtcbiAgICBvbkl0ZW1DbGljazogb25NZXJnZWRJdGVtQ2xpY2ssXG4gICAgbW9kZTogbW9kZSA9PT0gJ2hvcml6b250YWwnID8gJ3ZlcnRpY2FsJyA6IG1vZGUsXG4gICAgaXRlbUljb246IG1lcmdlZEl0ZW1JY29uLFxuICAgIGV4cGFuZEljb246IG1lcmdlZEV4cGFuZEljb25cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoT3ZlcmZsb3cuSXRlbSwgX2V4dGVuZHMoe1xuICAgIHJvbGU6IFwibm9uZVwiXG4gIH0sIHJlc3RQcm9wcywge1xuICAgIGNvbXBvbmVudDogXCJsaVwiLFxuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoc3ViTWVudVByZWZpeENscywgXCJcIi5jb25jYXQoc3ViTWVudVByZWZpeENscywgXCItXCIpLmNvbmNhdChtb2RlKSwgY2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChzdWJNZW51UHJlZml4Q2xzLCBcIi1vcGVuXCIpLCBvcGVuKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChzdWJNZW51UHJlZml4Q2xzLCBcIi1hY3RpdmVcIiksIG1lcmdlZEFjdGl2ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJcIi5jb25jYXQoc3ViTWVudVByZWZpeENscywgXCItc2VsZWN0ZWRcIiksIGNoaWxkcmVuU2VsZWN0ZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIFwiXCIuY29uY2F0KHN1Yk1lbnVQcmVmaXhDbHMsIFwiLWRpc2FibGVkXCIpLCBtZXJnZWREaXNhYmxlZCksIF9jbGFzc05hbWVzKSksXG4gICAgb25Nb3VzZUVudGVyOiBvbkludGVybmFsTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IG9uSW50ZXJuYWxNb3VzZUxlYXZlXG4gIH0pLCB0aXRsZU5vZGUsICFvdmVyZmxvd0Rpc2FibGVkICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KElubGluZVN1Yk1lbnVMaXN0LCB7XG4gICAgaWQ6IHBvcHVwSWQsXG4gICAgb3Blbjogb3BlbixcbiAgICBrZXlQYXRoOiBjb25uZWN0ZWRQYXRoXG4gIH0sIGNoaWxkcmVuKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3ViTWVudShwcm9wcykge1xuICB2YXIgZXZlbnRLZXkgPSBwcm9wcy5ldmVudEtleSxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gIHZhciBjb25uZWN0ZWRLZXlQYXRoID0gdXNlRnVsbFBhdGgoZXZlbnRLZXkpO1xuICB2YXIgY2hpbGRMaXN0ID0gcGFyc2VDaGlsZHJlbihjaGlsZHJlbiwgY29ubmVjdGVkS2V5UGF0aCk7IC8vID09PT09PT09PT09PT09PT09PT09IFJlY29yZCBLZXlQYXRoID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIG1lYXN1cmUgPSB1c2VNZWFzdXJlKCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG1lYXN1cmUpIHtcbiAgICAgIG1lYXN1cmUucmVnaXN0ZXJQYXRoKGV2ZW50S2V5LCBjb25uZWN0ZWRLZXlQYXRoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1lYXN1cmUudW5yZWdpc3RlclBhdGgoZXZlbnRLZXksIGNvbm5lY3RlZEtleVBhdGgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtjb25uZWN0ZWRLZXlQYXRoXSk7XG4gIHZhciByZW5kZXJOb2RlOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gUmVuZGVyID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmIChtZWFzdXJlKSB7XG4gICAgcmVuZGVyTm9kZSA9IGNoaWxkTGlzdDtcbiAgfSBlbHNlIHtcbiAgICByZW5kZXJOb2RlID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSW50ZXJuYWxTdWJNZW51LCBwcm9wcywgY2hpbGRMaXN0KTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQYXRoVHJhY2tlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29ubmVjdGVkS2V5UGF0aFxuICB9LCByZW5kZXJOb2RlKTtcbn0iLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSBcInJjLXV0aWwvZXMvS2V5Q29kZVwiO1xuaW1wb3J0IHJhZiBmcm9tIFwicmMtdXRpbC9lcy9yYWZcIjtcbmltcG9ydCB7IGdldEZvY3VzTm9kZUxpc3QgfSBmcm9tIFwicmMtdXRpbC9lcy9Eb20vZm9jdXNcIjtcbmltcG9ydCB7IGdldE1lbnVJZCB9IGZyb20gJy4uL2NvbnRleHQvSWRDb250ZXh0JzsgLy8gZGVzdHJ1Y3QgdG8gcmVkdWNlIG1pbmlmeSBzaXplXG5cbnZhciBMRUZUID0gS2V5Q29kZS5MRUZULFxuICAgIFJJR0hUID0gS2V5Q29kZS5SSUdIVCxcbiAgICBVUCA9IEtleUNvZGUuVVAsXG4gICAgRE9XTiA9IEtleUNvZGUuRE9XTixcbiAgICBFTlRFUiA9IEtleUNvZGUuRU5URVIsXG4gICAgRVNDID0gS2V5Q29kZS5FU0M7XG52YXIgQXJyb3dLZXlzID0gW1VQLCBET1dOLCBMRUZULCBSSUdIVF07XG5cbmZ1bmN0aW9uIGdldE9mZnNldChtb2RlLCBpc1Jvb3RMZXZlbCwgaXNSdGwsIHdoaWNoKSB7XG4gIHZhciBfaW5saW5lLCBfaG9yaXpvbnRhbCwgX3ZlcnRpY2FsLCBfb2Zmc2V0cyQ7XG5cbiAgdmFyIHByZXYgPSAncHJldic7XG4gIHZhciBuZXh0ID0gJ25leHQnO1xuICB2YXIgY2hpbGRyZW4gPSAnY2hpbGRyZW4nO1xuICB2YXIgcGFyZW50ID0gJ3BhcmVudCc7IC8vIElubGluZSBlbnRlciBpcyBzcGVjaWFsIHRoYXQgd2UgdXNlIHVuaXF1ZSBvcGVyYXRpb25cblxuICBpZiAobW9kZSA9PT0gJ2lubGluZScgJiYgd2hpY2ggPT09IEVOVEVSKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlubGluZVRyaWdnZXI6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIGlubGluZSA9IChfaW5saW5lID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfaW5saW5lLCBVUCwgcHJldiksIF9kZWZpbmVQcm9wZXJ0eShfaW5saW5lLCBET1dOLCBuZXh0KSwgX2lubGluZSk7XG4gIHZhciBob3Jpem9udGFsID0gKF9ob3Jpem9udGFsID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfaG9yaXpvbnRhbCwgTEVGVCwgaXNSdGwgPyBuZXh0IDogcHJldiksIF9kZWZpbmVQcm9wZXJ0eShfaG9yaXpvbnRhbCwgUklHSFQsIGlzUnRsID8gcHJldiA6IG5leHQpLCBfZGVmaW5lUHJvcGVydHkoX2hvcml6b250YWwsIERPV04sIGNoaWxkcmVuKSwgX2RlZmluZVByb3BlcnR5KF9ob3Jpem9udGFsLCBFTlRFUiwgY2hpbGRyZW4pLCBfaG9yaXpvbnRhbCk7XG4gIHZhciB2ZXJ0aWNhbCA9IChfdmVydGljYWwgPSB7fSwgX2RlZmluZVByb3BlcnR5KF92ZXJ0aWNhbCwgVVAsIHByZXYpLCBfZGVmaW5lUHJvcGVydHkoX3ZlcnRpY2FsLCBET1dOLCBuZXh0KSwgX2RlZmluZVByb3BlcnR5KF92ZXJ0aWNhbCwgRU5URVIsIGNoaWxkcmVuKSwgX2RlZmluZVByb3BlcnR5KF92ZXJ0aWNhbCwgRVNDLCBwYXJlbnQpLCBfZGVmaW5lUHJvcGVydHkoX3ZlcnRpY2FsLCBMRUZULCBpc1J0bCA/IGNoaWxkcmVuIDogcGFyZW50KSwgX2RlZmluZVByb3BlcnR5KF92ZXJ0aWNhbCwgUklHSFQsIGlzUnRsID8gcGFyZW50IDogY2hpbGRyZW4pLCBfdmVydGljYWwpO1xuICB2YXIgb2Zmc2V0cyA9IHtcbiAgICBpbmxpbmU6IGlubGluZSxcbiAgICBob3Jpem9udGFsOiBob3Jpem9udGFsLFxuICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbCxcbiAgICBpbmxpbmVTdWI6IGlubGluZSxcbiAgICBob3Jpem9udGFsU3ViOiB2ZXJ0aWNhbCxcbiAgICB2ZXJ0aWNhbFN1YjogdmVydGljYWxcbiAgfTtcbiAgdmFyIHR5cGUgPSAoX29mZnNldHMkID0gb2Zmc2V0c1tcIlwiLmNvbmNhdChtb2RlKS5jb25jYXQoaXNSb290TGV2ZWwgPyAnJyA6ICdTdWInKV0pID09PSBudWxsIHx8IF9vZmZzZXRzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29mZnNldHMkW3doaWNoXTtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIHByZXY6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvZmZzZXQ6IC0xLFxuICAgICAgICBzaWJsaW5nOiB0cnVlXG4gICAgICB9O1xuXG4gICAgY2FzZSBuZXh0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICBzaWJsaW5nOiB0cnVlXG4gICAgICB9O1xuXG4gICAgY2FzZSBwYXJlbnQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvZmZzZXQ6IC0xLFxuICAgICAgICBzaWJsaW5nOiBmYWxzZVxuICAgICAgfTtcblxuICAgIGNhc2UgY2hpbGRyZW46XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgIHNpYmxpbmc6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRDb250YWluZXJVTChlbGVtZW50KSB7XG4gIHZhciBjdXJyZW50ID0gZWxlbWVudDtcblxuICB3aGlsZSAoY3VycmVudCkge1xuICAgIGlmIChjdXJyZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1tZW51LWxpc3QnKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuXG4gICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgfSAvLyBOb3JtYWxseSBzaG91bGQgbm90IHJlYWNoIHRoaXMgbGluZVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogRmluZCBmb2N1c2VkIGVsZW1lbnQgd2l0aGluIGVsZW1lbnQgc2V0IHByb3ZpZGVkXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRGb2N1c0VsZW1lbnQoYWN0aXZlRWxlbWVudCwgZWxlbWVudHMpIHtcbiAgdmFyIGN1cnJlbnQgPSBhY3RpdmVFbGVtZW50IHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBpZiAoZWxlbWVudHMuaGFzKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG5cbiAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEdldCBmb2N1c2FibGUgZWxlbWVudHMgZnJvbSB0aGUgZWxlbWVudCBzZXQgdW5kZXIgcHJvdmlkZWQgY29udGFpbmVyXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRGb2N1c2FibGVFbGVtZW50cyhjb250YWluZXIsIGVsZW1lbnRzKSB7XG4gIHZhciBsaXN0ID0gZ2V0Rm9jdXNOb2RlTGlzdChjb250YWluZXIsIHRydWUpO1xuICByZXR1cm4gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsZSkge1xuICAgIHJldHVybiBlbGVtZW50cy5oYXMoZWxlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE5leHRGb2N1c0VsZW1lbnQocGFyZW50UXVlcnlDb250YWluZXIsIGVsZW1lbnRzLCBmb2N1c01lbnVFbGVtZW50KSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDE7XG5cbiAgLy8gS2V5IG9uIHRoZSBtZW51IGl0ZW0gd2lsbCBub3QgZ2V0IHZhbGlkYXRlIHBhcmVudCBjb250YWluZXJcbiAgaWYgKCFwYXJlbnRRdWVyeUNvbnRhaW5lcikge1xuICAgIHJldHVybiBudWxsO1xuICB9IC8vIExpc3QgY3VycmVudCBsZXZlbCBtZW51IGl0ZW0gZWxlbWVudHNcblxuXG4gIHZhciBzYW1lTGV2ZWxGb2N1c2FibGVNZW51RWxlbWVudExpc3QgPSBnZXRGb2N1c2FibGVFbGVtZW50cyhwYXJlbnRRdWVyeUNvbnRhaW5lciwgZWxlbWVudHMpOyAvLyBGaW5kIG5leHQgZm9jdXMgaW5kZXhcblxuICB2YXIgY291bnQgPSBzYW1lTGV2ZWxGb2N1c2FibGVNZW51RWxlbWVudExpc3QubGVuZ3RoO1xuICB2YXIgZm9jdXNJbmRleCA9IHNhbWVMZXZlbEZvY3VzYWJsZU1lbnVFbGVtZW50TGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGVsZSkge1xuICAgIHJldHVybiBmb2N1c01lbnVFbGVtZW50ID09PSBlbGU7XG4gIH0pO1xuXG4gIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgaWYgKGZvY3VzSW5kZXggPT09IC0xKSB7XG4gICAgICBmb2N1c0luZGV4ID0gY291bnQgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1c0luZGV4IC09IDE7XG4gICAgfVxuICB9IGVsc2UgaWYgKG9mZnNldCA+IDApIHtcbiAgICBmb2N1c0luZGV4ICs9IDE7XG4gIH1cblxuICBmb2N1c0luZGV4ID0gKGZvY3VzSW5kZXggKyBjb3VudCkgJSBjb3VudDsgLy8gRm9jdXMgbWVudSBpdGVtXG5cbiAgcmV0dXJuIHNhbWVMZXZlbEZvY3VzYWJsZU1lbnVFbGVtZW50TGlzdFtmb2N1c0luZGV4XTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQWNjZXNzaWJpbGl0eShtb2RlLCBhY3RpdmVLZXksIGlzUnRsLCBpZCwgY29udGFpbmVyUmVmLCBnZXRLZXlzLCBnZXRLZXlQYXRoLCB0cmlnZ2VyQWN0aXZlS2V5LCB0cmlnZ2VyQWNjZXNzaWJpbGl0eU9wZW4sIG9yaWdpbk9uS2V5RG93bikge1xuICB2YXIgcmFmUmVmID0gUmVhY3QudXNlUmVmKCk7XG4gIHZhciBhY3RpdmVSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgYWN0aXZlUmVmLmN1cnJlbnQgPSBhY3RpdmVLZXk7XG5cbiAgdmFyIGNsZWFuUmFmID0gZnVuY3Rpb24gY2xlYW5SYWYoKSB7XG4gICAgcmFmLmNhbmNlbChyYWZSZWYuY3VycmVudCk7XG4gIH07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYW5SYWYoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB3aGljaCA9IGUud2hpY2g7XG5cbiAgICBpZiAoW10uY29uY2F0KEFycm93S2V5cywgW0VOVEVSLCBFU0NdKS5pbmNsdWRlcyh3aGljaCkpIHtcbiAgICAgIC8vIENvbnZlcnQga2V5IHRvIGVsZW1lbnRzXG4gICAgICB2YXIgZWxlbWVudHM7XG4gICAgICB2YXIga2V5MmVsZW1lbnQ7XG4gICAgICB2YXIgZWxlbWVudDJrZXk7IC8vID4+PiBXcmFwIGFzIGZ1bmN0aW9uIHNpbmNlIHdlIHVzZSByYWYgZm9yIHNvbWUgY2FzZVxuXG4gICAgICB2YXIgcmVmcmVzaEVsZW1lbnRzID0gZnVuY3Rpb24gcmVmcmVzaEVsZW1lbnRzKCkge1xuICAgICAgICBlbGVtZW50cyA9IG5ldyBTZXQoKTtcbiAgICAgICAga2V5MmVsZW1lbnQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGVsZW1lbnQya2V5ID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIga2V5cyA9IGdldEtleXMoKTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1tZW51LWlkPSdcIi5jb25jYXQoZ2V0TWVudUlkKGlkLCBrZXkpLCBcIiddXCIpKTtcblxuICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50cy5hZGQoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50MmtleS5zZXQoZWxlbWVudCwga2V5KTtcbiAgICAgICAgICAgIGtleTJlbGVtZW50LnNldChrZXksIGVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgIH07XG5cbiAgICAgIHJlZnJlc2hFbGVtZW50cygpOyAvLyBGaXJzdCB3ZSBzaG91bGQgZmluZCBjdXJyZW50IGZvY3VzZWQgTWVudUl0ZW0vU3ViTWVudSBlbGVtZW50XG5cbiAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0ga2V5MmVsZW1lbnQuZ2V0KGFjdGl2ZUtleSk7XG4gICAgICB2YXIgZm9jdXNNZW51RWxlbWVudCA9IGdldEZvY3VzRWxlbWVudChhY3RpdmVFbGVtZW50LCBlbGVtZW50cyk7XG4gICAgICB2YXIgZm9jdXNNZW51S2V5ID0gZWxlbWVudDJrZXkuZ2V0KGZvY3VzTWVudUVsZW1lbnQpO1xuICAgICAgdmFyIG9mZnNldE9iaiA9IGdldE9mZnNldChtb2RlLCBnZXRLZXlQYXRoKGZvY3VzTWVudUtleSwgdHJ1ZSkubGVuZ3RoID09PSAxLCBpc1J0bCwgd2hpY2gpOyAvLyBTb21lIG1vZGUgZG8gbm90IGhhdmUgZnVsbHkgYXJyb3cgb3BlcmF0aW9uIGxpa2UgaW5saW5lXG5cbiAgICAgIGlmICghb2Zmc2V0T2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gQXJyb3cgcHJldmVudCBkZWZhdWx0IHRvIGF2b2lkIHBhZ2Ugc2Nyb2xsXG5cblxuICAgICAgaWYgKEFycm93S2V5cy5pbmNsdWRlcyh3aGljaCkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJ5Rm9jdXMgPSBmdW5jdGlvbiB0cnlGb2N1cyhtZW51RWxlbWVudCkge1xuICAgICAgICBpZiAobWVudUVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgZm9jdXNUYXJnZXRFbGVtZW50ID0gbWVudUVsZW1lbnQ7IC8vIEZvY3VzIHRvIGxpbmsgaW5zdGVhZCBvZiBtZW51IGl0ZW0gaWYgcG9zc2libGVcblxuICAgICAgICAgIHZhciBsaW5rID0gbWVudUVsZW1lbnQucXVlcnlTZWxlY3RvcignYScpO1xuXG4gICAgICAgICAgaWYgKGxpbmsgPT09IG51bGwgfHwgbGluayA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkge1xuICAgICAgICAgICAgZm9jdXNUYXJnZXRFbGVtZW50ID0gbGluaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdGFyZ2V0S2V5ID0gZWxlbWVudDJrZXkuZ2V0KG1lbnVFbGVtZW50KTtcbiAgICAgICAgICB0cmlnZ2VyQWN0aXZlS2V5KHRhcmdldEtleSk7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogRG8gbm90IGB1c2VFZmZlY3RgIGhlcmUgc2luY2UgYHRyeUZvY3VzYCBtYXkgdHJpZ2dlciBhc3luY1xuICAgICAgICAgICAqIHdoaWNoIG1ha2VzIFJlYWN0IHN5bmMgdXBkYXRlIHRoZSBgYWN0aXZlS2V5YFxuICAgICAgICAgICAqIHRoYXQgZm9yY2UgcmVuZGVyIGJlZm9yZSBgdXNlUmVmYCBzZXQgdGhlIG5leHQgYWN0aXZlS2V5XG4gICAgICAgICAgICovXG5cbiAgICAgICAgICBjbGVhblJhZigpO1xuICAgICAgICAgIHJhZlJlZi5jdXJyZW50ID0gcmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVSZWYuY3VycmVudCA9PT0gdGFyZ2V0S2V5KSB7XG4gICAgICAgICAgICAgIGZvY3VzVGFyZ2V0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAob2Zmc2V0T2JqLnNpYmxpbmcgfHwgIWZvY3VzTWVudUVsZW1lbnQpIHtcbiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT0gU2libGluZyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBGaW5kIHdhbGthYmxlIGZvY3VzIG1lbnUgZWxlbWVudCBjb250YWluZXJcbiAgICAgICAgdmFyIHBhcmVudFF1ZXJ5Q29udGFpbmVyO1xuXG4gICAgICAgIGlmICghZm9jdXNNZW51RWxlbWVudCB8fCBtb2RlID09PSAnaW5saW5lJykge1xuICAgICAgICAgIHBhcmVudFF1ZXJ5Q29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50UXVlcnlDb250YWluZXIgPSBmaW5kQ29udGFpbmVyVUwoZm9jdXNNZW51RWxlbWVudCk7XG4gICAgICAgIH0gLy8gR2V0IG5leHQgZm9jdXMgZWxlbWVudFxuXG5cbiAgICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSBnZXROZXh0Rm9jdXNFbGVtZW50KHBhcmVudFF1ZXJ5Q29udGFpbmVyLCBlbGVtZW50cywgZm9jdXNNZW51RWxlbWVudCwgb2Zmc2V0T2JqLm9mZnNldCk7IC8vIEZvY3VzIG1lbnUgaXRlbVxuXG4gICAgICAgIHRyeUZvY3VzKHRhcmdldEVsZW1lbnQpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PSBJbmxpbmVUcmlnZ2VyID09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICB9IGVsc2UgaWYgKG9mZnNldE9iai5pbmxpbmVUcmlnZ2VyKSB7XG4gICAgICAgIC8vIElubGluZSB0cmlnZ2VyIG5vIG5lZWQgc3dpdGNoIHRvIHN1YiBtZW51IGl0ZW1cbiAgICAgICAgdHJpZ2dlckFjY2Vzc2liaWxpdHlPcGVuKGZvY3VzTWVudUtleSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PSBMZXZlbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgIH0gZWxzZSBpZiAob2Zmc2V0T2JqLm9mZnNldCA+IDApIHtcbiAgICAgICAgdHJpZ2dlckFjY2Vzc2liaWxpdHlPcGVuKGZvY3VzTWVudUtleSwgdHJ1ZSk7XG4gICAgICAgIGNsZWFuUmFmKCk7XG4gICAgICAgIHJhZlJlZi5jdXJyZW50ID0gcmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBBc3luYyBzaG91bGQgcmVzeW5jIGVsZW1lbnRzXG4gICAgICAgICAgcmVmcmVzaEVsZW1lbnRzKCk7XG4gICAgICAgICAgdmFyIGNvbnRyb2xJZCA9IGZvY3VzTWVudUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XG4gICAgICAgICAgdmFyIHN1YlF1ZXJ5Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udHJvbElkKTsgLy8gR2V0IHN1YiBmb2N1c2FibGUgbWVudSBpdGVtXG5cbiAgICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IGdldE5leHRGb2N1c0VsZW1lbnQoc3ViUXVlcnlDb250YWluZXIsIGVsZW1lbnRzKTsgLy8gRm9jdXMgbWVudSBpdGVtXG5cbiAgICAgICAgICB0cnlGb2N1cyh0YXJnZXRFbGVtZW50KTtcbiAgICAgICAgfSwgNSk7XG4gICAgICB9IGVsc2UgaWYgKG9mZnNldE9iai5vZmZzZXQgPCAwKSB7XG4gICAgICAgIHZhciBrZXlQYXRoID0gZ2V0S2V5UGF0aChmb2N1c01lbnVLZXksIHRydWUpO1xuICAgICAgICB2YXIgcGFyZW50S2V5ID0ga2V5UGF0aFtrZXlQYXRoLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgcGFyZW50TWVudUVsZW1lbnQgPSBrZXkyZWxlbWVudC5nZXQocGFyZW50S2V5KTsgLy8gRm9jdXMgbWVudSBpdGVtXG5cbiAgICAgICAgdHJpZ2dlckFjY2Vzc2liaWxpdHlPcGVuKHBhcmVudEtleSwgZmFsc2UpO1xuICAgICAgICB0cnlGb2N1cyhwYXJlbnRNZW51RWxlbWVudCk7XG4gICAgICB9XG4gICAgfSAvLyBQYXNzIG9yaWdpbiBrZXkgZG93biBldmVudFxuXG5cbiAgICBvcmlnaW5PbktleURvd24gPT09IG51bGwgfHwgb3JpZ2luT25LZXlEb3duID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnaW5PbktleURvd24oZSk7XG4gIH07XG59IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlTWVyZ2VkU3RhdGUgZnJvbSBcInJjLXV0aWwvZXMvaG9va3MvdXNlTWVyZ2VkU3RhdGVcIjtcbnZhciB1bmlxdWVQcmVmaXggPSBNYXRoLnJhbmRvbSgpLnRvRml4ZWQoNSkudG9TdHJpbmcoKS5zbGljZSgyKTtcbnZhciBpbnRlcm5hbElkID0gMDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVVVSUQoaWQpIHtcbiAgdmFyIF91c2VNZXJnZWRTdGF0ZSA9IHVzZU1lcmdlZFN0YXRlKGlkLCB7XG4gICAgdmFsdWU6IGlkXG4gIH0pLFxuICAgICAgX3VzZU1lcmdlZFN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VNZXJnZWRTdGF0ZSwgMiksXG4gICAgICB1dWlkID0gX3VzZU1lcmdlZFN0YXRlMlswXSxcbiAgICAgIHNldFVVSUQgPSBfdXNlTWVyZ2VkU3RhdGUyWzFdO1xuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaW50ZXJuYWxJZCArPSAxO1xuICAgIHZhciBuZXdJZCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcgPyAndGVzdCcgOiBcIlwiLmNvbmNhdCh1bmlxdWVQcmVmaXgsIFwiLVwiKS5jb25jYXQoaW50ZXJuYWxJZCk7XG4gICAgc2V0VVVJRChcInJjLW1lbnUtdXVpZC1cIi5jb25jYXQobmV3SWQpKTtcbiAgfSwgW10pO1xuICByZXR1cm4gdXVpZDtcbn0iLCJpbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheVwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuaW1wb3J0IHsgbmV4dFNsaWNlIH0gZnJvbSAnLi4vdXRpbHMvdGltZVV0aWwnO1xudmFyIFBBVEhfU1BMSVQgPSAnX19SQ19VVElMX1BBVEhfU1BMSVRfXyc7XG5cbnZhciBnZXRQYXRoU3RyID0gZnVuY3Rpb24gZ2V0UGF0aFN0cihrZXlQYXRoKSB7XG4gIHJldHVybiBrZXlQYXRoLmpvaW4oUEFUSF9TUExJVCk7XG59O1xuXG52YXIgZ2V0UGF0aEtleXMgPSBmdW5jdGlvbiBnZXRQYXRoS2V5cyhrZXlQYXRoU3RyKSB7XG4gIHJldHVybiBrZXlQYXRoU3RyLnNwbGl0KFBBVEhfU1BMSVQpO1xufTtcblxuZXhwb3J0IHZhciBPVkVSRkxPV19LRVkgPSAncmMtbWVudS1tb3JlJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUtleVJlY29yZHMoKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIGludGVybmFsRm9yY2VVcGRhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBrZXkycGF0aFJlZiA9IHVzZVJlZihuZXcgTWFwKCkpO1xuICB2YXIgcGF0aDJrZXlSZWYgPSB1c2VSZWYobmV3IE1hcCgpKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMyA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIG92ZXJmbG93S2V5cyA9IF9SZWFjdCR1c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRPdmVyZmxvd0tleXMgPSBfUmVhY3QkdXNlU3RhdGU0WzFdO1xuXG4gIHZhciB1cGRhdGVSZWYgPSB1c2VSZWYoMCk7XG4gIHZhciBkZXN0cm95UmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICB2YXIgZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiBmb3JjZVVwZGF0ZSgpIHtcbiAgICBpZiAoIWRlc3Ryb3lSZWYuY3VycmVudCkge1xuICAgICAgaW50ZXJuYWxGb3JjZVVwZGF0ZSh7fSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZWdpc3RlclBhdGggPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoa2V5LCBrZXlQYXRoKSB7XG4gICAgLy8gV2FybmluZyBmb3IgaW52YWxpZGF0ZSBvciBkdXBsaWNhdGVkIGBrZXlgXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHdhcm5pbmcoIWtleTJwYXRoUmVmLmN1cnJlbnQuaGFzKGtleSksIFwiRHVwbGljYXRlZCBrZXkgJ1wiLmNvbmNhdChrZXksIFwiJyB1c2VkIGluIE1lbnUgYnkgcGF0aCBbXCIpLmNvbmNhdChrZXlQYXRoLmpvaW4oJyA+ICcpLCBcIl1cIikpO1xuICAgIH0gLy8gRmlsbCBtYXBcblxuXG4gICAgdmFyIGNvbm5lY3RlZFBhdGggPSBnZXRQYXRoU3RyKGtleVBhdGgpO1xuICAgIHBhdGgya2V5UmVmLmN1cnJlbnQuc2V0KGNvbm5lY3RlZFBhdGgsIGtleSk7XG4gICAga2V5MnBhdGhSZWYuY3VycmVudC5zZXQoa2V5LCBjb25uZWN0ZWRQYXRoKTtcbiAgICB1cGRhdGVSZWYuY3VycmVudCArPSAxO1xuICAgIHZhciBpZCA9IHVwZGF0ZVJlZi5jdXJyZW50O1xuICAgIG5leHRTbGljZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaWQgPT09IHVwZGF0ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgdmFyIHVucmVnaXN0ZXJQYXRoID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGtleSwga2V5UGF0aCkge1xuICAgIHZhciBjb25uZWN0ZWRQYXRoID0gZ2V0UGF0aFN0cihrZXlQYXRoKTtcbiAgICBwYXRoMmtleVJlZi5jdXJyZW50LmRlbGV0ZShjb25uZWN0ZWRQYXRoKTtcbiAgICBrZXkycGF0aFJlZi5jdXJyZW50LmRlbGV0ZShrZXkpO1xuICB9LCBbXSk7XG4gIHZhciByZWZyZXNoT3ZlcmZsb3dLZXlzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGtleXMpIHtcbiAgICBzZXRPdmVyZmxvd0tleXMoa2V5cyk7XG4gIH0sIFtdKTtcbiAgdmFyIGdldEtleVBhdGggPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnRLZXksIGluY2x1ZGVPdmVyZmxvdykge1xuICAgIHZhciBmdWxsUGF0aCA9IGtleTJwYXRoUmVmLmN1cnJlbnQuZ2V0KGV2ZW50S2V5KSB8fCAnJztcbiAgICB2YXIga2V5cyA9IGdldFBhdGhLZXlzKGZ1bGxQYXRoKTtcblxuICAgIGlmIChpbmNsdWRlT3ZlcmZsb3cgJiYgb3ZlcmZsb3dLZXlzLmluY2x1ZGVzKGtleXNbMF0pKSB7XG4gICAgICBrZXlzLnVuc2hpZnQoT1ZFUkZMT1dfS0VZKTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcbiAgfSwgW292ZXJmbG93S2V5c10pO1xuICB2YXIgaXNTdWJQYXRoS2V5ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHBhdGhLZXlzLCBldmVudEtleSkge1xuICAgIHJldHVybiBwYXRoS2V5cy5zb21lKGZ1bmN0aW9uIChwYXRoS2V5KSB7XG4gICAgICB2YXIgcGF0aEtleUxpc3QgPSBnZXRLZXlQYXRoKHBhdGhLZXksIHRydWUpO1xuICAgICAgcmV0dXJuIHBhdGhLZXlMaXN0LmluY2x1ZGVzKGV2ZW50S2V5KTtcbiAgICB9KTtcbiAgfSwgW2dldEtleVBhdGhdKTtcblxuICB2YXIgZ2V0S2V5cyA9IGZ1bmN0aW9uIGdldEtleXMoKSB7XG4gICAgdmFyIGtleXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoa2V5MnBhdGhSZWYuY3VycmVudC5rZXlzKCkpO1xuXG4gICAgaWYgKG92ZXJmbG93S2V5cy5sZW5ndGgpIHtcbiAgICAgIGtleXMucHVzaChPVkVSRkxPV19LRVkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9O1xuICAvKipcbiAgICogRmluZCBjdXJyZW50IGtleSByZWxhdGVkIGNoaWxkIHBhdGgga2V5c1xuICAgKi9cblxuXG4gIHZhciBnZXRTdWJQYXRoS2V5cyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY29ubmVjdGVkUGF0aCA9IFwiXCIuY29uY2F0KGtleTJwYXRoUmVmLmN1cnJlbnQuZ2V0KGtleSkpLmNvbmNhdChQQVRIX1NQTElUKTtcbiAgICB2YXIgcGF0aEtleXMgPSBuZXcgU2V0KCk7XG5cbiAgICBfdG9Db25zdW1hYmxlQXJyYXkocGF0aDJrZXlSZWYuY3VycmVudC5rZXlzKCkpLmZvckVhY2goZnVuY3Rpb24gKHBhdGhLZXkpIHtcbiAgICAgIGlmIChwYXRoS2V5LnN0YXJ0c1dpdGgoY29ubmVjdGVkUGF0aCkpIHtcbiAgICAgICAgcGF0aEtleXMuYWRkKHBhdGgya2V5UmVmLmN1cnJlbnQuZ2V0KHBhdGhLZXkpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwYXRoS2V5cztcbiAgfSwgW10pO1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXN0cm95UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHtcbiAgICAvLyBSZWdpc3RlclxuICAgIHJlZ2lzdGVyUGF0aDogcmVnaXN0ZXJQYXRoLFxuICAgIHVucmVnaXN0ZXJQYXRoOiB1bnJlZ2lzdGVyUGF0aCxcbiAgICByZWZyZXNoT3ZlcmZsb3dLZXlzOiByZWZyZXNoT3ZlcmZsb3dLZXlzLFxuICAgIC8vIFV0aWxcbiAgICBpc1N1YlBhdGhLZXk6IGlzU3ViUGF0aEtleSxcbiAgICBnZXRLZXlQYXRoOiBnZXRLZXlQYXRoLFxuICAgIGdldEtleXM6IGdldEtleXMsXG4gICAgZ2V0U3ViUGF0aEtleXM6IGdldFN1YlBhdGhLZXlzXG4gIH07XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnc2hhbGxvd2VxdWFsJztcbmltcG9ydCB1c2VNZXJnZWRTdGF0ZSBmcm9tIFwicmMtdXRpbC9lcy9ob29rcy91c2VNZXJnZWRTdGF0ZVwiO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSBcInJjLXV0aWwvZXMvd2FybmluZ1wiO1xuaW1wb3J0IE92ZXJmbG93IGZyb20gJ3JjLW92ZXJmbG93JztcbmltcG9ydCBNZW51SXRlbSBmcm9tICcuL01lbnVJdGVtJztcbmltcG9ydCB7IHBhcnNlQ2hpbGRyZW4gfSBmcm9tICcuL3V0aWxzL25vZGVVdGlsJztcbmltcG9ydCBNZW51Q29udGV4dFByb3ZpZGVyIGZyb20gJy4vY29udGV4dC9NZW51Q29udGV4dCc7XG5pbXBvcnQgdXNlTWVtb0NhbGxiYWNrIGZyb20gJy4vaG9va3MvdXNlTWVtb0NhbGxiYWNrJztcbmltcG9ydCB7IHdhcm5JdGVtUHJvcCB9IGZyb20gJy4vdXRpbHMvd2FyblV0aWwnO1xuaW1wb3J0IFN1Yk1lbnUgZnJvbSAnLi9TdWJNZW51JztcbmltcG9ydCB1c2VBY2Nlc3NpYmlsaXR5IGZyb20gJy4vaG9va3MvdXNlQWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgdXNlVVVJRCBmcm9tICcuL2hvb2tzL3VzZVVVSUQnO1xuaW1wb3J0IHsgUGF0aFJlZ2lzdGVyQ29udGV4dCwgUGF0aFVzZXJDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0L1BhdGhDb250ZXh0JztcbmltcG9ydCB1c2VLZXlSZWNvcmRzLCB7IE9WRVJGTE9XX0tFWSB9IGZyb20gJy4vaG9va3MvdXNlS2V5UmVjb3Jkcyc7XG5pbXBvcnQgeyBJZENvbnRleHQgfSBmcm9tICcuL2NvbnRleHQvSWRDb250ZXh0Jztcbi8qKlxuICogTWVudSBtb2RpZnkgYWZ0ZXIgcmVmYWN0b3I6XG4gKiAjIyBBZGRcbiAqIC0gZGlzYWJsZWRcbiAqXG4gKiAjIyBSZW1vdmVcbiAqIC0gb3BlblRyYW5zaXRpb25OYW1lXG4gKiAtIG9wZW5BbmltYXRpb25cbiAqIC0gb25EZXN0cm95XG4gKiAtIHNpZGVyQ29sbGFwc2VkOiBTZWVtcyBhbnRkIGRvIG5vdCB1c2UgdGhpcyBwcm9wIChOZWVkIHRlc3QgaW4gYW50ZClcbiAqIC0gY29sbGFwc2VkV2lkdGg6IFNlZW1zIHRoaXMgbG9naWMgc2hvdWxkIGJlIGhhbmRsZSBieSBhbnRkIExheW91dC5TaWRlclxuICovXG4vLyBvcHRpbWl6ZSBmb3IgcmVuZGVyXG5cbnZhciBFTVBUWV9MSVNUID0gW107XG5cbnZhciBNZW51ID0gZnVuY3Rpb24gTWVudShwcm9wcykge1xuICB2YXIgX2NoaWxkTGlzdCQsIF9jbGFzc05hbWVzO1xuXG4gIHZhciBfcHJvcHMkcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgcHJlZml4Q2xzID0gX3Byb3BzJHByZWZpeENscyA9PT0gdm9pZCAwID8gJ3JjLW1lbnUnIDogX3Byb3BzJHByZWZpeENscyxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBfcHJvcHMkdGFiSW5kZXggPSBwcm9wcy50YWJJbmRleCxcbiAgICAgIHRhYkluZGV4ID0gX3Byb3BzJHRhYkluZGV4ID09PSB2b2lkIDAgPyAwIDogX3Byb3BzJHRhYkluZGV4LFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgIGlkID0gcHJvcHMuaWQsXG4gICAgICBfcHJvcHMkbW9kZSA9IHByb3BzLm1vZGUsXG4gICAgICBtb2RlID0gX3Byb3BzJG1vZGUgPT09IHZvaWQgMCA/ICd2ZXJ0aWNhbCcgOiBfcHJvcHMkbW9kZSxcbiAgICAgIGlubGluZUNvbGxhcHNlZCA9IHByb3BzLmlubGluZUNvbGxhcHNlZCxcbiAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZE92ZXJmbG93ID0gcHJvcHMuZGlzYWJsZWRPdmVyZmxvdyxcbiAgICAgIF9wcm9wcyRzdWJNZW51T3BlbkRlbCA9IHByb3BzLnN1Yk1lbnVPcGVuRGVsYXksXG4gICAgICBzdWJNZW51T3BlbkRlbGF5ID0gX3Byb3BzJHN1Yk1lbnVPcGVuRGVsID09PSB2b2lkIDAgPyAwLjEgOiBfcHJvcHMkc3ViTWVudU9wZW5EZWwsXG4gICAgICBfcHJvcHMkc3ViTWVudUNsb3NlRGUgPSBwcm9wcy5zdWJNZW51Q2xvc2VEZWxheSxcbiAgICAgIHN1Yk1lbnVDbG9zZURlbGF5ID0gX3Byb3BzJHN1Yk1lbnVDbG9zZURlID09PSB2b2lkIDAgPyAwLjEgOiBfcHJvcHMkc3ViTWVudUNsb3NlRGUsXG4gICAgICBmb3JjZVN1Yk1lbnVSZW5kZXIgPSBwcm9wcy5mb3JjZVN1Yk1lbnVSZW5kZXIsXG4gICAgICBkZWZhdWx0T3BlbktleXMgPSBwcm9wcy5kZWZhdWx0T3BlbktleXMsXG4gICAgICBvcGVuS2V5cyA9IHByb3BzLm9wZW5LZXlzLFxuICAgICAgYWN0aXZlS2V5ID0gcHJvcHMuYWN0aXZlS2V5LFxuICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0ID0gcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0LFxuICAgICAgX3Byb3BzJHNlbGVjdGFibGUgPSBwcm9wcy5zZWxlY3RhYmxlLFxuICAgICAgc2VsZWN0YWJsZSA9IF9wcm9wcyRzZWxlY3RhYmxlID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJHNlbGVjdGFibGUsXG4gICAgICBfcHJvcHMkbXVsdGlwbGUgPSBwcm9wcy5tdWx0aXBsZSxcbiAgICAgIG11bHRpcGxlID0gX3Byb3BzJG11bHRpcGxlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRtdWx0aXBsZSxcbiAgICAgIGRlZmF1bHRTZWxlY3RlZEtleXMgPSBwcm9wcy5kZWZhdWx0U2VsZWN0ZWRLZXlzLFxuICAgICAgc2VsZWN0ZWRLZXlzID0gcHJvcHMuc2VsZWN0ZWRLZXlzLFxuICAgICAgb25TZWxlY3QgPSBwcm9wcy5vblNlbGVjdCxcbiAgICAgIG9uRGVzZWxlY3QgPSBwcm9wcy5vbkRlc2VsZWN0LFxuICAgICAgX3Byb3BzJGlubGluZUluZGVudCA9IHByb3BzLmlubGluZUluZGVudCxcbiAgICAgIGlubGluZUluZGVudCA9IF9wcm9wcyRpbmxpbmVJbmRlbnQgPT09IHZvaWQgMCA/IDI0IDogX3Byb3BzJGlubGluZUluZGVudCxcbiAgICAgIG1vdGlvbiA9IHByb3BzLm1vdGlvbixcbiAgICAgIGRlZmF1bHRNb3Rpb25zID0gcHJvcHMuZGVmYXVsdE1vdGlvbnMsXG4gICAgICBfcHJvcHMkdHJpZ2dlclN1Yk1lbnUgPSBwcm9wcy50cmlnZ2VyU3ViTWVudUFjdGlvbixcbiAgICAgIHRyaWdnZXJTdWJNZW51QWN0aW9uID0gX3Byb3BzJHRyaWdnZXJTdWJNZW51ID09PSB2b2lkIDAgPyAnaG92ZXInIDogX3Byb3BzJHRyaWdnZXJTdWJNZW51LFxuICAgICAgYnVpbHRpblBsYWNlbWVudHMgPSBwcm9wcy5idWlsdGluUGxhY2VtZW50cyxcbiAgICAgIGl0ZW1JY29uID0gcHJvcHMuaXRlbUljb24sXG4gICAgICBleHBhbmRJY29uID0gcHJvcHMuZXhwYW5kSWNvbixcbiAgICAgIF9wcm9wcyRvdmVyZmxvd2VkSW5kaSA9IHByb3BzLm92ZXJmbG93ZWRJbmRpY2F0b3IsXG4gICAgICBvdmVyZmxvd2VkSW5kaWNhdG9yID0gX3Byb3BzJG92ZXJmbG93ZWRJbmRpID09PSB2b2lkIDAgPyAnLi4uJyA6IF9wcm9wcyRvdmVyZmxvd2VkSW5kaSxcbiAgICAgIG92ZXJmbG93ZWRJbmRpY2F0b3JQb3B1cENsYXNzTmFtZSA9IHByb3BzLm92ZXJmbG93ZWRJbmRpY2F0b3JQb3B1cENsYXNzTmFtZSxcbiAgICAgIGdldFBvcHVwQ29udGFpbmVyID0gcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICBvbkNsaWNrID0gcHJvcHMub25DbGljayxcbiAgICAgIG9uT3BlbkNoYW5nZSA9IHByb3BzLm9uT3BlbkNoYW5nZSxcbiAgICAgIG9uS2V5RG93biA9IHByb3BzLm9uS2V5RG93bixcbiAgICAgIG9wZW5BbmltYXRpb24gPSBwcm9wcy5vcGVuQW5pbWF0aW9uLFxuICAgICAgb3BlblRyYW5zaXRpb25OYW1lID0gcHJvcHMub3BlblRyYW5zaXRpb25OYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbXCJwcmVmaXhDbHNcIiwgXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcInRhYkluZGV4XCIsIFwiY2hpbGRyZW5cIiwgXCJkaXJlY3Rpb25cIiwgXCJpZFwiLCBcIm1vZGVcIiwgXCJpbmxpbmVDb2xsYXBzZWRcIiwgXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkT3ZlcmZsb3dcIiwgXCJzdWJNZW51T3BlbkRlbGF5XCIsIFwic3ViTWVudUNsb3NlRGVsYXlcIiwgXCJmb3JjZVN1Yk1lbnVSZW5kZXJcIiwgXCJkZWZhdWx0T3BlbktleXNcIiwgXCJvcGVuS2V5c1wiLCBcImFjdGl2ZUtleVwiLCBcImRlZmF1bHRBY3RpdmVGaXJzdFwiLCBcInNlbGVjdGFibGVcIiwgXCJtdWx0aXBsZVwiLCBcImRlZmF1bHRTZWxlY3RlZEtleXNcIiwgXCJzZWxlY3RlZEtleXNcIiwgXCJvblNlbGVjdFwiLCBcIm9uRGVzZWxlY3RcIiwgXCJpbmxpbmVJbmRlbnRcIiwgXCJtb3Rpb25cIiwgXCJkZWZhdWx0TW90aW9uc1wiLCBcInRyaWdnZXJTdWJNZW51QWN0aW9uXCIsIFwiYnVpbHRpblBsYWNlbWVudHNcIiwgXCJpdGVtSWNvblwiLCBcImV4cGFuZEljb25cIiwgXCJvdmVyZmxvd2VkSW5kaWNhdG9yXCIsIFwib3ZlcmZsb3dlZEluZGljYXRvclBvcHVwQ2xhc3NOYW1lXCIsIFwiZ2V0UG9wdXBDb250YWluZXJcIiwgXCJvbkNsaWNrXCIsIFwib25PcGVuQ2hhbmdlXCIsIFwib25LZXlEb3duXCIsIFwib3BlbkFuaW1hdGlvblwiLCBcIm9wZW5UcmFuc2l0aW9uTmFtZVwiXSk7XG5cbiAgdmFyIGNoaWxkTGlzdCA9IHBhcnNlQ2hpbGRyZW4oY2hpbGRyZW4sIEVNUFRZX0xJU1QpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSxcbiAgICAgIG1vdW50ZWQgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0TW91bnRlZCA9IF9SZWFjdCR1c2VTdGF0ZTJbMV07XG5cbiAgdmFyIGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICB2YXIgdXVpZCA9IHVzZVVVSUQoaWQpO1xuICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09ICdydGwnOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IFdhcm4gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgd2FybmluZyghb3BlbkFuaW1hdGlvbiAmJiAhb3BlblRyYW5zaXRpb25OYW1lLCAnYG9wZW5BbmltYXRpb25gIGFuZCBgb3BlblRyYW5zaXRpb25OYW1lYCBpcyByZW1vdmVkLiBQbGVhc2UgdXNlIGBtb3Rpb25gIG9yIGBkZWZhdWx0TW90aW9uYCBpbnN0ZWFkLicpO1xuICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gTW9kZSA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuICB2YXIgX1JlYWN0JHVzZU1lbW8gPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoKG1vZGUgPT09ICdpbmxpbmUnIHx8IG1vZGUgPT09ICd2ZXJ0aWNhbCcpICYmIGlubGluZUNvbGxhcHNlZCkge1xuICAgICAgcmV0dXJuIFsndmVydGljYWwnLCBpbmxpbmVDb2xsYXBzZWRdO1xuICAgIH1cblxuICAgIHJldHVybiBbbW9kZSwgZmFsc2VdO1xuICB9LCBbbW9kZSwgaW5saW5lQ29sbGFwc2VkXSksXG4gICAgICBfUmVhY3QkdXNlTWVtbzIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlTWVtbywgMiksXG4gICAgICBtZXJnZWRNb2RlID0gX1JlYWN0JHVzZU1lbW8yWzBdLFxuICAgICAgbWVyZ2VkSW5saW5lQ29sbGFwc2VkID0gX1JlYWN0JHVzZU1lbW8yWzFdOyAvLyA9PT09PT09PT09PT09PT09PT09PT09IFJlc3BvbnNpdmUgPT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTMgPSBSZWFjdC51c2VTdGF0ZSgwKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUzLCAyKSxcbiAgICAgIGxhc3RWaXNpYmxlSW5kZXggPSBfUmVhY3QkdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0TGFzdFZpc2libGVJbmRleCA9IF9SZWFjdCR1c2VTdGF0ZTRbMV07XG5cbiAgdmFyIGFsbFZpc2libGUgPSBsYXN0VmlzaWJsZUluZGV4ID49IGNoaWxkTGlzdC5sZW5ndGggLSAxIHx8IG1lcmdlZE1vZGUgIT09ICdob3Jpem9udGFsJyB8fCBkaXNhYmxlZE92ZXJmbG93OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IE9wZW4gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBfdXNlTWVyZ2VkU3RhdGUgPSB1c2VNZXJnZWRTdGF0ZShkZWZhdWx0T3BlbktleXMsIHtcbiAgICB2YWx1ZTogb3BlbktleXMsXG4gICAgcG9zdFN0YXRlOiBmdW5jdGlvbiBwb3N0U3RhdGUoa2V5cykge1xuICAgICAgcmV0dXJuIGtleXMgfHwgRU1QVFlfTElTVDtcbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZU1lcmdlZFN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VNZXJnZWRTdGF0ZSwgMiksXG4gICAgICBtZXJnZWRPcGVuS2V5cyA9IF91c2VNZXJnZWRTdGF0ZTJbMF0sXG4gICAgICBzZXRNZXJnZWRPcGVuS2V5cyA9IF91c2VNZXJnZWRTdGF0ZTJbMV07XG5cbiAgdmFyIHRyaWdnZXJPcGVuS2V5cyA9IGZ1bmN0aW9uIHRyaWdnZXJPcGVuS2V5cyhrZXlzKSB7XG4gICAgc2V0TWVyZ2VkT3BlbktleXMoa2V5cyk7XG4gICAgb25PcGVuQ2hhbmdlID09PSBudWxsIHx8IG9uT3BlbkNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25PcGVuQ2hhbmdlKGtleXMpO1xuICB9OyAvLyA+Pj4+PiBDYWNoZSAmIFJlc2V0IG9wZW4ga2V5cyB3aGVuIGlubGluZUNvbGxhcHNlZCBjaGFuZ2VkXG5cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlNSA9IFJlYWN0LnVzZVN0YXRlKG1lcmdlZE9wZW5LZXlzKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGU1LCAyKSxcbiAgICAgIGlubGluZUNhY2hlT3BlbktleXMgPSBfUmVhY3QkdXNlU3RhdGU2WzBdLFxuICAgICAgc2V0SW5saW5lQ2FjaGVPcGVuS2V5cyA9IF9SZWFjdCR1c2VTdGF0ZTZbMV07XG5cbiAgdmFyIGlzSW5saW5lTW9kZSA9IG1lcmdlZE1vZGUgPT09ICdpbmxpbmUnO1xuICB2YXIgbW91bnRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpOyAvLyBDYWNoZVxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzSW5saW5lTW9kZSkge1xuICAgICAgc2V0SW5saW5lQ2FjaGVPcGVuS2V5cyhtZXJnZWRPcGVuS2V5cyk7XG4gICAgfVxuICB9LCBbbWVyZ2VkT3BlbktleXNdKTsgLy8gUmVzdG9yZVxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFtb3VudFJlZi5jdXJyZW50KSB7XG4gICAgICBtb3VudFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNJbmxpbmVNb2RlKSB7XG4gICAgICBzZXRNZXJnZWRPcGVuS2V5cyhpbmxpbmVDYWNoZU9wZW5LZXlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVHJpZ2dlciBvcGVuIGV2ZW50IGluIGNhc2UgaXRzIGluIGNvbnRyb2xcbiAgICAgIHRyaWdnZXJPcGVuS2V5cyhFTVBUWV9MSVNUKTtcbiAgICB9XG4gIH0sIFtpc0lubGluZU1vZGVdKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PSBQYXRoID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgX3VzZUtleVJlY29yZHMgPSB1c2VLZXlSZWNvcmRzKCksXG4gICAgICByZWdpc3RlclBhdGggPSBfdXNlS2V5UmVjb3Jkcy5yZWdpc3RlclBhdGgsXG4gICAgICB1bnJlZ2lzdGVyUGF0aCA9IF91c2VLZXlSZWNvcmRzLnVucmVnaXN0ZXJQYXRoLFxuICAgICAgcmVmcmVzaE92ZXJmbG93S2V5cyA9IF91c2VLZXlSZWNvcmRzLnJlZnJlc2hPdmVyZmxvd0tleXMsXG4gICAgICBpc1N1YlBhdGhLZXkgPSBfdXNlS2V5UmVjb3Jkcy5pc1N1YlBhdGhLZXksXG4gICAgICBnZXRLZXlQYXRoID0gX3VzZUtleVJlY29yZHMuZ2V0S2V5UGF0aCxcbiAgICAgIGdldEtleXMgPSBfdXNlS2V5UmVjb3Jkcy5nZXRLZXlzLFxuICAgICAgZ2V0U3ViUGF0aEtleXMgPSBfdXNlS2V5UmVjb3Jkcy5nZXRTdWJQYXRoS2V5cztcblxuICB2YXIgcmVnaXN0ZXJQYXRoQ29udGV4dCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZWdpc3RlclBhdGg6IHJlZ2lzdGVyUGF0aCxcbiAgICAgIHVucmVnaXN0ZXJQYXRoOiB1bnJlZ2lzdGVyUGF0aFxuICAgIH07XG4gIH0sIFtyZWdpc3RlclBhdGgsIHVucmVnaXN0ZXJQYXRoXSk7XG4gIHZhciBwYXRoVXNlckNvbnRleHQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdWJQYXRoS2V5OiBpc1N1YlBhdGhLZXlcbiAgICB9O1xuICB9LCBbaXNTdWJQYXRoS2V5XSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmVmcmVzaE92ZXJmbG93S2V5cyhhbGxWaXNpYmxlID8gRU1QVFlfTElTVCA6IGNoaWxkTGlzdC5zbGljZShsYXN0VmlzaWJsZUluZGV4ICsgMSkubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgcmV0dXJuIGNoaWxkLmtleTtcbiAgICB9KSk7XG4gIH0sIFtsYXN0VmlzaWJsZUluZGV4LCBhbGxWaXNpYmxlXSk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PSBBY3RpdmUgPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIF91c2VNZXJnZWRTdGF0ZTMgPSB1c2VNZXJnZWRTdGF0ZShhY3RpdmVLZXkgfHwgZGVmYXVsdEFjdGl2ZUZpcnN0ICYmICgoX2NoaWxkTGlzdCQgPSBjaGlsZExpc3RbMF0pID09PSBudWxsIHx8IF9jaGlsZExpc3QkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hpbGRMaXN0JC5rZXkpLCB7XG4gICAgdmFsdWU6IGFjdGl2ZUtleVxuICB9KSxcbiAgICAgIF91c2VNZXJnZWRTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlTWVyZ2VkU3RhdGUzLCAyKSxcbiAgICAgIG1lcmdlZEFjdGl2ZUtleSA9IF91c2VNZXJnZWRTdGF0ZTRbMF0sXG4gICAgICBzZXRNZXJnZWRBY3RpdmVLZXkgPSBfdXNlTWVyZ2VkU3RhdGU0WzFdO1xuXG4gIHZhciBvbkFjdGl2ZSA9IHVzZU1lbW9DYWxsYmFjayhmdW5jdGlvbiAoa2V5KSB7XG4gICAgc2V0TWVyZ2VkQWN0aXZlS2V5KGtleSk7XG4gIH0pO1xuICB2YXIgb25JbmFjdGl2ZSA9IHVzZU1lbW9DYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0TWVyZ2VkQWN0aXZlS2V5KHVuZGVmaW5lZCk7XG4gIH0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gU2VsZWN0ID09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyA+Pj4+PiBTZWxlY3Qga2V5c1xuXG4gIHZhciBfdXNlTWVyZ2VkU3RhdGU1ID0gdXNlTWVyZ2VkU3RhdGUoZGVmYXVsdFNlbGVjdGVkS2V5cyB8fCBbXSwge1xuICAgIHZhbHVlOiBzZWxlY3RlZEtleXMsXG4gICAgLy8gTGVnYWN5IGNvbnZlcnQga2V5IHRvIGFycmF5XG4gICAgcG9zdFN0YXRlOiBmdW5jdGlvbiBwb3N0U3RhdGUoa2V5cykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5cykpIHtcbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXlzID09PSBudWxsIHx8IGtleXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gRU1QVFlfTElTVDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtrZXlzXTtcbiAgICB9XG4gIH0pLFxuICAgICAgX3VzZU1lcmdlZFN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VNZXJnZWRTdGF0ZTUsIDIpLFxuICAgICAgbWVyZ2VkU2VsZWN0S2V5cyA9IF91c2VNZXJnZWRTdGF0ZTZbMF0sXG4gICAgICBzZXRNZXJnZWRTZWxlY3RLZXlzID0gX3VzZU1lcmdlZFN0YXRlNlsxXTsgLy8gPj4+Pj4gVHJpZ2dlciBzZWxlY3RcblxuXG4gIHZhciB0cmlnZ2VyU2VsZWN0aW9uID0gZnVuY3Rpb24gdHJpZ2dlclNlbGVjdGlvbihpbmZvKSB7XG4gICAgaWYgKHNlbGVjdGFibGUpIHtcbiAgICAgIC8vIEluc2VydCBvciBSZW1vdmVcbiAgICAgIHZhciB0YXJnZXRLZXkgPSBpbmZvLmtleTtcbiAgICAgIHZhciBleGlzdCA9IG1lcmdlZFNlbGVjdEtleXMuaW5jbHVkZXModGFyZ2V0S2V5KTtcbiAgICAgIHZhciBuZXdTZWxlY3RLZXlzO1xuXG4gICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgaWYgKGV4aXN0KSB7XG4gICAgICAgICAgbmV3U2VsZWN0S2V5cyA9IG1lcmdlZFNlbGVjdEtleXMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkgIT09IHRhcmdldEtleTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdTZWxlY3RLZXlzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShtZXJnZWRTZWxlY3RLZXlzKSwgW3RhcmdldEtleV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdTZWxlY3RLZXlzID0gW3RhcmdldEtleV07XG4gICAgICB9XG5cbiAgICAgIHNldE1lcmdlZFNlbGVjdEtleXMobmV3U2VsZWN0S2V5cyk7IC8vIFRyaWdnZXIgZXZlbnRcblxuICAgICAgdmFyIHNlbGVjdEluZm8gPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGluZm8pLCB7fSwge1xuICAgICAgICBzZWxlY3RlZEtleXM6IG5ld1NlbGVjdEtleXNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXhpc3QpIHtcbiAgICAgICAgb25EZXNlbGVjdCA9PT0gbnVsbCB8fCBvbkRlc2VsZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkRlc2VsZWN0KHNlbGVjdEluZm8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TZWxlY3QgPT09IG51bGwgfHwgb25TZWxlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uU2VsZWN0KHNlbGVjdEluZm8pO1xuICAgICAgfVxuICAgIH0gLy8gV2hhdGV2ZXIgc2VsZWN0YWJsZSwgYWx3YXlzIGNsb3NlIGl0XG5cblxuICAgIGlmICghbXVsdGlwbGUgJiYgbWVyZ2VkT3BlbktleXMubGVuZ3RoICYmIG1lcmdlZE1vZGUgIT09ICdpbmxpbmUnKSB7XG4gICAgICB0cmlnZ2VyT3BlbktleXMoRU1QVFlfTElTVCk7XG4gICAgfVxuICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09IE9wZW4gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBDbGljayBmb3IgaXRlbS4gU3ViTWVudSBkbyBub3QgaGF2ZSBzZWxlY3Rpb24gc3RhdHVzXG4gICAqL1xuXG5cbiAgdmFyIG9uSW50ZXJuYWxDbGljayA9IHVzZU1lbW9DYWxsYmFjayhmdW5jdGlvbiAoaW5mbykge1xuICAgIG9uQ2xpY2sgPT09IG51bGwgfHwgb25DbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DbGljayh3YXJuSXRlbVByb3AoaW5mbykpO1xuICAgIHRyaWdnZXJTZWxlY3Rpb24oaW5mbyk7XG4gIH0pO1xuICB2YXIgb25JbnRlcm5hbE9wZW5DaGFuZ2UgPSB1c2VNZW1vQ2FsbGJhY2soZnVuY3Rpb24gKGtleSwgb3Blbikge1xuICAgIHZhciBuZXdPcGVuS2V5cyA9IG1lcmdlZE9wZW5LZXlzLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIGsgIT09IGtleTtcbiAgICB9KTtcblxuICAgIGlmIChvcGVuKSB7XG4gICAgICBuZXdPcGVuS2V5cy5wdXNoKGtleSk7XG4gICAgfSBlbHNlIGlmIChtZXJnZWRNb2RlICE9PSAnaW5saW5lJykge1xuICAgICAgLy8gV2UgbmVlZCBmaW5kIGFsbCByZWxhdGVkIHBvcHVwIHRvIGNsb3NlXG4gICAgICB2YXIgc3ViUGF0aEtleXMgPSBnZXRTdWJQYXRoS2V5cyhrZXkpO1xuICAgICAgbmV3T3BlbktleXMgPSBuZXdPcGVuS2V5cy5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuICFzdWJQYXRoS2V5cy5oYXMoayk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXNoYWxsb3dFcXVhbChtZXJnZWRPcGVuS2V5cywgbmV3T3BlbktleXMpKSB7XG4gICAgICB0cmlnZ2VyT3BlbktleXMobmV3T3BlbktleXMpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBnZXRJbnRlcm5hbFBvcHVwQ29udGFpbmVyID0gdXNlTWVtb0NhbGxiYWNrKGdldFBvcHVwQ29udGFpbmVyKTsgLy8gPT09PT09PT09PT09PT09PT09PT0gQWNjZXNzaWJpbGl0eSA9PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgdHJpZ2dlckFjY2Vzc2liaWxpdHlPcGVuID0gZnVuY3Rpb24gdHJpZ2dlckFjY2Vzc2liaWxpdHlPcGVuKGtleSwgb3Blbikge1xuICAgIHZhciBuZXh0T3BlbiA9IG9wZW4gIT09IG51bGwgJiYgb3BlbiAhPT0gdm9pZCAwID8gb3BlbiA6ICFtZXJnZWRPcGVuS2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgIG9uSW50ZXJuYWxPcGVuQ2hhbmdlKGtleSwgbmV4dE9wZW4pO1xuICB9O1xuXG4gIHZhciBvbkludGVybmFsS2V5RG93biA9IHVzZUFjY2Vzc2liaWxpdHkobWVyZ2VkTW9kZSwgbWVyZ2VkQWN0aXZlS2V5LCBpc1J0bCwgdXVpZCwgY29udGFpbmVyUmVmLCBnZXRLZXlzLCBnZXRLZXlQYXRoLCBzZXRNZXJnZWRBY3RpdmVLZXksIHRyaWdnZXJBY2Nlc3NpYmlsaXR5T3Blbiwgb25LZXlEb3duKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IEVmZmVjdCA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldE1vdW50ZWQodHJ1ZSk7XG4gIH0sIFtdKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IFJlbmRlciA9PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gPj4+Pj4gQ2hpbGRyZW5cblxuICB2YXIgd3JhcHBlZENoaWxkTGlzdCA9IG1lcmdlZE1vZGUgIT09ICdob3Jpem9udGFsJyB8fCBkaXNhYmxlZE92ZXJmbG93ID8gY2hpbGRMaXN0IDogLy8gTmVlZCB3cmFwIGZvciBvdmVyZmxvdyBkcm9wZG93biB0aGF0IGRvIG5vdCByZXNwb25zZSBmb3Igb3BlblxuICBjaGlsZExpc3QubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgLy8gQWx3YXlzIHdyYXAgcHJvdmlkZXIgdG8gYXZvaWQgc3ViIG5vZGUgcmUtbW91bnRcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUNvbnRleHRQcm92aWRlciwge1xuICAgICAgICBrZXk6IGNoaWxkLmtleSxcbiAgICAgICAgb3ZlcmZsb3dEaXNhYmxlZDogaW5kZXggPiBsYXN0VmlzaWJsZUluZGV4XG4gICAgICB9LCBjaGlsZClcbiAgICApO1xuICB9KTsgLy8gPj4+Pj4gQ29udGFpbmVyXG5cbiAgdmFyIGNvbnRhaW5lciA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE92ZXJmbG93LCBfZXh0ZW5kcyh7XG4gICAgaWQ6IGlkLFxuICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgIHByZWZpeENsczogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1vdmVyZmxvd1wiKSxcbiAgICBjb21wb25lbnQ6IFwidWxcIixcbiAgICBpdGVtQ29tcG9uZW50OiBNZW51SXRlbSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLXJvb3RcIiksIFwiXCIuY29uY2F0KHByZWZpeENscywgXCItXCIpLmNvbmNhdChtZXJnZWRNb2RlKSwgY2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWlubGluZS1jb2xsYXBzZWRcIiksIG1lcmdlZElubGluZUNvbGxhcHNlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1ydGxcIiksIGlzUnRsKSwgX2NsYXNzTmFtZXMpKSxcbiAgICBkaXI6IGRpcmVjdGlvbixcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgcm9sZTogXCJtZW51XCIsXG4gICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgIGRhdGE6IHdyYXBwZWRDaGlsZExpc3QsXG4gICAgcmVuZGVyUmF3SXRlbTogZnVuY3Rpb24gcmVuZGVyUmF3SXRlbShub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9LFxuICAgIHJlbmRlclJhd1Jlc3Q6IGZ1bmN0aW9uIHJlbmRlclJhd1Jlc3Qob21pdEl0ZW1zKSB7XG4gICAgICAvLyBXZSB1c2Ugb3JpZ2luIGxpc3Qgc2luY2Ugd3JhcHBlZCBsaXN0IHVzZSBjb250ZXh0IHRvIHByZXZlbnQgb3BlblxuICAgICAgdmFyIGxlbiA9IG9taXRJdGVtcy5sZW5ndGg7XG4gICAgICB2YXIgb3JpZ2luT21pdEl0ZW1zID0gbGVuID8gY2hpbGRMaXN0LnNsaWNlKC1sZW4pIDogbnVsbDtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdWJNZW51LCB7XG4gICAgICAgIGV2ZW50S2V5OiBPVkVSRkxPV19LRVksXG4gICAgICAgIHRpdGxlOiBvdmVyZmxvd2VkSW5kaWNhdG9yLFxuICAgICAgICBkaXNhYmxlZDogYWxsVmlzaWJsZSxcbiAgICAgICAgaW50ZXJuYWxQb3B1cENsb3NlOiBsZW4gPT09IDAsXG4gICAgICAgIHBvcHVwQ2xhc3NOYW1lOiBvdmVyZmxvd2VkSW5kaWNhdG9yUG9wdXBDbGFzc05hbWVcbiAgICAgIH0sIG9yaWdpbk9taXRJdGVtcyk7XG4gICAgfSxcbiAgICBtYXhDb3VudDogbWVyZ2VkTW9kZSAhPT0gJ2hvcml6b250YWwnIHx8IGRpc2FibGVkT3ZlcmZsb3cgPyBPdmVyZmxvdy5JTlZBTElEQVRFIDogT3ZlcmZsb3cuUkVTUE9OU0lWRSxcbiAgICBzc3I6IFwiZnVsbFwiLFxuICAgIFwiZGF0YS1tZW51LWxpc3RcIjogdHJ1ZSxcbiAgICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZShuZXdMYXN0SW5kZXgpIHtcbiAgICAgIHNldExhc3RWaXNpYmxlSW5kZXgobmV3TGFzdEluZGV4KTtcbiAgICB9LFxuICAgIG9uS2V5RG93bjogb25JbnRlcm5hbEtleURvd25cbiAgfSwgcmVzdFByb3BzKSk7IC8vID4+Pj4+IFJlbmRlclxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJZENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogdXVpZFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51Q29udGV4dFByb3ZpZGVyLCB7XG4gICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgbW9kZTogbWVyZ2VkTW9kZSxcbiAgICBvcGVuS2V5czogbWVyZ2VkT3BlbktleXMsXG4gICAgcnRsOiBpc1J0bCAvLyBEaXNhYmxlZFxuICAgICxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWQgLy8gTW90aW9uXG4gICAgLFxuICAgIG1vdGlvbjogbW91bnRlZCA/IG1vdGlvbiA6IG51bGwsXG4gICAgZGVmYXVsdE1vdGlvbnM6IG1vdW50ZWQgPyBkZWZhdWx0TW90aW9ucyA6IG51bGwgLy8gQWN0aXZlXG4gICAgLFxuICAgIGFjdGl2ZUtleTogbWVyZ2VkQWN0aXZlS2V5LFxuICAgIG9uQWN0aXZlOiBvbkFjdGl2ZSxcbiAgICBvbkluYWN0aXZlOiBvbkluYWN0aXZlIC8vIFNlbGVjdGlvblxuICAgICxcbiAgICBzZWxlY3RlZEtleXM6IG1lcmdlZFNlbGVjdEtleXMgLy8gTGV2ZWxcbiAgICAsXG4gICAgaW5saW5lSW5kZW50OiBpbmxpbmVJbmRlbnQgLy8gUG9wdXBcbiAgICAsXG4gICAgc3ViTWVudU9wZW5EZWxheTogc3ViTWVudU9wZW5EZWxheSxcbiAgICBzdWJNZW51Q2xvc2VEZWxheTogc3ViTWVudUNsb3NlRGVsYXksXG4gICAgZm9yY2VTdWJNZW51UmVuZGVyOiBmb3JjZVN1Yk1lbnVSZW5kZXIsXG4gICAgYnVpbHRpblBsYWNlbWVudHM6IGJ1aWx0aW5QbGFjZW1lbnRzLFxuICAgIHRyaWdnZXJTdWJNZW51QWN0aW9uOiB0cmlnZ2VyU3ViTWVudUFjdGlvbixcbiAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0SW50ZXJuYWxQb3B1cENvbnRhaW5lciAvLyBJY29uXG4gICAgLFxuICAgIGl0ZW1JY29uOiBpdGVtSWNvbixcbiAgICBleHBhbmRJY29uOiBleHBhbmRJY29uIC8vIEV2ZW50c1xuICAgICxcbiAgICBvbkl0ZW1DbGljazogb25JbnRlcm5hbENsaWNrLFxuICAgIG9uT3BlbkNoYW5nZTogb25JbnRlcm5hbE9wZW5DaGFuZ2VcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUGF0aFVzZXJDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHBhdGhVc2VyQ29udGV4dFxuICB9LCBjb250YWluZXIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgIH0sXG4gICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBhdGhSZWdpc3RlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogcmVnaXN0ZXJQYXRoQ29udGV4dFxuICB9LCBjaGlsZExpc3QpKSkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWVudTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBvbWl0IGZyb20gXCJyYy11dGlsL2VzL29taXRcIjtcbmltcG9ydCB7IHBhcnNlQ2hpbGRyZW4gfSBmcm9tICcuL3V0aWxzL25vZGVVdGlsJztcbmltcG9ydCB7IE1lbnVDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0L01lbnVDb250ZXh0JztcbmltcG9ydCB7IHVzZUZ1bGxQYXRoLCB1c2VNZWFzdXJlIH0gZnJvbSAnLi9jb250ZXh0L1BhdGhDb250ZXh0JztcblxudmFyIEludGVybmFsTWVudUl0ZW1Hcm91cCA9IGZ1bmN0aW9uIEludGVybmFsTWVudUl0ZW1Hcm91cChfcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSxcbiAgICAgIGV2ZW50S2V5ID0gX3JlZi5ldmVudEtleSxcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjbGFzc05hbWVcIiwgXCJ0aXRsZVwiLCBcImV2ZW50S2V5XCIsIFwiY2hpbGRyZW5cIl0pO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgcHJlZml4Q2xzID0gX1JlYWN0JHVzZUNvbnRleHQucHJlZml4Q2xzO1xuXG4gIHZhciBncm91cFByZWZpeENscyA9IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItaXRlbS1ncm91cFwiKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywge1xuICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoZ3JvdXBQcmVmaXhDbHMsIGNsYXNzTmFtZSlcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGdyb3VwUHJlZml4Q2xzLCBcIi10aXRsZVwiKSxcbiAgICB0aXRsZTogdHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJyA/IHRpdGxlIDogdW5kZWZpbmVkXG4gIH0sIHRpdGxlKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChncm91cFByZWZpeENscywgXCItbGlzdFwiKVxuICB9LCBjaGlsZHJlbikpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWVudUl0ZW1Hcm91cChfcmVmMikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmMi5jaGlsZHJlbixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbXCJjaGlsZHJlblwiXSk7XG5cbiAgdmFyIGNvbm5lY3RlZEtleVBhdGggPSB1c2VGdWxsUGF0aChwcm9wcy5ldmVudEtleSk7XG4gIHZhciBjaGlsZExpc3QgPSBwYXJzZUNoaWxkcmVuKGNoaWxkcmVuLCBjb25uZWN0ZWRLZXlQYXRoKTtcbiAgdmFyIG1lYXN1cmUgPSB1c2VNZWFzdXJlKCk7XG5cbiAgaWYgKG1lYXN1cmUpIHtcbiAgICByZXR1cm4gY2hpbGRMaXN0O1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEludGVybmFsTWVudUl0ZW1Hcm91cCwgb21pdChwcm9wcywgWyd3YXJuS2V5J10pLCBjaGlsZExpc3QpO1xufSIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgTWVudUNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQvTWVudUNvbnRleHQnO1xuaW1wb3J0IHsgdXNlTWVhc3VyZSB9IGZyb20gJy4vY29udGV4dC9QYXRoQ29udGV4dCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXZpZGVyKF9yZWYpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlO1xuXG4gIHZhciBfUmVhY3QkdXNlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTWVudUNvbnRleHQpLFxuICAgICAgcHJlZml4Q2xzID0gX1JlYWN0JHVzZUNvbnRleHQucHJlZml4Q2xzO1xuXG4gIHZhciBtZWFzdXJlID0gdXNlTWVhc3VyZSgpO1xuXG4gIGlmIChtZWFzdXJlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwiXCIuY29uY2F0KHByZWZpeENscywgXCItaXRlbS1kaXZpZGVyXCIpLCBjbGFzc05hbWUpLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9KTtcbn0iLCJpbXBvcnQgTWVudSBmcm9tICcuL01lbnUnO1xuaW1wb3J0IE1lbnVJdGVtIGZyb20gJy4vTWVudUl0ZW0nO1xuaW1wb3J0IFN1Yk1lbnUgZnJvbSAnLi9TdWJNZW51JztcbmltcG9ydCBNZW51SXRlbUdyb3VwIGZyb20gJy4vTWVudUl0ZW1Hcm91cCc7XG5pbXBvcnQgeyB1c2VGdWxsUGF0aCBhcyB1c2VPcmlnaW5GdWxsUGF0aCB9IGZyb20gJy4vY29udGV4dC9QYXRoQ29udGV4dCc7XG5pbXBvcnQgRGl2aWRlciBmcm9tICcuL0RpdmlkZXInO1xuLyoqIEBwcml2YXRlIE9ubHkgdXNlZCBmb3IgYW50ZCBpbnRlcm5hbC4gRG8gbm90IHVzZSBpbiB5b3VyIHByb2R1Y3Rpb24uICovXG5cbnZhciB1c2VGdWxsUGF0aCA9IHVzZU9yaWdpbkZ1bGxQYXRoO1xuZXhwb3J0IHsgU3ViTWVudSwgTWVudUl0ZW0gYXMgSXRlbSwgTWVudUl0ZW0sIE1lbnVJdGVtR3JvdXAsIE1lbnVJdGVtR3JvdXAgYXMgSXRlbUdyb3VwLCBEaXZpZGVyLCB1c2VGdWxsUGF0aCB9O1xudmFyIEV4cG9ydE1lbnUgPSBNZW51O1xuRXhwb3J0TWVudS5JdGVtID0gTWVudUl0ZW07XG5FeHBvcnRNZW51LlN1Yk1lbnUgPSBTdWJNZW51O1xuRXhwb3J0TWVudS5JdGVtR3JvdXAgPSBNZW51SXRlbUdyb3VwO1xuRXhwb3J0TWVudS5EaXZpZGVyID0gRGl2aWRlcjtcbmV4cG9ydCBkZWZhdWx0IEV4cG9ydE1lbnU7IiwiZXhwb3J0IGZ1bmN0aW9uIG5leHRTbGljZShjYWxsYmFjaykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNhbGxiYWNrKTtcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgY2FuVXNlRE9NIGZyb20gXCJyYy11dGlsL2VzL0RvbS9jYW5Vc2VEb21cIjsgLy8gPT09PT09PT09PT09PT09PT0gVHJhbnNpdGlvbiA9PT09PT09PT09PT09PT09PVxuLy8gRXZlbnQgd3JhcHBlci4gQ29weSBmcm9tIHJlYWN0IHNvdXJjZSBjb2RlXG5cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG4gIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBwcmVmaXhlc1tcIldlYmtpdFwiLmNvbmNhdChzdHlsZVByb3ApXSA9IFwid2Via2l0XCIuY29uY2F0KGV2ZW50TmFtZSk7XG4gIHByZWZpeGVzW1wiTW96XCIuY29uY2F0KHN0eWxlUHJvcCldID0gXCJtb3pcIi5jb25jYXQoZXZlbnROYW1lKTtcbiAgcHJlZml4ZXNbXCJtc1wiLmNvbmNhdChzdHlsZVByb3ApXSA9IFwiTVNcIi5jb25jYXQoZXZlbnROYW1lKTtcbiAgcHJlZml4ZXNbXCJPXCIuY29uY2F0KHN0eWxlUHJvcCldID0gXCJvXCIuY29uY2F0KGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVuZG9yUHJlZml4ZXMoZG9tU3VwcG9ydCwgd2luKSB7XG4gIHZhciBwcmVmaXhlcyA9IHtcbiAgICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgICB0cmFuc2l0aW9uZW5kOiBtYWtlUHJlZml4TWFwKCdUcmFuc2l0aW9uJywgJ1RyYW5zaXRpb25FbmQnKVxuICB9O1xuXG4gIGlmIChkb21TdXBwb3J0KSB7XG4gICAgaWYgKCEoJ0FuaW1hdGlvbkV2ZW50JyBpbiB3aW4pKSB7XG4gICAgICBkZWxldGUgcHJlZml4ZXMuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoISgnVHJhbnNpdGlvbkV2ZW50JyBpbiB3aW4pKSB7XG4gICAgICBkZWxldGUgcHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcmVmaXhlcztcbn1cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IGdldFZlbmRvclByZWZpeGVzKGNhblVzZURPTSgpLCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9KTtcbnZhciBzdHlsZSA9IHt9O1xuXG5pZiAoY2FuVXNlRE9NKCkpIHtcbiAgdmFyIF9kb2N1bWVudCRjcmVhdGVFbGVtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIHN0eWxlID0gX2RvY3VtZW50JGNyZWF0ZUVsZW1lLnN0eWxlO1xufVxuXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoZXZlbnROYW1lKSB7XG4gIGlmIChwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSkge1xuICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXTtcbiAgfVxuXG4gIHZhciBwcmVmaXhNYXAgPSB2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdO1xuXG4gIGlmIChwcmVmaXhNYXApIHtcbiAgICB2YXIgc3R5bGVQcm9wTGlzdCA9IE9iamVjdC5rZXlzKHByZWZpeE1hcCk7XG4gICAgdmFyIGxlbiA9IHN0eWxlUHJvcExpc3QubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgdmFyIHN0eWxlUHJvcCA9IHN0eWxlUHJvcExpc3RbaV07XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJlZml4TWFwLCBzdHlsZVByb3ApICYmIHN0eWxlUHJvcCBpbiBzdHlsZSkge1xuICAgICAgICBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgICAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxudmFyIGludGVybmFsQW5pbWF0aW9uRW5kTmFtZSA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKTtcbnZhciBpbnRlcm5hbFRyYW5zaXRpb25FbmROYW1lID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKTtcbmV4cG9ydCB2YXIgc3VwcG9ydFRyYW5zaXRpb24gPSAhIShpbnRlcm5hbEFuaW1hdGlvbkVuZE5hbWUgJiYgaW50ZXJuYWxUcmFuc2l0aW9uRW5kTmFtZSk7XG5leHBvcnQgdmFyIGFuaW1hdGlvbkVuZE5hbWUgPSBpbnRlcm5hbEFuaW1hdGlvbkVuZE5hbWUgfHwgJ2FuaW1hdGlvbmVuZCc7XG5leHBvcnQgdmFyIHRyYW5zaXRpb25FbmROYW1lID0gaW50ZXJuYWxUcmFuc2l0aW9uRW5kTmFtZSB8fCAndHJhbnNpdGlvbmVuZCc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUodHJhbnNpdGlvbk5hbWUsIHRyYW5zaXRpb25UeXBlKSB7XG4gIGlmICghdHJhbnNpdGlvbk5hbWUpIHJldHVybiBudWxsO1xuXG4gIGlmIChfdHlwZW9mKHRyYW5zaXRpb25OYW1lKSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgdHlwZSA9IHRyYW5zaXRpb25UeXBlLnJlcGxhY2UoLy1cXHcvZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWVbdHlwZV07XG4gIH1cblxuICByZXR1cm4gXCJcIi5jb25jYXQodHJhbnNpdGlvbk5hbWUsIFwiLVwiKS5jb25jYXQodHJhbnNpdGlvblR5cGUpO1xufSIsImV4cG9ydCB2YXIgU1RBVFVTX05PTkUgPSAnbm9uZSc7XG5leHBvcnQgdmFyIFNUQVRVU19BUFBFQVIgPSAnYXBwZWFyJztcbmV4cG9ydCB2YXIgU1RBVFVTX0VOVEVSID0gJ2VudGVyJztcbmV4cG9ydCB2YXIgU1RBVFVTX0xFQVZFID0gJ2xlYXZlJztcbmV4cG9ydCB2YXIgU1RFUF9OT05FID0gJ25vbmUnO1xuZXhwb3J0IHZhciBTVEVQX1BSRVBBUkUgPSAncHJlcGFyZSc7XG5leHBvcnQgdmFyIFNURVBfU1RBUlQgPSAnc3RhcnQnO1xuZXhwb3J0IHZhciBTVEVQX0FDVElWRSA9ICdhY3RpdmUnO1xuZXhwb3J0IHZhciBTVEVQX0FDVElWQVRFRCA9ICdlbmQnOyIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlTW91bnRTdGF0dXMoZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBkZXN0cm95UmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgdmFsID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFZhbCA9IF91c2VTdGF0ZTJbMV07XG5cbiAgZnVuY3Rpb24gc2V0VmFsdWUobmV4dCkge1xuICAgIGlmICghZGVzdHJveVJlZi5jdXJyZW50KSB7XG4gICAgICBzZXRWYWwobmV4dCk7XG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZGVzdHJveVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBbdmFsLCBzZXRWYWx1ZV07XG59IiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2FuVXNlRG9tIGZyb20gXCJyYy11dGlsL2VzL0RvbS9jYW5Vc2VEb21cIjsgLy8gSXQncyBzYWZlIHRvIHVzZSBgdXNlTGF5b3V0RWZmZWN0YCBidXQgdGhlIHdhcm5pbmcgaXMgYW5ub3lpbmdcblxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBjYW5Vc2VEb20oKSA/IHVzZUxheW91dEVmZmVjdCA6IHVzZUVmZmVjdDtcbmV4cG9ydCBkZWZhdWx0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q7IiwiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTVEVQX1BSRVBBUkUsIFNURVBfQUNUSVZFLCBTVEVQX1NUQVJULCBTVEVQX0FDVElWQVRFRCwgU1RFUF9OT05FIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGZyb20gJy4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5pbXBvcnQgdXNlTmV4dEZyYW1lIGZyb20gJy4vdXNlTmV4dEZyYW1lJztcbnZhciBTVEVQX1FVRVVFID0gW1NURVBfUFJFUEFSRSwgU1RFUF9TVEFSVCwgU1RFUF9BQ1RJVkUsIFNURVBfQUNUSVZBVEVEXTtcbi8qKiBTa2lwIGN1cnJlbnQgc3RlcCAqL1xuXG5leHBvcnQgdmFyIFNraXBTdGVwID0gZmFsc2U7XG4vKiogQ3VycmVudCBzdGVwIHNob3VsZCBiZSB1cGRhdGUgaW4gKi9cblxuZXhwb3J0IHZhciBEb1N0ZXAgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWN0aXZlKHN0ZXApIHtcbiAgcmV0dXJuIHN0ZXAgPT09IFNURVBfQUNUSVZFIHx8IHN0ZXAgPT09IFNURVBfQUNUSVZBVEVEO1xufVxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIChzdGF0dXMsIGNhbGxiYWNrKSB7XG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShTVEVQX05PTkUpLFxuICAgICAgX1JlYWN0JHVzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF9SZWFjdCR1c2VTdGF0ZSwgMiksXG4gICAgICBzdGVwID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldFN0ZXAgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlTmV4dEZyYW1lID0gdXNlTmV4dEZyYW1lKCksXG4gICAgICBfdXNlTmV4dEZyYW1lMiA9IF9zbGljZWRUb0FycmF5KF91c2VOZXh0RnJhbWUsIDIpLFxuICAgICAgbmV4dEZyYW1lID0gX3VzZU5leHRGcmFtZTJbMF0sXG4gICAgICBjYW5jZWxOZXh0RnJhbWUgPSBfdXNlTmV4dEZyYW1lMlsxXTtcblxuICBmdW5jdGlvbiBzdGFydFF1ZXVlKCkge1xuICAgIHNldFN0ZXAoU1RFUF9QUkVQQVJFKTtcbiAgfVxuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChzdGVwICE9PSBTVEVQX05PTkUgJiYgc3RlcCAhPT0gU1RFUF9BQ1RJVkFURUQpIHtcbiAgICAgIHZhciBpbmRleCA9IFNURVBfUVVFVUUuaW5kZXhPZihzdGVwKTtcbiAgICAgIHZhciBuZXh0U3RlcCA9IFNURVBfUVVFVUVbaW5kZXggKyAxXTtcbiAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjayhzdGVwKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gU2tpcFN0ZXApIHtcbiAgICAgICAgLy8gU2tpcCB3aGVuIG5vIG5lZWRlZFxuICAgICAgICBzZXRTdGVwKG5leHRTdGVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIGFzIGZyYW1lIGZvciBzdGVwIHVwZGF0ZVxuICAgICAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICBmdW5jdGlvbiBkb05leHQoKSB7XG4gICAgICAgICAgICAvLyBTa2lwIHNpbmNlIGN1cnJlbnQgcXVldWUgaXMgb29kXG4gICAgICAgICAgICBpZiAoaW5mby5pc0NhbmNlbGVkKCkpIHJldHVybjtcbiAgICAgICAgICAgIHNldFN0ZXAobmV4dFN0ZXApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGRvTmV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPbmx5IHByb21pc2Ugc2hvdWxkIGJlIGFzeW5jXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKGRvTmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzdGF0dXMsIHN0ZXBdKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2FuY2VsTmV4dEZyYW1lKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gW3N0YXJ0UXVldWUsIHN0ZXBdO1xufSk7IiwiaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDJcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU1RBVFVTX0FQUEVBUiwgU1RBVFVTX05PTkUsIFNUQVRVU19MRUFWRSwgU1RBVFVTX0VOVEVSLCBTVEVQX1BSRVBBUkUsIFNURVBfU1RBUlQsIFNURVBfQUNUSVZFIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcbmltcG9ydCB1c2VTdGF0ZSBmcm9tICcuL3VzZVN0YXRlJztcbmltcG9ydCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGZyb20gJy4vdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5pbXBvcnQgdXNlU3RlcFF1ZXVlLCB7IERvU3RlcCwgU2tpcFN0ZXAsIGlzQWN0aXZlIH0gZnJvbSAnLi91c2VTdGVwUXVldWUnO1xuaW1wb3J0IHVzZURvbU1vdGlvbkV2ZW50cyBmcm9tICcuL3VzZURvbU1vdGlvbkV2ZW50cyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VTdGF0dXMoc3VwcG9ydE1vdGlvbiwgdmlzaWJsZSwgZ2V0RWxlbWVudCwgX3JlZikge1xuICB2YXIgX3JlZiRtb3Rpb25FbnRlciA9IF9yZWYubW90aW9uRW50ZXIsXG4gICAgICBtb3Rpb25FbnRlciA9IF9yZWYkbW90aW9uRW50ZXIgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJG1vdGlvbkVudGVyLFxuICAgICAgX3JlZiRtb3Rpb25BcHBlYXIgPSBfcmVmLm1vdGlvbkFwcGVhcixcbiAgICAgIG1vdGlvbkFwcGVhciA9IF9yZWYkbW90aW9uQXBwZWFyID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRtb3Rpb25BcHBlYXIsXG4gICAgICBfcmVmJG1vdGlvbkxlYXZlID0gX3JlZi5tb3Rpb25MZWF2ZSxcbiAgICAgIG1vdGlvbkxlYXZlID0gX3JlZiRtb3Rpb25MZWF2ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkbW90aW9uTGVhdmUsXG4gICAgICBtb3Rpb25EZWFkbGluZSA9IF9yZWYubW90aW9uRGVhZGxpbmUsXG4gICAgICBtb3Rpb25MZWF2ZUltbWVkaWF0ZWx5ID0gX3JlZi5tb3Rpb25MZWF2ZUltbWVkaWF0ZWx5LFxuICAgICAgb25BcHBlYXJQcmVwYXJlID0gX3JlZi5vbkFwcGVhclByZXBhcmUsXG4gICAgICBvbkVudGVyUHJlcGFyZSA9IF9yZWYub25FbnRlclByZXBhcmUsXG4gICAgICBvbkxlYXZlUHJlcGFyZSA9IF9yZWYub25MZWF2ZVByZXBhcmUsXG4gICAgICBvbkFwcGVhclN0YXJ0ID0gX3JlZi5vbkFwcGVhclN0YXJ0LFxuICAgICAgb25FbnRlclN0YXJ0ID0gX3JlZi5vbkVudGVyU3RhcnQsXG4gICAgICBvbkxlYXZlU3RhcnQgPSBfcmVmLm9uTGVhdmVTdGFydCxcbiAgICAgIG9uQXBwZWFyQWN0aXZlID0gX3JlZi5vbkFwcGVhckFjdGl2ZSxcbiAgICAgIG9uRW50ZXJBY3RpdmUgPSBfcmVmLm9uRW50ZXJBY3RpdmUsXG4gICAgICBvbkxlYXZlQWN0aXZlID0gX3JlZi5vbkxlYXZlQWN0aXZlLFxuICAgICAgb25BcHBlYXJFbmQgPSBfcmVmLm9uQXBwZWFyRW5kLFxuICAgICAgb25FbnRlckVuZCA9IF9yZWYub25FbnRlckVuZCxcbiAgICAgIG9uTGVhdmVFbmQgPSBfcmVmLm9uTGVhdmVFbmQsXG4gICAgICBvblZpc2libGVDaGFuZ2VkID0gX3JlZi5vblZpc2libGVDaGFuZ2VkO1xuXG4gIC8vIFVzZWQgZm9yIG91dGVyIHJlbmRlciB1c2FnZSB0byBhdm9pZCBgdmlzaWJsZTogZmFsc2UgJiBzdGF0dXM6IG5vbmVgIHRvIHJlbmRlciBub3RoaW5nXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBhc3luY1Zpc2libGUgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0QXN5bmNWaXNpYmxlID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKFNUQVRVU19OT05FKSxcbiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICAgIHN0YXR1cyA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRTdGF0dXMgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksXG4gICAgICBzdHlsZSA9IF91c2VTdGF0ZTZbMF0sXG4gICAgICBzZXRTdHlsZSA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdmFyIG1vdW50ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgZGVhZGxpbmVSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBkZXN0cm95ZWRSZWYgPSB1c2VSZWYoZmFsc2UpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gRG9tIE5vZGUgPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGNhY2hlRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTtcblxuICBmdW5jdGlvbiBnZXREb21FbGVtZW50KCkge1xuICAgIHZhciBlbGVtZW50ID0gZ2V0RWxlbWVudCgpO1xuICAgIHJldHVybiBlbGVtZW50IHx8IGNhY2hlRWxlbWVudFJlZi5jdXJyZW50O1xuICB9IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09IE1vdGlvbiBFbmQgPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gIHZhciBhY3RpdmVSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIGZ1bmN0aW9uIG9uSW50ZXJuYWxNb3Rpb25FbmQoZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGdldERvbUVsZW1lbnQoKTtcblxuICAgIGlmIChldmVudCAmJiAhZXZlbnQuZGVhZGxpbmUgJiYgZXZlbnQudGFyZ2V0ICE9PSBlbGVtZW50KSB7XG4gICAgICAvLyBldmVudCBleGlzdHNcbiAgICAgIC8vIG5vdCBpbml0aWF0ZWQgYnkgZGVhZGxpbmVcbiAgICAgIC8vIHRyYW5zaXRpb25FbmQgbm90IGZpcmVkIGJ5IGlubmVyIGVsZW1lbnRzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNhbkVuZDtcblxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19BUFBFQVIgJiYgYWN0aXZlUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNhbkVuZCA9IG9uQXBwZWFyRW5kID09PSBudWxsIHx8IG9uQXBwZWFyRW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkFwcGVhckVuZChlbGVtZW50LCBldmVudCk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19FTlRFUiAmJiBhY3RpdmVSZWYuY3VycmVudCkge1xuICAgICAgY2FuRW5kID0gb25FbnRlckVuZCA9PT0gbnVsbCB8fCBvbkVudGVyRW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkVudGVyRW5kKGVsZW1lbnQsIGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0xFQVZFICYmIGFjdGl2ZVJlZi5jdXJyZW50KSB7XG4gICAgICBjYW5FbmQgPSBvbkxlYXZlRW5kID09PSBudWxsIHx8IG9uTGVhdmVFbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uTGVhdmVFbmQoZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gLy8gT25seSB1cGRhdGUgc3RhdHVzIHdoZW4gYGNhbkVuZGAgYW5kIG5vdCBkZXN0cm95ZWRcblxuXG4gICAgaWYgKGNhbkVuZCAhPT0gZmFsc2UgJiYgIWRlc3Ryb3llZFJlZi5jdXJyZW50KSB7XG4gICAgICBzZXRTdGF0dXMoU1RBVFVTX05PTkUpO1xuICAgICAgc2V0U3R5bGUobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIF91c2VEb21Nb3Rpb25FdmVudHMgPSB1c2VEb21Nb3Rpb25FdmVudHMob25JbnRlcm5hbE1vdGlvbkVuZCksXG4gICAgICBfdXNlRG9tTW90aW9uRXZlbnRzMiA9IF9zbGljZWRUb0FycmF5KF91c2VEb21Nb3Rpb25FdmVudHMsIDEpLFxuICAgICAgcGF0Y2hNb3Rpb25FdmVudHMgPSBfdXNlRG9tTW90aW9uRXZlbnRzMlswXTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU3RlcCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbiAgdmFyIGV2ZW50SGFuZGxlcnMgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjIsIF9yZWYzLCBfcmVmNDtcblxuICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICBjYXNlICdhcHBlYXInOlxuICAgICAgICByZXR1cm4gX3JlZjIgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9yZWYyLCBTVEVQX1BSRVBBUkUsIG9uQXBwZWFyUHJlcGFyZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmMiwgU1RFUF9TVEFSVCwgb25BcHBlYXJTdGFydCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmMiwgU1RFUF9BQ1RJVkUsIG9uQXBwZWFyQWN0aXZlKSwgX3JlZjI7XG5cbiAgICAgIGNhc2UgJ2VudGVyJzpcbiAgICAgICAgcmV0dXJuIF9yZWYzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfcmVmMywgU1RFUF9QUkVQQVJFLCBvbkVudGVyUHJlcGFyZSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmMywgU1RFUF9TVEFSVCwgb25FbnRlclN0YXJ0KSwgX2RlZmluZVByb3BlcnR5KF9yZWYzLCBTVEVQX0FDVElWRSwgb25FbnRlckFjdGl2ZSksIF9yZWYzO1xuXG4gICAgICBjYXNlICdsZWF2ZSc6XG4gICAgICAgIHJldHVybiBfcmVmNCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3JlZjQsIFNURVBfUFJFUEFSRSwgb25MZWF2ZVByZXBhcmUpLCBfZGVmaW5lUHJvcGVydHkoX3JlZjQsIFNURVBfU1RBUlQsIG9uTGVhdmVTdGFydCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmNCwgU1RFUF9BQ1RJVkUsIG9uTGVhdmVBY3RpdmUpLCBfcmVmNDtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSwgW3N0YXR1c10pO1xuXG4gIHZhciBfdXNlU3RlcFF1ZXVlID0gdXNlU3RlcFF1ZXVlKHN0YXR1cywgZnVuY3Rpb24gKG5ld1N0ZXApIHtcbiAgICAvLyBPbmx5IHByZXBhcmUgc3RlcCBjYW4gYmUgc2tpcFxuICAgIGlmIChuZXdTdGVwID09PSBTVEVQX1BSRVBBUkUpIHtcbiAgICAgIHZhciBvblByZXBhcmUgPSBldmVudEhhbmRsZXJzW1NURVBfUFJFUEFSRV07XG5cbiAgICAgIGlmICghb25QcmVwYXJlKSB7XG4gICAgICAgIHJldHVybiBTa2lwU3RlcDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uUHJlcGFyZShnZXREb21FbGVtZW50KCkpO1xuICAgIH0gLy8gUmVzdCBzdGVwIGlzIHN5bmMgdXBkYXRlXG5cblxuICAgIC8vIFJlc3Qgc3RlcCBpcyBzeW5jIHVwZGF0ZVxuICAgIGlmIChzdGVwIGluIGV2ZW50SGFuZGxlcnMpIHtcbiAgICAgIHZhciBfZXZlbnRIYW5kbGVycyRzdGVwO1xuXG4gICAgICBzZXRTdHlsZSgoKF9ldmVudEhhbmRsZXJzJHN0ZXAgPSBldmVudEhhbmRsZXJzW3N0ZXBdKSA9PT0gbnVsbCB8fCBfZXZlbnRIYW5kbGVycyRzdGVwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnRIYW5kbGVycyRzdGVwLmNhbGwoZXZlbnRIYW5kbGVycywgZ2V0RG9tRWxlbWVudCgpLCBudWxsKSkgfHwgbnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXAgPT09IFNURVBfQUNUSVZFKSB7XG4gICAgICAvLyBQYXRjaCBldmVudHMgd2hlbiBtb3Rpb24gbmVlZGVkXG4gICAgICBwYXRjaE1vdGlvbkV2ZW50cyhnZXREb21FbGVtZW50KCkpO1xuXG4gICAgICBpZiAobW90aW9uRGVhZGxpbmUgPiAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWFkbGluZVJlZi5jdXJyZW50KTtcbiAgICAgICAgZGVhZGxpbmVSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uSW50ZXJuYWxNb3Rpb25FbmQoe1xuICAgICAgICAgICAgZGVhZGxpbmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgbW90aW9uRGVhZGxpbmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBEb1N0ZXA7XG4gIH0pLFxuICAgICAgX3VzZVN0ZXBRdWV1ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RlcFF1ZXVlLCAyKSxcbiAgICAgIHN0YXJ0U3RlcCA9IF91c2VTdGVwUXVldWUyWzBdLFxuICAgICAgc3RlcCA9IF91c2VTdGVwUXVldWUyWzFdO1xuXG4gIHZhciBhY3RpdmUgPSBpc0FjdGl2ZShzdGVwKTtcbiAgYWN0aXZlUmVmLmN1cnJlbnQgPSBhY3RpdmU7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU3RhdHVzID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVXBkYXRlIHdpdGggbmV3IHN0YXR1c1xuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldEFzeW5jVmlzaWJsZSh2aXNpYmxlKTtcbiAgICB2YXIgaXNNb3VudGVkID0gbW91bnRlZFJlZi5jdXJyZW50O1xuICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG5cbiAgICBpZiAoIXN1cHBvcnRNb3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dFN0YXR1czsgLy8gQXBwZWFyXG5cbiAgICBpZiAoIWlzTW91bnRlZCAmJiB2aXNpYmxlICYmIG1vdGlvbkFwcGVhcikge1xuICAgICAgbmV4dFN0YXR1cyA9IFNUQVRVU19BUFBFQVI7XG4gICAgfSAvLyBFbnRlclxuXG5cbiAgICBpZiAoaXNNb3VudGVkICYmIHZpc2libGUgJiYgbW90aW9uRW50ZXIpIHtcbiAgICAgIG5leHRTdGF0dXMgPSBTVEFUVVNfRU5URVI7XG4gICAgfSAvLyBMZWF2ZVxuXG5cbiAgICBpZiAoaXNNb3VudGVkICYmICF2aXNpYmxlICYmIG1vdGlvbkxlYXZlIHx8ICFpc01vdW50ZWQgJiYgbW90aW9uTGVhdmVJbW1lZGlhdGVseSAmJiAhdmlzaWJsZSAmJiBtb3Rpb25MZWF2ZSkge1xuICAgICAgbmV4dFN0YXR1cyA9IFNUQVRVU19MRUFWRTtcbiAgICB9IC8vIFVwZGF0ZSB0byBuZXh0IHN0YXR1c1xuXG5cbiAgICBpZiAobmV4dFN0YXR1cykge1xuICAgICAgc2V0U3RhdHVzKG5leHRTdGF0dXMpO1xuICAgICAgc3RhcnRTdGVwKCk7XG4gICAgfVxuICB9LCBbdmlzaWJsZV0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVmZmVjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFJlc2V0IHdoZW4gbW90aW9uIGNoYW5nZWRcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICggLy8gQ2FuY2VsIGFwcGVhclxuICAgIHN0YXR1cyA9PT0gU1RBVFVTX0FQUEVBUiAmJiAhbW90aW9uQXBwZWFyIHx8IC8vIENhbmNlbCBlbnRlclxuICAgIHN0YXR1cyA9PT0gU1RBVFVTX0VOVEVSICYmICFtb3Rpb25FbnRlciB8fCAvLyBDYW5jZWwgbGVhdmVcbiAgICBzdGF0dXMgPT09IFNUQVRVU19MRUFWRSAmJiAhbW90aW9uTGVhdmUpIHtcbiAgICAgIHNldFN0YXR1cyhTVEFUVVNfTk9ORSk7XG4gICAgfVxuICB9LCBbbW90aW9uQXBwZWFyLCBtb3Rpb25FbnRlciwgbW90aW9uTGVhdmVdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGRlYWRsaW5lUmVmLmN1cnJlbnQpO1xuICAgICAgZGVzdHJveWVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtdKTsgLy8gVHJpZ2dlciBgb25WaXNpYmxlQ2hhbmdlZGBcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChhc3luY1Zpc2libGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0dXMgPT09IFNUQVRVU19OT05FKSB7XG4gICAgICBvblZpc2libGVDaGFuZ2VkID09PSBudWxsIHx8IG9uVmlzaWJsZUNoYW5nZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uVmlzaWJsZUNoYW5nZWQoYXN5bmNWaXNpYmxlKTtcbiAgICB9XG4gIH0sIFthc3luY1Zpc2libGUsIHN0YXR1c10pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFN0eWxlcyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIG1lcmdlZFN0eWxlID0gc3R5bGU7XG5cbiAgaWYgKGV2ZW50SGFuZGxlcnNbU1RFUF9QUkVQQVJFXSAmJiBzdGVwID09PSBTVEVQX1NUQVJUKSB7XG4gICAgbWVyZ2VkU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIHRyYW5zaXRpb246ICdub25lJ1xuICAgIH0sIG1lcmdlZFN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBbc3RhdHVzLCBzdGVwLCBtZXJnZWRTdHlsZSwgYXN5bmNWaXNpYmxlICE9PSBudWxsICYmIGFzeW5jVmlzaWJsZSAhPT0gdm9pZCAwID8gYXN5bmNWaXNpYmxlIDogdmlzaWJsZV07XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYW5pbWF0aW9uRW5kTmFtZSwgdHJhbnNpdGlvbkVuZE5hbWUgfSBmcm9tICcuLi91dGlsL21vdGlvbic7XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciBjYWNoZUVsZW1lbnRSZWYgPSB1c2VSZWYoKTsgLy8gQ2FjaGUgY2FsbGJhY2tcblxuICB2YXIgY2FsbGJhY2tSZWYgPSB1c2VSZWYoY2FsbGJhY2spO1xuICBjYWxsYmFja1JlZi5jdXJyZW50ID0gY2FsbGJhY2s7IC8vIEludGVybmFsIG1vdGlvbiBldmVudCBoYW5kbGVyXG5cbiAgdmFyIG9uSW50ZXJuYWxNb3Rpb25FbmQgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjYWxsYmFja1JlZi5jdXJyZW50KGV2ZW50KTtcbiAgfSwgW10pOyAvLyBSZW1vdmUgZXZlbnRzXG5cbiAgZnVuY3Rpb24gcmVtb3ZlTW90aW9uRXZlbnRzKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmROYW1lLCBvbkludGVybmFsTW90aW9uRW5kKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhbmltYXRpb25FbmROYW1lLCBvbkludGVybmFsTW90aW9uRW5kKTtcbiAgICB9XG4gIH0gLy8gUGF0Y2ggZXZlbnRzXG5cblxuICBmdW5jdGlvbiBwYXRjaE1vdGlvbkV2ZW50cyhlbGVtZW50KSB7XG4gICAgaWYgKGNhY2hlRWxlbWVudFJlZi5jdXJyZW50ICYmIGNhY2hlRWxlbWVudFJlZi5jdXJyZW50ICE9PSBlbGVtZW50KSB7XG4gICAgICByZW1vdmVNb3Rpb25FdmVudHMoY2FjaGVFbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQgIT09IGNhY2hlRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZE5hbWUsIG9uSW50ZXJuYWxNb3Rpb25FbmQpO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZE5hbWUsIG9uSW50ZXJuYWxNb3Rpb25FbmQpOyAvLyBTYXZlIGFzIGNhY2hlIGluIGNhc2UgZG9tIHJlbW92ZWQgdHJpZ2dlciBieSBgbW90aW9uRGVhZGxpbmVgXG5cbiAgICAgIGNhY2hlRWxlbWVudFJlZi5jdXJyZW50ID0gZWxlbWVudDtcbiAgICB9XG4gIH0gLy8gQ2xlYW4gdXAgd2hlbiByZW1vdmVkXG5cblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVNb3Rpb25FdmVudHMoY2FjaGVFbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIFtwYXRjaE1vdGlvbkV2ZW50cywgcmVtb3ZlTW90aW9uRXZlbnRzXTtcbn0pOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCByYWYgZnJvbSBcInJjLXV0aWwvZXMvcmFmXCI7XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gKCkge1xuICB2YXIgbmV4dEZyYW1lUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIGZ1bmN0aW9uIGNhbmNlbE5leHRGcmFtZSgpIHtcbiAgICByYWYuY2FuY2VsKG5leHRGcmFtZVJlZi5jdXJyZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5leHRGcmFtZShjYWxsYmFjaykge1xuICAgIHZhciBkZWxheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMjtcbiAgICBjYW5jZWxOZXh0RnJhbWUoKTtcbiAgICB2YXIgbmV4dEZyYW1lSWQgPSByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRlbGF5IDw9IDEpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgIGlzQ2FuY2VsZWQ6IGZ1bmN0aW9uIGlzQ2FuY2VsZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dEZyYW1lSWQgIT09IG5leHRGcmFtZVJlZi5jdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0RnJhbWUoY2FsbGJhY2ssIGRlbGF5IC0gMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV4dEZyYW1lUmVmLmN1cnJlbnQgPSBuZXh0RnJhbWVJZDtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbmNlbE5leHRGcmFtZSgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIFtuZXh0RnJhbWUsIGNhbmNlbE5leHRGcmFtZV07XG59KTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG52YXIgRG9tV3JhcHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRG9tV3JhcHBlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEb21XcmFwcGVyKTtcblxuICBmdW5jdGlvbiBEb21XcmFwcGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEb21XcmFwcGVyKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEb21XcmFwcGVyLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERvbVdyYXBwZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IERvbVdyYXBwZXI7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcblxuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZGVmYXVsdC1wcm9wcy1tYXRjaC1wcm9wLXR5cGVzLCByZWFjdC9uby1tdWx0aS1jb21wLCByZWFjdC9wcm9wLXR5cGVzICovXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZmluZERPTU5vZGUgZnJvbSBcInJjLXV0aWwvZXMvRG9tL2ZpbmRET01Ob2RlXCI7XG5pbXBvcnQgeyBmaWxsUmVmIH0gZnJvbSBcInJjLXV0aWwvZXMvcmVmXCI7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGdldFRyYW5zaXRpb25OYW1lLCBzdXBwb3J0VHJhbnNpdGlvbiB9IGZyb20gJy4vdXRpbC9tb3Rpb24nO1xuaW1wb3J0IHsgU1RBVFVTX05PTkUsIFNURVBfUFJFUEFSRSwgU1RFUF9TVEFSVCB9IGZyb20gJy4vaW50ZXJmYWNlJztcbmltcG9ydCB1c2VTdGF0dXMgZnJvbSAnLi9ob29rcy91c2VTdGF0dXMnO1xuaW1wb3J0IERvbVdyYXBwZXIgZnJvbSAnLi9Eb21XcmFwcGVyJztcbmltcG9ydCB7IGlzQWN0aXZlIH0gZnJvbSAnLi9ob29rcy91c2VTdGVwUXVldWUnO1xuLyoqXG4gKiBgdHJhbnNpdGlvblN1cHBvcnRgIGlzIHVzZWQgZm9yIG5vbmUgdHJhbnNpdGlvbiB0ZXN0IGNhc2UuXG4gKiBEZWZhdWx0IHdlIHVzZSBicm93c2VyIHRyYW5zaXRpb24gZXZlbnQgc3VwcG9ydCBjaGVjay5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuQ1NTTW90aW9uKGNvbmZpZykge1xuICB2YXIgdHJhbnNpdGlvblN1cHBvcnQgPSBjb25maWc7XG5cbiAgaWYgKF90eXBlb2YoY29uZmlnKSA9PT0gJ29iamVjdCcpIHtcbiAgICB0cmFuc2l0aW9uU3VwcG9ydCA9IGNvbmZpZy50cmFuc2l0aW9uU3VwcG9ydDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3VwcG9ydFRyYW5zaXRpb24ocHJvcHMpIHtcbiAgICByZXR1cm4gISEocHJvcHMubW90aW9uTmFtZSAmJiB0cmFuc2l0aW9uU3VwcG9ydCk7XG4gIH1cblxuICB2YXIgQ1NTTW90aW9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICB2YXIgX3Byb3BzJHZpc2libGUgPSBwcm9wcy52aXNpYmxlLFxuICAgICAgICB2aXNpYmxlID0gX3Byb3BzJHZpc2libGUgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkdmlzaWJsZSxcbiAgICAgICAgX3Byb3BzJHJlbW92ZU9uTGVhdmUgPSBwcm9wcy5yZW1vdmVPbkxlYXZlLFxuICAgICAgICByZW1vdmVPbkxlYXZlID0gX3Byb3BzJHJlbW92ZU9uTGVhdmUgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkcmVtb3ZlT25MZWF2ZSxcbiAgICAgICAgZm9yY2VSZW5kZXIgPSBwcm9wcy5mb3JjZVJlbmRlcixcbiAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgbW90aW9uTmFtZSA9IHByb3BzLm1vdGlvbk5hbWUsXG4gICAgICAgIGxlYXZlZENsYXNzTmFtZSA9IHByb3BzLmxlYXZlZENsYXNzTmFtZSxcbiAgICAgICAgZXZlbnRQcm9wcyA9IHByb3BzLmV2ZW50UHJvcHM7XG4gICAgdmFyIHN1cHBvcnRNb3Rpb24gPSBpc1N1cHBvcnRUcmFuc2l0aW9uKHByb3BzKTsgLy8gUmVmIHRvIHRoZSByZWFjdCBub2RlLCBpdCBtYXkgYmUgYSBIVE1MRWxlbWVudFxuXG4gICAgdmFyIG5vZGVSZWYgPSB1c2VSZWYoKTsgLy8gUmVmIHRvIHRoZSBkb20gd3JhcHBlciBpbiBjYXNlIHJlZiBjYW4gbm90IHBhc3MgdG8gSFRNTEVsZW1lbnRcblxuICAgIHZhciB3cmFwcGVyTm9kZVJlZiA9IHVzZVJlZigpO1xuXG4gICAgZnVuY3Rpb24gZ2V0RG9tRWxlbWVudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmaW5kRE9NTm9kZShub2RlUmVmLmN1cnJlbnQgfHwgd3JhcHBlck5vZGVSZWYuY3VycmVudCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIE9ubHkgaGFwcGVuIHdoZW4gYG1vdGlvbkRlYWRsaW5lYCB0cmlnZ2VyIGJ1dCBlbGVtZW50IHJlbW92ZWQuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfdXNlU3RhdHVzID0gdXNlU3RhdHVzKHN1cHBvcnRNb3Rpb24sIHZpc2libGUsIGdldERvbUVsZW1lbnQsIHByb3BzKSxcbiAgICAgICAgX3VzZVN0YXR1czIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdHVzLCA0KSxcbiAgICAgICAgc3RhdHVzID0gX3VzZVN0YXR1czJbMF0sXG4gICAgICAgIHN0YXR1c1N0ZXAgPSBfdXNlU3RhdHVzMlsxXSxcbiAgICAgICAgc3RhdHVzU3R5bGUgPSBfdXNlU3RhdHVzMlsyXSxcbiAgICAgICAgbWVyZ2VkVmlzaWJsZSA9IF91c2VTdGF0dXMyWzNdOyAvLyBSZWNvcmQgd2hldGhlciBjb250ZW50IGhhcyByZW5kZWRcbiAgICAvLyBXaWxsIHJldHVybiBudWxsIGZvciB1bi1yZW5kZXJlZCBldmVuIHdoZW4gYHJlbW92ZU9uTGVhdmU9e2ZhbHNlfWBcblxuXG4gICAgdmFyIHJlbmRlcmVkUmVmID0gUmVhY3QudXNlUmVmKG1lcmdlZFZpc2libGUpO1xuXG4gICAgaWYgKG1lcmdlZFZpc2libGUpIHtcbiAgICAgIHJlbmRlcmVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0gLy8gPT09PT09PT09PT09PT09PT09PT09PSBSZWZzID09PT09PT09PT09PT09PT09PT09PT1cblxuXG4gICAgdmFyIG9yaWdpblJlZiA9IHVzZVJlZihyZWYpO1xuICAgIG9yaWdpblJlZi5jdXJyZW50ID0gcmVmO1xuICAgIHZhciBzZXROb2RlUmVmID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIG5vZGVSZWYuY3VycmVudCA9IG5vZGU7XG4gICAgICBmaWxsUmVmKG9yaWdpblJlZi5jdXJyZW50LCBub2RlKTtcbiAgICB9LCBbXSk7IC8vID09PT09PT09PT09PT09PT09PT09PSBSZW5kZXIgPT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB2YXIgbW90aW9uQ2hpbGRyZW47XG5cbiAgICB2YXIgbWVyZ2VkUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGV2ZW50UHJvcHMpLCB7fSwge1xuICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgIH0pO1xuXG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgLy8gTm8gY2hpbGRyZW5cbiAgICAgIG1vdGlvbkNoaWxkcmVuID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgfHwgIWlzU3VwcG9ydFRyYW5zaXRpb24ocHJvcHMpKSB7XG4gICAgICAvLyBTdGFibGUgY2hpbGRyZW5cbiAgICAgIGlmIChtZXJnZWRWaXNpYmxlKSB7XG4gICAgICAgIG1vdGlvbkNoaWxkcmVuID0gY2hpbGRyZW4oX29iamVjdFNwcmVhZCh7fSwgbWVyZ2VkUHJvcHMpLCBzZXROb2RlUmVmKTtcbiAgICAgIH0gZWxzZSBpZiAoIXJlbW92ZU9uTGVhdmUgJiYgcmVuZGVyZWRSZWYuY3VycmVudCkge1xuICAgICAgICBtb3Rpb25DaGlsZHJlbiA9IGNoaWxkcmVuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWVyZ2VkUHJvcHMpLCB7fSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogbGVhdmVkQ2xhc3NOYW1lXG4gICAgICAgIH0pLCBzZXROb2RlUmVmKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9yY2VSZW5kZXIpIHtcbiAgICAgICAgbW90aW9uQ2hpbGRyZW4gPSBjaGlsZHJlbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1lcmdlZFByb3BzKSwge30sIHtcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgfVxuICAgICAgICB9KSwgc2V0Tm9kZVJlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3Rpb25DaGlsZHJlbiA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgLy8gSW4gbW90aW9uXG4gICAgICB2YXIgc3RhdHVzU3VmZml4O1xuXG4gICAgICBpZiAoc3RhdHVzU3RlcCA9PT0gU1RFUF9QUkVQQVJFKSB7XG4gICAgICAgIHN0YXR1c1N1ZmZpeCA9ICdwcmVwYXJlJztcbiAgICAgIH0gZWxzZSBpZiAoaXNBY3RpdmUoc3RhdHVzU3RlcCkpIHtcbiAgICAgICAgc3RhdHVzU3VmZml4ID0gJ2FjdGl2ZSc7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1c1N0ZXAgPT09IFNURVBfU1RBUlQpIHtcbiAgICAgICAgc3RhdHVzU3VmZml4ID0gJ3N0YXJ0JztcbiAgICAgIH1cblxuICAgICAgbW90aW9uQ2hpbGRyZW4gPSBjaGlsZHJlbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1lcmdlZFByb3BzKSwge30sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKGdldFRyYW5zaXRpb25OYW1lKG1vdGlvbk5hbWUsIHN0YXR1cyksIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGdldFRyYW5zaXRpb25OYW1lKG1vdGlvbk5hbWUsIFwiXCIuY29uY2F0KHN0YXR1cywgXCItXCIpLmNvbmNhdChzdGF0dXNTdWZmaXgpKSwgc3RhdHVzU3VmZml4KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBtb3Rpb25OYW1lLCB0eXBlb2YgbW90aW9uTmFtZSA9PT0gJ3N0cmluZycpLCBfY2xhc3NOYW1lcykpLFxuICAgICAgICBzdHlsZTogc3RhdHVzU3R5bGVcbiAgICAgIH0pLCBzZXROb2RlUmVmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRG9tV3JhcHBlciwge1xuICAgICAgcmVmOiB3cmFwcGVyTm9kZVJlZlxuICAgIH0sIG1vdGlvbkNoaWxkcmVuKTtcbiAgfSk7XG4gIENTU01vdGlvbi5kaXNwbGF5TmFtZSA9ICdDU1NNb3Rpb24nO1xuICByZXR1cm4gQ1NTTW90aW9uO1xufVxuZXhwb3J0IGRlZmF1bHQgZ2VuQ1NTTW90aW9uKHN1cHBvcnRUcmFuc2l0aW9uKTsiLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF90eXBlb2YgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZlwiO1xuZXhwb3J0IHZhciBTVEFUVVNfQUREID0gJ2FkZCc7XG5leHBvcnQgdmFyIFNUQVRVU19LRUVQID0gJ2tlZXAnO1xuZXhwb3J0IHZhciBTVEFUVVNfUkVNT1ZFID0gJ3JlbW92ZSc7XG5leHBvcnQgdmFyIFNUQVRVU19SRU1PVkVEID0gJ3JlbW92ZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBLZXlUb09iamVjdChrZXkpIHtcbiAgdmFyIGtleU9iajtcblxuICBpZiAoa2V5ICYmIF90eXBlb2Yoa2V5KSA9PT0gJ29iamVjdCcgJiYgJ2tleScgaW4ga2V5KSB7XG4gICAga2V5T2JqID0ga2V5O1xuICB9IGVsc2Uge1xuICAgIGtleU9iaiA9IHtcbiAgICAgIGtleToga2V5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGtleU9iaiksIHt9LCB7XG4gICAga2V5OiBTdHJpbmcoa2V5T2JqLmtleSlcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VLZXlzKCkge1xuICB2YXIga2V5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIHJldHVybiBrZXlzLm1hcCh3cmFwS2V5VG9PYmplY3QpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZLZXlzKCkge1xuICB2YXIgcHJldktleXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICB2YXIgY3VycmVudEtleXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuICB2YXIgbGlzdCA9IFtdO1xuICB2YXIgY3VycmVudEluZGV4ID0gMDtcbiAgdmFyIGN1cnJlbnRMZW4gPSBjdXJyZW50S2V5cy5sZW5ndGg7XG4gIHZhciBwcmV2S2V5T2JqZWN0cyA9IHBhcnNlS2V5cyhwcmV2S2V5cyk7XG4gIHZhciBjdXJyZW50S2V5T2JqZWN0cyA9IHBhcnNlS2V5cyhjdXJyZW50S2V5cyk7IC8vIENoZWNrIHByZXYga2V5cyB0byBpbnNlcnQgb3Iga2VlcFxuXG4gIHByZXZLZXlPYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKGtleU9iaikge1xuICAgIHZhciBoaXQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5kZXg7IGkgPCBjdXJyZW50TGVuOyBpICs9IDEpIHtcbiAgICAgIHZhciBjdXJyZW50S2V5T2JqID0gY3VycmVudEtleU9iamVjdHNbaV07XG5cbiAgICAgIGlmIChjdXJyZW50S2V5T2JqLmtleSA9PT0ga2V5T2JqLmtleSkge1xuICAgICAgICAvLyBOZXcgYWRkZWQga2V5cyBzaG91bGQgYWRkIGJlZm9yZSBjdXJyZW50IGtleVxuICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgaSkge1xuICAgICAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChjdXJyZW50S2V5T2JqZWN0cy5zbGljZShjdXJyZW50SW5kZXgsIGkpLm1hcChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvYmopLCB7fSwge1xuICAgICAgICAgICAgICBzdGF0dXM6IFNUQVRVU19BRERcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBjdXJyZW50SW5kZXggPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY3VycmVudEtleU9iaiksIHt9LCB7XG4gICAgICAgICAgc3RhdHVzOiBTVEFUVVNfS0VFUFxuICAgICAgICB9KSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCArPSAxO1xuICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IC8vIElmIG5vdCBoaXQsIGl0IG1lYW5zIGtleSBpcyByZW1vdmVkXG5cblxuICAgIGlmICghaGl0KSB7XG4gICAgICBsaXN0LnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBrZXlPYmopLCB7fSwge1xuICAgICAgICBzdGF0dXM6IFNUQVRVU19SRU1PVkVcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pOyAvLyBBZGQgcmVzdCB0byB0aGUgbGlzdFxuXG4gIGlmIChjdXJyZW50SW5kZXggPCBjdXJyZW50TGVuKSB7XG4gICAgbGlzdCA9IGxpc3QuY29uY2F0KGN1cnJlbnRLZXlPYmplY3RzLnNsaWNlKGN1cnJlbnRJbmRleCkubWFwKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9iaiksIHt9LCB7XG4gICAgICAgIHN0YXR1czogU1RBVFVTX0FERFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBNZXJnZSBzYW1lIGtleSB3aGVuIGl0IHJlbW92ZSBhbmQgYWRkIGFnYWluOlxuICAgKiAgICBbMSAtIGFkZCwgMiAtIGtlZXAsIDEgLSByZW1vdmVdIC0+IFsxIC0ga2VlcCwgMiAtIGtlZXBdXG4gICAqL1xuXG5cbiAgdmFyIGtleXMgPSB7fTtcbiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGtleSA9IF9yZWYua2V5O1xuICAgIGtleXNba2V5XSA9IChrZXlzW2tleV0gfHwgMCkgKyAxO1xuICB9KTtcbiAgdmFyIGR1cGxpY2F0ZWRLZXlzID0gT2JqZWN0LmtleXMoa2V5cykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4ga2V5c1trZXldID4gMTtcbiAgfSk7XG4gIGR1cGxpY2F0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKG1hdGNoS2V5KSB7XG4gICAgLy8gUmVtb3ZlIGBTVEFUVVNfUkVNT1ZFYCBub2RlLlxuICAgIGxpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBrZXkgPSBfcmVmMi5rZXksXG4gICAgICAgICAgc3RhdHVzID0gX3JlZjIuc3RhdHVzO1xuICAgICAgcmV0dXJuIGtleSAhPT0gbWF0Y2hLZXkgfHwgc3RhdHVzICE9PSBTVEFUVVNfUkVNT1ZFO1xuICAgIH0pOyAvLyBVcGRhdGUgYFNUQVRVU19BRERgIHRvIGBTVEFUVVNfS0VFUGBcblxuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKG5vZGUua2V5ID09PSBtYXRjaEtleSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgbm9kZS5zdGF0dXMgPSBTVEFUVVNfS0VFUDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBsaXN0O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIjtcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuXG4vKiBlc2xpbnQgcmVhY3QvcHJvcC10eXBlczogMCAqL1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE9yaWdpbkNTU01vdGlvbiBmcm9tICcuL0NTU01vdGlvbic7XG5pbXBvcnQgeyBzdXBwb3J0VHJhbnNpdGlvbiB9IGZyb20gJy4vdXRpbC9tb3Rpb24nO1xuaW1wb3J0IHsgU1RBVFVTX0FERCwgU1RBVFVTX0tFRVAsIFNUQVRVU19SRU1PVkUsIFNUQVRVU19SRU1PVkVELCBkaWZmS2V5cywgcGFyc2VLZXlzIH0gZnJvbSAnLi91dGlsL2RpZmYnO1xudmFyIE1PVElPTl9QUk9QX05BTUVTID0gWydldmVudFByb3BzJywgJ3Zpc2libGUnLCAnY2hpbGRyZW4nLCAnbW90aW9uTmFtZScsICdtb3Rpb25BcHBlYXInLCAnbW90aW9uRW50ZXInLCAnbW90aW9uTGVhdmUnLCAnbW90aW9uTGVhdmVJbW1lZGlhdGVseScsICdtb3Rpb25EZWFkbGluZScsICdyZW1vdmVPbkxlYXZlJywgJ2xlYXZlZENsYXNzTmFtZScsICdvbkFwcGVhclN0YXJ0JywgJ29uQXBwZWFyQWN0aXZlJywgJ29uQXBwZWFyRW5kJywgJ29uRW50ZXJTdGFydCcsICdvbkVudGVyQWN0aXZlJywgJ29uRW50ZXJFbmQnLCAnb25MZWF2ZVN0YXJ0JywgJ29uTGVhdmVBY3RpdmUnLCAnb25MZWF2ZUVuZCddO1xuLyoqXG4gKiBHZW5lcmF0ZSBhIENTU01vdGlvbkxpc3QgY29tcG9uZW50IHdpdGggY29uZmlnXG4gKiBAcGFyYW0gdHJhbnNpdGlvblN1cHBvcnQgTm8gbmVlZCBzaW5jZSBDU1NNb3Rpb25MaXN0IG5vIGxvbmdlciBkZXBlbmRzIG9uIHRyYW5zaXRpb24gc3VwcG9ydFxuICogQHBhcmFtIENTU01vdGlvbiBDU1NNb3Rpb24gY29tcG9uZW50XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbkNTU01vdGlvbkxpc3QodHJhbnNpdGlvblN1cHBvcnQpIHtcbiAgdmFyIENTU01vdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogT3JpZ2luQ1NTTW90aW9uO1xuXG4gIHZhciBDU1NNb3Rpb25MaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKENTU01vdGlvbkxpc3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDU1NNb3Rpb25MaXN0KTtcblxuICAgIGZ1bmN0aW9uIENTU01vdGlvbkxpc3QoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NNb3Rpb25MaXN0KTtcblxuICAgICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICBrZXlFbnRpdGllczogW11cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLnJlbW92ZUtleSA9IGZ1bmN0aW9uIChyZW1vdmVLZXkpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIga2V5RW50aXRpZXMgPSBfcmVmLmtleUVudGl0aWVzO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXlFbnRpdGllczoga2V5RW50aXRpZXMubWFwKGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgaWYgKGVudGl0eS5rZXkgIT09IHJlbW92ZUtleSkgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZW50aXR5KSwge30sIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFNUQVRVU19SRU1PVkVEXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ1NTTW90aW9uTGlzdCwgW3tcbiAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBrZXlFbnRpdGllcyA9IHRoaXMuc3RhdGUua2V5RW50aXRpZXM7XG5cbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IF90aGlzJHByb3BzLmNvbXBvbmVudCxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICBfb25WaXNpYmxlQ2hhbmdlZCA9IF90aGlzJHByb3BzLm9uVmlzaWJsZUNoYW5nZWQsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHMsIFtcImNvbXBvbmVudFwiLCBcImNoaWxkcmVuXCIsIFwib25WaXNpYmxlQ2hhbmdlZFwiXSk7XG5cbiAgICAgICAgdmFyIENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBSZWFjdC5GcmFnbWVudDtcbiAgICAgICAgdmFyIG1vdGlvblByb3BzID0ge307XG4gICAgICAgIE1PVElPTl9QUk9QX05BTUVTLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICBtb3Rpb25Qcm9wc1twcm9wXSA9IHJlc3RQcm9wc1twcm9wXTtcbiAgICAgICAgICBkZWxldGUgcmVzdFByb3BzW3Byb3BdO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVsZXRlIHJlc3RQcm9wcy5rZXlzO1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCByZXN0UHJvcHMsIGtleUVudGl0aWVzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0gX3JlZjIuc3RhdHVzLFxuICAgICAgICAgICAgICBldmVudFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbXCJzdGF0dXNcIl0pO1xuXG4gICAgICAgICAgdmFyIHZpc2libGUgPSBzdGF0dXMgPT09IFNUQVRVU19BREQgfHwgc3RhdHVzID09PSBTVEFUVVNfS0VFUDtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NTTW90aW9uLCBfZXh0ZW5kcyh7fSwgbW90aW9uUHJvcHMsIHtcbiAgICAgICAgICAgIGtleTogZXZlbnRQcm9wcy5rZXksXG4gICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgICAgZXZlbnRQcm9wczogZXZlbnRQcm9wcyxcbiAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZWQ6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZWQoY2hhbmdlZFZpc2libGUpIHtcbiAgICAgICAgICAgICAgX29uVmlzaWJsZUNoYW5nZWQgPT09IG51bGwgfHwgX29uVmlzaWJsZUNoYW5nZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vblZpc2libGVDaGFuZ2VkKGNoYW5nZWRWaXNpYmxlLCB7XG4gICAgICAgICAgICAgICAga2V5OiBldmVudFByb3BzLmtleVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAoIWNoYW5nZWRWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLnJlbW92ZUtleShldmVudFByb3BzLmtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgY2hpbGRyZW4pO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfV0sIFt7XG4gICAgICBrZXk6IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKF9yZWYzLCBfcmVmNCkge1xuICAgICAgICB2YXIga2V5cyA9IF9yZWYzLmtleXM7XG4gICAgICAgIHZhciBrZXlFbnRpdGllcyA9IF9yZWY0LmtleUVudGl0aWVzO1xuICAgICAgICB2YXIgcGFyc2VkS2V5T2JqZWN0cyA9IHBhcnNlS2V5cyhrZXlzKTtcbiAgICAgICAgdmFyIG1peGVkS2V5RW50aXRpZXMgPSBkaWZmS2V5cyhrZXlFbnRpdGllcywgcGFyc2VkS2V5T2JqZWN0cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5RW50aXRpZXM6IG1peGVkS2V5RW50aXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgIHZhciBwcmV2RW50aXR5ID0ga2V5RW50aXRpZXMuZmluZChmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgICAgICAgICAgdmFyIGtleSA9IF9yZWY1LmtleTtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5rZXkgPT09IGtleTtcbiAgICAgICAgICAgIH0pOyAvLyBSZW1vdmUgaWYgYWxyZWFkeSBtYXJrIGFzIHJlbW92ZWRcblxuICAgICAgICAgICAgaWYgKHByZXZFbnRpdHkgJiYgcHJldkVudGl0eS5zdGF0dXMgPT09IFNUQVRVU19SRU1PVkVEICYmIGVudGl0eS5zdGF0dXMgPT09IFNUQVRVU19SRU1PVkUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBDU1NNb3Rpb25MaXN0O1xuICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgQ1NTTW90aW9uTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tcG9uZW50OiAnZGl2J1xuICB9O1xuICByZXR1cm4gQ1NTTW90aW9uTGlzdDtcbn1cbmV4cG9ydCBkZWZhdWx0IGdlbkNTU01vdGlvbkxpc3Qoc3VwcG9ydFRyYW5zaXRpb24pOyIsImltcG9ydCBDU1NNb3Rpb24gZnJvbSAnLi9DU1NNb3Rpb24nO1xuaW1wb3J0IENTU01vdGlvbkxpc3QgZnJvbSAnLi9DU1NNb3Rpb25MaXN0JztcbmV4cG9ydCB7IENTU01vdGlvbkxpc3QgfTtcbmV4cG9ydCBkZWZhdWx0IENTU01vdGlvbjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzXCI7XG5pbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlclwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxudmFyIE5vdGljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTm90aWNlLCBfQ29tcG9uZW50KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE5vdGljZSk7XG5cbiAgZnVuY3Rpb24gTm90aWNlKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RpY2UpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwuYXBwbHkoX3N1cGVyLCBbdGhpc10uY29uY2F0KGFyZ3MpKTtcbiAgICBfdGhpcy5jbG9zZVRpbWVyID0gbnVsbDtcblxuICAgIF90aGlzLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNsZWFyQ2xvc2VUaW1lcigpO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkNsb3NlID0gX3RoaXMkcHJvcHMub25DbG9zZSxcbiAgICAgICAgICBub3RpY2VLZXkgPSBfdGhpcyRwcm9wcy5ub3RpY2VLZXk7XG5cbiAgICAgIGlmIChvbkNsb3NlKSB7XG4gICAgICAgIG9uQ2xvc2Uobm90aWNlS2V5KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhcnRDbG9zZVRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmR1cmF0aW9uKSB7XG4gICAgICAgIF90aGlzLmNsb3NlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgICAgfSwgX3RoaXMucHJvcHMuZHVyYXRpb24gKiAxMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2xlYXJDbG9zZVRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLmNsb3NlVGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmNsb3NlVGltZXIpO1xuICAgICAgICBfdGhpcy5jbG9zZVRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vdGljZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLnN0YXJ0Q2xvc2VUaW1lcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZHVyYXRpb24gIT09IHByZXZQcm9wcy5kdXJhdGlvbiB8fCB0aGlzLnByb3BzLnVwZGF0ZU1hcmsgIT09IHByZXZQcm9wcy51cGRhdGVNYXJrIHx8IC8vIFZpc2libGUgYWdhaW4gbmVlZCByZXNldCB0aW1lclxuICAgICAgdGhpcy5wcm9wcy52aXNpYmxlICE9PSBwcmV2UHJvcHMudmlzaWJsZSAmJiB0aGlzLnByb3BzLnZpc2libGUpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0Q2xvc2VUaW1lcigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuY2xlYXJDbG9zZVRpbWVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc3RhcnRDbG9zZVRpbWVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc3RhcnRDbG9zZVRpbWVyKCkge1xuICAgICAgdGhpcy5jbGVhckNsb3NlVGltZXIoKTtcbiAgICAgIHRoaXMuc3RhcnRDbG9zZVRpbWVyKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3RoaXMkcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczIuY2xhc3NOYW1lLFxuICAgICAgICAgIGNsb3NhYmxlID0gX3RoaXMkcHJvcHMyLmNsb3NhYmxlLFxuICAgICAgICAgIGNsb3NlSWNvbiA9IF90aGlzJHByb3BzMi5jbG9zZUljb24sXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczIuc3R5bGUsXG4gICAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzMi5vbkNsaWNrLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMyLmNoaWxkcmVuLFxuICAgICAgICAgIGhvbGRlciA9IF90aGlzJHByb3BzMi5ob2xkZXI7XG4gICAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLW5vdGljZVwiKTtcbiAgICAgIHZhciBkYXRhT3JBcmlhQXR0cmlidXRlUHJvcHMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGlmIChrZXkuc3Vic3RyKDAsIDUpID09PSAnZGF0YS0nIHx8IGtleS5zdWJzdHIoMCwgNSkgPT09ICdhcmlhLScgfHwga2V5ID09PSAncm9sZScpIHtcbiAgICAgICAgICBhY2Nba2V5XSA9IF90aGlzMi5wcm9wc1trZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICAgIHZhciBub2RlID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX2V4dGVuZHMoe1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoY29tcG9uZW50Q2xhc3MsIGNsYXNzTmFtZSwgX2RlZmluZVByb3BlcnR5KHt9LCBcIlwiLmNvbmNhdChjb21wb25lbnRDbGFzcywgXCItY2xvc2FibGVcIiksIGNsb3NhYmxlKSksXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLmNsZWFyQ2xvc2VUaW1lcixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLnN0YXJ0Q2xvc2VUaW1lcixcbiAgICAgICAgb25DbGljazogb25DbGlja1xuICAgICAgfSwgZGF0YU9yQXJpYUF0dHJpYnV0ZVByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KGNvbXBvbmVudENsYXNzLCBcIi1jb250ZW50XCIpXG4gICAgICB9LCBjaGlsZHJlbiksIGNsb3NhYmxlID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHtcbiAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xvc2UsXG4gICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQoY29tcG9uZW50Q2xhc3MsIFwiLWNsb3NlXCIpXG4gICAgICB9LCBjbG9zZUljb24gfHwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChjb21wb25lbnRDbGFzcywgXCItY2xvc2UteFwiKVxuICAgICAgfSkpIDogbnVsbCk7XG5cbiAgICAgIGlmIChob2xkZXIpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdERPTS5jcmVhdGVQb3J0YWwobm9kZSwgaG9sZGVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdGljZTtcbn0oQ29tcG9uZW50KTtcblxuTm90aWNlLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHt9LFxuICBkdXJhdGlvbjogMS41XG59O1xuZXhwb3J0IHsgTm90aWNlIGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMlwiO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c1wiO1xuaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBDU1NNb3Rpb25MaXN0IH0gZnJvbSAncmMtbW90aW9uJztcbmltcG9ydCBOb3RpY2UgZnJvbSAnLi9Ob3RpY2UnO1xuaW1wb3J0IF91c2VOb3RpZmljYXRpb24gZnJvbSAnLi91c2VOb3RpZmljYXRpb24nO1xudmFyIHNlZWQgPSAwO1xudmFyIG5vdyA9IERhdGUubm93KCk7XG5cbmZ1bmN0aW9uIGdldFV1aWQoKSB7XG4gIHZhciBpZCA9IHNlZWQ7XG4gIHNlZWQgKz0gMTtcbiAgcmV0dXJuIFwicmNOb3RpZmljYXRpb25fXCIuY29uY2F0KG5vdywgXCJfXCIpLmNvbmNhdChpZCk7XG59XG5cbnZhciBOb3RpZmljYXRpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE5vdGlmaWNhdGlvbiwgX0NvbXBvbmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOb3RpZmljYXRpb24pO1xuXG4gIGZ1bmN0aW9uIE5vdGlmaWNhdGlvbigpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90aWZpY2F0aW9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBub3RpY2VzOiBbXVxuICAgIH07XG4gICAgX3RoaXMuaG9va1JlZnMgPSBuZXcgTWFwKCk7XG5cbiAgICBfdGhpcy5hZGQgPSBmdW5jdGlvbiAob3JpZ2luTm90aWNlLCBob2xkZXJDYWxsYmFjaykge1xuICAgICAgdmFyIGtleSA9IG9yaWdpbk5vdGljZS5rZXkgfHwgZ2V0VXVpZCgpO1xuXG4gICAgICB2YXIgbm90aWNlID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcmlnaW5Ob3RpY2UpLCB7fSwge1xuICAgICAgICBrZXk6IGtleVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBtYXhDb3VudCA9IF90aGlzLnByb3BzLm1heENvdW50O1xuXG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldmlvdXNTdGF0ZSkge1xuICAgICAgICB2YXIgbm90aWNlcyA9IHByZXZpb3VzU3RhdGUubm90aWNlcztcbiAgICAgICAgdmFyIG5vdGljZUluZGV4ID0gbm90aWNlcy5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICByZXR1cm4gdi5ub3RpY2Uua2V5O1xuICAgICAgICB9KS5pbmRleE9mKGtleSk7XG4gICAgICAgIHZhciB1cGRhdGVkTm90aWNlcyA9IG5vdGljZXMuY29uY2F0KCk7XG5cbiAgICAgICAgaWYgKG5vdGljZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHVwZGF0ZWROb3RpY2VzLnNwbGljZShub3RpY2VJbmRleCwgMSwge1xuICAgICAgICAgICAgbm90aWNlOiBub3RpY2UsXG4gICAgICAgICAgICBob2xkZXJDYWxsYmFjazogaG9sZGVyQ2FsbGJhY2tcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobWF4Q291bnQgJiYgbm90aWNlcy5sZW5ndGggPj0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIC8vIFhYWCwgdXNlIGtleSBvZiBmaXJzdCBpdGVtIHRvIHVwZGF0ZSBuZXcgYWRkZWQgKGxldCBSZWFjdCB0byBtb3ZlIGV4c2l0aW5nXG4gICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHJlbW92ZSBhbmQgbW91bnQpLiBTYW1lIGtleSB3YXMgdXNlZCBiZWZvcmUgZm9yIGJvdGggYSkgZXh0ZXJuYWxcbiAgICAgICAgICAgIC8vIG1hbnVhbCBjb250cm9sIGFuZCBiKSBpbnRlcm5hbCByZWFjdCAna2V5JyBwcm9wICwgd2hpY2ggaXMgbm90IHRoYXQgZ29vZC5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgLy8gem9tYmllSjogTm90IGtub3cgd2h5IHVzZSBgdXBkYXRlS2V5YC4gVGhpcyBtYWtlcyBOb3RpY2UgaW5maW5pdGUgbG9vcCBpbiBqZXN0LlxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRvIGB1cGRhdGVNYXJrYCBmb3IgY29tcGFyZSBpbnN0ZWFkLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9ub3RpZmljYXRpb24vY29tbWl0LzMyMjk5ZTZiZTM5NmY5NDA0MGJmYTgyNTE3ZWVhOTQwZGI5NDdlY2VcbiAgICAgICAgICAgIG5vdGljZS5rZXkgPSB1cGRhdGVkTm90aWNlc1swXS5ub3RpY2Uua2V5O1xuICAgICAgICAgICAgbm90aWNlLnVwZGF0ZU1hcmsgPSBnZXRVdWlkKCk7IC8vIHpvbWJpZUo6IFRoYXQncyB3aHkuIFVzZXIgbWF5IGNsb3NlIGJ5IGtleSBkaXJlY3RseS5cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgcmVjb3JkIHRoaXMgYnV0IG5vdCByZS1yZW5kZXIgdG8gYXZvaWQgdXBwZXIgaXNzdWVcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvbm90aWZpY2F0aW9uL2lzc3Vlcy8xMjlcblxuICAgICAgICAgICAgbm90aWNlLnVzZXJQYXNzS2V5ID0ga2V5O1xuICAgICAgICAgICAgdXBkYXRlZE5vdGljZXMuc2hpZnQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB1cGRhdGVkTm90aWNlcy5wdXNoKHtcbiAgICAgICAgICAgIG5vdGljZTogbm90aWNlLFxuICAgICAgICAgICAgaG9sZGVyQ2FsbGJhY2s6IGhvbGRlckNhbGxiYWNrXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vdGljZXM6IHVwZGF0ZWROb3RpY2VzXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJlbW92ZUtleSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgdmFyIG5vdGljZXMgPSBfcmVmLm5vdGljZXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm90aWNlczogbm90aWNlcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgX3JlZjIkbm90aWNlID0gX3JlZjIubm90aWNlLFxuICAgICAgICAgICAgICAgIGtleSA9IF9yZWYyJG5vdGljZS5rZXksXG4gICAgICAgICAgICAgICAgdXNlclBhc3NLZXkgPSBfcmVmMiRub3RpY2UudXNlclBhc3NLZXk7XG4gICAgICAgICAgICB2YXIgbWVyZ2VkS2V5ID0gdXNlclBhc3NLZXkgfHwga2V5O1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZEtleSAhPT0gcmVtb3ZlS2V5O1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMubm90aWNlUHJvcHNNYXAgPSB7fTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTm90aWZpY2F0aW9uLCBbe1xuICAgIGtleTogXCJnZXRUcmFuc2l0aW9uTmFtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3RoaXMkcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgIGFuaW1hdGlvbiA9IF90aGlzJHByb3BzLmFuaW1hdGlvbjtcbiAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHRoaXMucHJvcHMudHJhbnNpdGlvbk5hbWU7XG5cbiAgICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgYW5pbWF0aW9uKSB7XG4gICAgICAgIHRyYW5zaXRpb25OYW1lID0gXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1cIikuY29uY2F0KGFuaW1hdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgbm90aWNlcyA9IHRoaXMuc3RhdGUubm90aWNlcztcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzMi5wcmVmaXhDbHMsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHMyLmNsYXNzTmFtZSxcbiAgICAgICAgICBjbG9zZUljb24gPSBfdGhpcyRwcm9wczIuY2xvc2VJY29uLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMyLnN0eWxlO1xuICAgICAgdmFyIG5vdGljZUtleXMgPSBbXTtcbiAgICAgIG5vdGljZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMsIGluZGV4KSB7XG4gICAgICAgIHZhciBub3RpY2UgPSBfcmVmMy5ub3RpY2UsXG4gICAgICAgICAgICBob2xkZXJDYWxsYmFjayA9IF9yZWYzLmhvbGRlckNhbGxiYWNrO1xuICAgICAgICB2YXIgdXBkYXRlTWFyayA9IGluZGV4ID09PSBub3RpY2VzLmxlbmd0aCAtIDEgPyBub3RpY2UudXBkYXRlTWFyayA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGtleSA9IG5vdGljZS5rZXksXG4gICAgICAgICAgICB1c2VyUGFzc0tleSA9IG5vdGljZS51c2VyUGFzc0tleTtcblxuICAgICAgICB2YXIgbm90aWNlUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgY2xvc2VJY29uOiBjbG9zZUljb25cbiAgICAgICAgfSwgbm90aWNlKSwgbm90aWNlLnByb3BzKSwge30sIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBub3RpY2VLZXk6IHVzZXJQYXNzS2V5IHx8IGtleSxcbiAgICAgICAgICB1cGRhdGVNYXJrOiB1cGRhdGVNYXJrLFxuICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2Uobm90aWNlS2V5KSB7XG4gICAgICAgICAgICB2YXIgX25vdGljZSRvbkNsb3NlO1xuXG4gICAgICAgICAgICBfdGhpczIucmVtb3ZlKG5vdGljZUtleSk7XG5cbiAgICAgICAgICAgIChfbm90aWNlJG9uQ2xvc2UgPSBub3RpY2Uub25DbG9zZSkgPT09IG51bGwgfHwgX25vdGljZSRvbkNsb3NlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm90aWNlJG9uQ2xvc2UuY2FsbChub3RpY2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25DbGljazogbm90aWNlLm9uQ2xpY2ssXG4gICAgICAgICAgY2hpbGRyZW46IG5vdGljZS5jb250ZW50XG4gICAgICAgIH0pOyAvLyBHaXZlIHRvIG1vdGlvblxuXG5cbiAgICAgICAgbm90aWNlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIF90aGlzMi5ub3RpY2VQcm9wc01hcFtrZXldID0ge1xuICAgICAgICAgIHByb3BzOiBub3RpY2VQcm9wcyxcbiAgICAgICAgICBob2xkZXJDYWxsYmFjazogaG9sZGVyQ2FsbGJhY2tcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHByZWZpeENscywgY2xhc3NOYW1lKSxcbiAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU1NNb3Rpb25MaXN0LCB7XG4gICAgICAgIGtleXM6IG5vdGljZUtleXMsXG4gICAgICAgIG1vdGlvbk5hbWU6IHRoaXMuZ2V0VHJhbnNpdGlvbk5hbWUoKSxcbiAgICAgICAgb25WaXNpYmxlQ2hhbmdlZDogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlZChjaGFuZ2VkVmlzaWJsZSwgX3JlZjQpIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3JlZjQua2V5O1xuXG4gICAgICAgICAgaWYgKCFjaGFuZ2VkVmlzaWJsZSkge1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzMi5ub3RpY2VQcm9wc01hcFtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgIHZhciBrZXkgPSBfcmVmNS5rZXksXG4gICAgICAgICAgICBtb3Rpb25DbGFzc05hbWUgPSBfcmVmNS5jbGFzc05hbWUsXG4gICAgICAgICAgICBtb3Rpb25TdHlsZSA9IF9yZWY1LnN0eWxlLFxuICAgICAgICAgICAgdmlzaWJsZSA9IF9yZWY1LnZpc2libGU7XG4gICAgICAgIHZhciBfdGhpczIkbm90aWNlUHJvcHNNYXAgPSBfdGhpczIubm90aWNlUHJvcHNNYXBba2V5XSxcbiAgICAgICAgICAgIG5vdGljZVByb3BzID0gX3RoaXMyJG5vdGljZVByb3BzTWFwLnByb3BzLFxuICAgICAgICAgICAgaG9sZGVyQ2FsbGJhY2sgPSBfdGhpczIkbm90aWNlUHJvcHNNYXAuaG9sZGVyQ2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKGhvbGRlckNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKG1vdGlvbkNsYXNzTmFtZSwgXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1ob29rLWhvbGRlclwiKSksXG4gICAgICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCh7fSwgbW90aW9uU3R5bGUpLFxuICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoZGl2KSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChkaXYpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIuaG9va1JlZnMuc2V0KGtleSwgZGl2KTtcblxuICAgICAgICAgICAgICAgIGhvbGRlckNhbGxiYWNrKGRpdiwgbm90aWNlUHJvcHMpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMi5ob29rUmVmcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5vdGljZSwgX2V4dGVuZHMoe30sIG5vdGljZVByb3BzLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKG1vdGlvbkNsYXNzTmFtZSwgbm90aWNlUHJvcHMgPT09IG51bGwgfHwgbm90aWNlUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vdGljZVByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbW90aW9uU3R5bGUpLCBub3RpY2VQcm9wcyA9PT0gbnVsbCB8fCBub3RpY2VQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm90aWNlUHJvcHMuc3R5bGUpLFxuICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfSkpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBOb3RpZmljYXRpb247XG59KENvbXBvbmVudCk7XG5cbk5vdGlmaWNhdGlvbi5uZXdJbnN0YW5jZSA9IHZvaWQgMDtcbk5vdGlmaWNhdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ3JjLW5vdGlmaWNhdGlvbicsXG4gIGFuaW1hdGlvbjogJ2ZhZGUnLFxuICBzdHlsZToge1xuICAgIHRvcDogNjUsXG4gICAgbGVmdDogJzUwJSdcbiAgfVxufTtcblxuTm90aWZpY2F0aW9uLm5ld0luc3RhbmNlID0gZnVuY3Rpb24gbmV3Tm90aWZpY2F0aW9uSW5zdGFuY2UocHJvcGVydGllcywgY2FsbGJhY2spIHtcbiAgdmFyIF9yZWY2ID0gcHJvcGVydGllcyB8fCB7fSxcbiAgICAgIGdldENvbnRhaW5lciA9IF9yZWY2LmdldENvbnRhaW5lcixcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY2LCBbXCJnZXRDb250YWluZXJcIl0pO1xuXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBpZiAoZ2V0Q29udGFpbmVyKSB7XG4gICAgdmFyIHJvb3QgPSBnZXRDb250YWluZXIoKTtcbiAgICByb290LmFwcGVuZENoaWxkKGRpdik7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICB9XG5cbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHJlZihub3RpZmljYXRpb24pIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBjYWxsYmFjayh7XG4gICAgICBub3RpY2U6IGZ1bmN0aW9uIG5vdGljZShub3RpY2VQcm9wcykge1xuICAgICAgICBub3RpZmljYXRpb24uYWRkKG5vdGljZVByb3BzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVOb3RpY2U6IGZ1bmN0aW9uIHJlbW92ZU5vdGljZShrZXkpIHtcbiAgICAgICAgbm90aWZpY2F0aW9uLnJlbW92ZShrZXkpO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudDogbm90aWZpY2F0aW9uLFxuICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkaXYpO1xuXG4gICAgICAgIGlmIChkaXYucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBIb29rc1xuICAgICAgdXNlTm90aWZpY2F0aW9uOiBmdW5jdGlvbiB1c2VOb3RpZmljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBfdXNlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gLy8gT25seSB1c2VkIGZvciB0ZXN0IGNhc2UgdXNhZ2VcblxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnICYmIHByb3BlcnRpZXMuVEVTVF9SRU5ERVIpIHtcbiAgICBwcm9wZXJ0aWVzLlRFU1RfUkVOREVSKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOb3RpZmljYXRpb24sIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgcmVmOiByZWZcbiAgICB9KSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIFJlYWN0RE9NLnJlbmRlciggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTm90aWZpY2F0aW9uLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZlxuICB9KSksIGRpdik7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb247IiwiaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb247IiwiaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXlcIjtcbmltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm90aWNlIGZyb20gJy4vTm90aWNlJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JbnN0YW5jZSkge1xuICB2YXIgY3JlYXRlZFJlZiA9IFJlYWN0LnVzZVJlZih7fSk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKFtdKSxcbiAgICAgIF9SZWFjdCR1c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfUmVhY3QkdXNlU3RhdGUsIDIpLFxuICAgICAgZWxlbWVudHMgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RWxlbWVudHMgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIGZ1bmN0aW9uIG5vdGlmeShub3RpY2VQcm9wcykge1xuICAgIHZhciBmaXJzdE1vdW50ID0gdHJ1ZTtcbiAgICBub3RpZmljYXRpb25JbnN0YW5jZS5hZGQobm90aWNlUHJvcHMsIGZ1bmN0aW9uIChkaXYsIHByb3BzKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHMua2V5O1xuXG4gICAgICBpZiAoZGl2ICYmICghY3JlYXRlZFJlZi5jdXJyZW50W2tleV0gfHwgZmlyc3RNb3VudCkpIHtcbiAgICAgICAgdmFyIG5vdGljZUVsZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE5vdGljZSwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgaG9sZGVyOiBkaXZcbiAgICAgICAgfSkpO1xuICAgICAgICBjcmVhdGVkUmVmLmN1cnJlbnRba2V5XSA9IG5vdGljZUVsZTtcbiAgICAgICAgc2V0RWxlbWVudHMoZnVuY3Rpb24gKG9yaWdpbkVsZW1lbnRzKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gb3JpZ2luRWxlbWVudHMuZmluZEluZGV4KGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGUua2V5ID09PSBwcm9wcy5rZXk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvcmlnaW5FbGVtZW50cyksIFtub3RpY2VFbGVdKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY2xvbmVMaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KG9yaWdpbkVsZW1lbnRzKTtcblxuICAgICAgICAgIGNsb25lTGlzdFtpbmRleF0gPSBub3RpY2VFbGU7XG4gICAgICAgICAgcmV0dXJuIGNsb25lTGlzdDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZpcnN0TW91bnQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBbbm90aWZ5LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZWxlbWVudHMpXTtcbn0iXSwic291cmNlUm9vdCI6IiJ9